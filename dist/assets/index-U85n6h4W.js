function l2(g,E){for(var m=0;m<E.length;m++){const A=E[m];if(typeof A!="string"&&!Array.isArray(A)){for(const C in A)if(C!=="default"&&!(C in g)){const w=Object.getOwnPropertyDescriptor(A,C);w&&Object.defineProperty(g,C,w.get?w:{enumerable:!0,get:()=>A[C]})}}}return Object.freeze(Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}))}(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const C of document.querySelectorAll('link[rel="modulepreload"]'))A(C);new MutationObserver(C=>{for(const w of C)if(w.type==="childList")for(const _ of w.addedNodes)_.tagName==="LINK"&&_.rel==="modulepreload"&&A(_)}).observe(document,{childList:!0,subtree:!0});function m(C){const w={};return C.integrity&&(w.integrity=C.integrity),C.referrerPolicy&&(w.referrerPolicy=C.referrerPolicy),C.crossOrigin==="use-credentials"?w.credentials="include":C.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function A(C){if(C.ep)return;C.ep=!0;const w=m(C);fetch(C.href,w)}})();var Mo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kc(g){return g&&g.__esModule&&Object.prototype.hasOwnProperty.call(g,"default")?g.default:g}var Pc={exports:{}},ds={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var th;function s2(){if(th)return ds;th=1;var g=Symbol.for("react.transitional.element"),E=Symbol.for("react.fragment");function m(A,C,w){var _=null;if(w!==void 0&&(_=""+w),C.key!==void 0&&(_=""+C.key),"key"in C){w={};for(var M in C)M!=="key"&&(w[M]=C[M])}else w=C;return C=w.ref,{$$typeof:g,type:A,key:_,ref:C!==void 0?C:null,props:w}}return ds.Fragment=E,ds.jsx=m,ds.jsxs=m,ds}var nh;function o2(){return nh||(nh=1,Pc.exports=s2()),Pc.exports}var P=o2(),Hc={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih;function u2(){if(ih)return Ze;ih=1;var g=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),_=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),k=Symbol.iterator;function re(U){return U===null||typeof U!="object"?null:(U=k&&U[k]||U["@@iterator"],typeof U=="function"?U:null)}var ce={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pe=Object.assign,Ae={};function we(U,le,xe){this.props=U,this.context=le,this.refs=Ae,this.updater=xe||ce}we.prototype.isReactComponent={},we.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},we.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function Ne(){}Ne.prototype=we.prototype;function me(U,le,xe){this.props=U,this.context=le,this.refs=Ae,this.updater=xe||ce}var de=me.prototype=new Ne;de.constructor=me,pe(de,we.prototype),de.isPureReactComponent=!0;var Oe=Array.isArray,Be={H:null,A:null,T:null,S:null,V:null},ke=Object.prototype.hasOwnProperty;function se(U,le,xe,Ee,be,tt){return xe=tt.ref,{$$typeof:g,type:U,key:le,ref:xe!==void 0?xe:null,props:tt}}function Me(U,le){return se(U.type,le,void 0,void 0,void 0,U.props)}function ie(U){return typeof U=="object"&&U!==null&&U.$$typeof===g}function Gt(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(xe){return le[xe]})}var gt=/\/+/g;function ve(U,le){return typeof U=="object"&&U!==null&&U.key!=null?Gt(""+U.key):le.toString(36)}function Qe(){}function pt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Qe,Qe):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function J(U,le,xe,Ee,be){var tt=typeof U;(tt==="undefined"||tt==="boolean")&&(U=null);var he=!1;if(U===null)he=!0;else switch(tt){case"bigint":case"string":case"number":he=!0;break;case"object":switch(U.$$typeof){case g:case E:he=!0;break;case I:return he=U._init,J(he(U._payload),le,xe,Ee,be)}}if(he)return be=be(U),he=Ee===""?"."+ve(U,0):Ee,Oe(be)?(xe="",he!=null&&(xe=he.replace(gt,"$&/")+"/"),J(be,le,xe,"",function(Hn){return Hn})):be!=null&&(ie(be)&&(be=Me(be,xe+(be.key==null||U&&U.key===be.key?"":(""+be.key).replace(gt,"$&/")+"/")+he)),le.push(be)),1;he=0;var pn=Ee===""?".":Ee+":";if(Oe(U))for(var je=0;je<U.length;je++)Ee=U[je],tt=pn+ve(Ee,je),he+=J(Ee,le,xe,tt,be);else if(je=re(U),typeof je=="function")for(U=je.call(U),je=0;!(Ee=U.next()).done;)Ee=Ee.value,tt=pn+ve(Ee,je++),he+=J(Ee,le,xe,tt,be);else if(tt==="object"){if(typeof U.then=="function")return J(pt(U),le,xe,Ee,be);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return he}function $(U,le,xe){if(U==null)return U;var Ee=[],be=0;return J(U,Ee,"","",function(tt){return le.call(xe,tt,be++)}),Ee}function G(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(xe){(U._status===0||U._status===-1)&&(U._status=1,U._result=xe)},function(xe){(U._status===0||U._status===-1)&&(U._status=2,U._result=xe)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var oe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Fe(){}return Ze.Children={map:$,forEach:function(U,le,xe){$(U,function(){le.apply(this,arguments)},xe)},count:function(U){var le=0;return $(U,function(){le++}),le},toArray:function(U){return $(U,function(le){return le})||[]},only:function(U){if(!ie(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ze.Component=we,Ze.Fragment=m,Ze.Profiler=C,Ze.PureComponent=me,Ze.StrictMode=A,Ze.Suspense=D,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(U){return Be.H.useMemoCache(U)}},Ze.cache=function(U){return function(){return U.apply(null,arguments)}},Ze.cloneElement=function(U,le,xe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ee=pe({},U.props),be=U.key,tt=void 0;if(le!=null)for(he in le.ref!==void 0&&(tt=void 0),le.key!==void 0&&(be=""+le.key),le)!ke.call(le,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&le.ref===void 0||(Ee[he]=le[he]);var he=arguments.length-2;if(he===1)Ee.children=xe;else if(1<he){for(var pn=Array(he),je=0;je<he;je++)pn[je]=arguments[je+2];Ee.children=pn}return se(U.type,be,void 0,void 0,tt,Ee)},Ze.createContext=function(U){return U={$$typeof:_,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:w,_context:U},U},Ze.createElement=function(U,le,xe){var Ee,be={},tt=null;if(le!=null)for(Ee in le.key!==void 0&&(tt=""+le.key),le)ke.call(le,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(be[Ee]=le[Ee]);var he=arguments.length-2;if(he===1)be.children=xe;else if(1<he){for(var pn=Array(he),je=0;je<he;je++)pn[je]=arguments[je+2];be.children=pn}if(U&&U.defaultProps)for(Ee in he=U.defaultProps,he)be[Ee]===void 0&&(be[Ee]=he[Ee]);return se(U,tt,void 0,void 0,null,be)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(U){return{$$typeof:M,render:U}},Ze.isValidElement=ie,Ze.lazy=function(U){return{$$typeof:I,_payload:{_status:-1,_result:U},_init:G}},Ze.memo=function(U,le){return{$$typeof:p,type:U,compare:le===void 0?null:le}},Ze.startTransition=function(U){var le=Be.T,xe={};Be.T=xe;try{var Ee=U(),be=Be.S;be!==null&&be(xe,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(Fe,oe)}catch(tt){oe(tt)}finally{Be.T=le}},Ze.unstable_useCacheRefresh=function(){return Be.H.useCacheRefresh()},Ze.use=function(U){return Be.H.use(U)},Ze.useActionState=function(U,le,xe){return Be.H.useActionState(U,le,xe)},Ze.useCallback=function(U,le){return Be.H.useCallback(U,le)},Ze.useContext=function(U){return Be.H.useContext(U)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(U,le){return Be.H.useDeferredValue(U,le)},Ze.useEffect=function(U,le,xe){var Ee=Be.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ee.useEffect(U,le)},Ze.useId=function(){return Be.H.useId()},Ze.useImperativeHandle=function(U,le,xe){return Be.H.useImperativeHandle(U,le,xe)},Ze.useInsertionEffect=function(U,le){return Be.H.useInsertionEffect(U,le)},Ze.useLayoutEffect=function(U,le){return Be.H.useLayoutEffect(U,le)},Ze.useMemo=function(U,le){return Be.H.useMemo(U,le)},Ze.useOptimistic=function(U,le){return Be.H.useOptimistic(U,le)},Ze.useReducer=function(U,le,xe){return Be.H.useReducer(U,le,xe)},Ze.useRef=function(U){return Be.H.useRef(U)},Ze.useState=function(U){return Be.H.useState(U)},Ze.useSyncExternalStore=function(U,le,xe){return Be.H.useSyncExternalStore(U,le,xe)},Ze.useTransition=function(){return Be.H.useTransition()},Ze.version="19.1.1",Ze}var ah;function Jc(){return ah||(ah=1,Hc.exports=u2()),Hc.exports}var K=Jc();const c2=Kc(K);var zc={exports:{}},gs={},Gc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function f2(){return rh||(rh=1,(function(g){function E($,G){var oe=$.length;$.push(G);e:for(;0<oe;){var Fe=oe-1>>>1,U=$[Fe];if(0<C(U,G))$[Fe]=G,$[oe]=U,oe=Fe;else break e}}function m($){return $.length===0?null:$[0]}function A($){if($.length===0)return null;var G=$[0],oe=$.pop();if(oe!==G){$[0]=oe;e:for(var Fe=0,U=$.length,le=U>>>1;Fe<le;){var xe=2*(Fe+1)-1,Ee=$[xe],be=xe+1,tt=$[be];if(0>C(Ee,oe))be<U&&0>C(tt,Ee)?($[Fe]=tt,$[be]=oe,Fe=be):($[Fe]=Ee,$[xe]=oe,Fe=xe);else if(be<U&&0>C(tt,oe))$[Fe]=tt,$[be]=oe,Fe=be;else break e}}return G}function C($,G){var oe=$.sortIndex-G.sortIndex;return oe!==0?oe:$.id-G.id}if(g.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var w=performance;g.unstable_now=function(){return w.now()}}else{var _=Date,M=_.now();g.unstable_now=function(){return _.now()-M}}var D=[],p=[],I=1,k=null,re=3,ce=!1,pe=!1,Ae=!1,we=!1,Ne=typeof setTimeout=="function"?setTimeout:null,me=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Oe($){for(var G=m(p);G!==null;){if(G.callback===null)A(p);else if(G.startTime<=$)A(p),G.sortIndex=G.expirationTime,E(D,G);else break;G=m(p)}}function Be($){if(Ae=!1,Oe($),!pe)if(m(D)!==null)pe=!0,ke||(ke=!0,ve());else{var G=m(p);G!==null&&J(Be,G.startTime-$)}}var ke=!1,se=-1,Me=5,ie=-1;function Gt(){return we?!0:!(g.unstable_now()-ie<Me)}function gt(){if(we=!1,ke){var $=g.unstable_now();ie=$;var G=!0;try{e:{pe=!1,Ae&&(Ae=!1,me(se),se=-1),ce=!0;var oe=re;try{t:{for(Oe($),k=m(D);k!==null&&!(k.expirationTime>$&&Gt());){var Fe=k.callback;if(typeof Fe=="function"){k.callback=null,re=k.priorityLevel;var U=Fe(k.expirationTime<=$);if($=g.unstable_now(),typeof U=="function"){k.callback=U,Oe($),G=!0;break t}k===m(D)&&A(D),Oe($)}else A(D);k=m(D)}if(k!==null)G=!0;else{var le=m(p);le!==null&&J(Be,le.startTime-$),G=!1}}break e}finally{k=null,re=oe,ce=!1}G=void 0}}finally{G?ve():ke=!1}}}var ve;if(typeof de=="function")ve=function(){de(gt)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,pt=Qe.port2;Qe.port1.onmessage=gt,ve=function(){pt.postMessage(null)}}else ve=function(){Ne(gt,0)};function J($,G){se=Ne(function(){$(g.unstable_now())},G)}g.unstable_IdlePriority=5,g.unstable_ImmediatePriority=1,g.unstable_LowPriority=4,g.unstable_NormalPriority=3,g.unstable_Profiling=null,g.unstable_UserBlockingPriority=2,g.unstable_cancelCallback=function($){$.callback=null},g.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Me=0<$?Math.floor(1e3/$):5},g.unstable_getCurrentPriorityLevel=function(){return re},g.unstable_next=function($){switch(re){case 1:case 2:case 3:var G=3;break;default:G=re}var oe=re;re=G;try{return $()}finally{re=oe}},g.unstable_requestPaint=function(){we=!0},g.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var oe=re;re=$;try{return G()}finally{re=oe}},g.unstable_scheduleCallback=function($,G,oe){var Fe=g.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Fe+oe:Fe):oe=Fe,$){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=oe+U,$={id:I++,callback:G,priorityLevel:$,startTime:oe,expirationTime:U,sortIndex:-1},oe>Fe?($.sortIndex=oe,E(p,$),m(D)===null&&$===m(p)&&(Ae?(me(se),se=-1):Ae=!0,J(Be,oe-Fe))):($.sortIndex=U,E(D,$),pe||ce||(pe=!0,ke||(ke=!0,ve()))),$},g.unstable_shouldYield=Gt,g.unstable_wrapCallback=function($){var G=re;return function(){var oe=re;re=G;try{return $.apply(this,arguments)}finally{re=oe}}}})(Vc)),Vc}var lh;function h2(){return lh||(lh=1,Gc.exports=f2()),Gc.exports}var Xc={exports:{}},Ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function d2(){if(sh)return Ln;sh=1;var g=Jc();function E(D){var p="https://react.dev/errors/"+D;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var I=2;I<arguments.length;I++)p+="&args[]="+encodeURIComponent(arguments[I])}return"Minified React error #"+D+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(){}var A={d:{f:m,r:function(){throw Error(E(522))},D:m,C:m,L:m,m,X:m,S:m,M:m},p:0,findDOMNode:null},C=Symbol.for("react.portal");function w(D,p,I){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:C,key:k==null?null:""+k,children:D,containerInfo:p,implementation:I}}var _=g.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function M(D,p){if(D==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Ln.createPortal=function(D,p){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(E(299));return w(D,p,null,I)},Ln.flushSync=function(D){var p=_.T,I=A.p;try{if(_.T=null,A.p=2,D)return D()}finally{_.T=p,A.p=I,A.d.f()}},Ln.preconnect=function(D,p){typeof D=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,A.d.C(D,p))},Ln.prefetchDNS=function(D){typeof D=="string"&&A.d.D(D)},Ln.preinit=function(D,p){if(typeof D=="string"&&p&&typeof p.as=="string"){var I=p.as,k=M(I,p.crossOrigin),re=typeof p.integrity=="string"?p.integrity:void 0,ce=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;I==="style"?A.d.S(D,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:k,integrity:re,fetchPriority:ce}):I==="script"&&A.d.X(D,{crossOrigin:k,integrity:re,fetchPriority:ce,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ln.preinitModule=function(D,p){if(typeof D=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var I=M(p.as,p.crossOrigin);A.d.M(D,{crossOrigin:I,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&A.d.M(D)},Ln.preload=function(D,p){if(typeof D=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var I=p.as,k=M(I,p.crossOrigin);A.d.L(D,I,{crossOrigin:k,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ln.preloadModule=function(D,p){if(typeof D=="string")if(p){var I=M(p.as,p.crossOrigin);A.d.m(D,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:I,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else A.d.m(D)},Ln.requestFormReset=function(D){A.d.r(D)},Ln.unstable_batchedUpdates=function(D,p){return D(p)},Ln.useFormState=function(D,p,I){return _.H.useFormState(D,p,I)},Ln.useFormStatus=function(){return _.H.useHostTransitionStatus()},Ln.version="19.1.1",Ln}var oh;function g2(){if(oh)return Xc.exports;oh=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(E){console.error(E)}}return g(),Xc.exports=d2(),Xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function x2(){if(uh)return gs;uh=1;var g=h2(),E=Jc(),m=g2();function A(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function C(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function w(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function _(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function M(e){if(w(e)!==e)throw Error(A(188))}function D(e){var n=e.alternate;if(!n){if(n=w(e),n===null)throw Error(A(188));return n!==e?null:e}for(var r=e,o=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(o=f.return,o!==null){r=o;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return M(f),e;if(d===o)return M(f),n;d=d.sibling}throw Error(A(188))}if(r.return!==o.return)r=f,o=d;else{for(var b=!1,N=f.child;N;){if(N===r){b=!0,r=f,o=d;break}if(N===o){b=!0,o=f,r=d;break}N=N.sibling}if(!b){for(N=d.child;N;){if(N===r){b=!0,r=d,o=f;break}if(N===o){b=!0,o=d,r=f;break}N=N.sibling}if(!b)throw Error(A(189))}}if(r.alternate!==o)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:n}function p(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=p(e),n!==null)return n;e=e.sibling}return null}var I=Object.assign,k=Symbol.for("react.element"),re=Symbol.for("react.transitional.element"),ce=Symbol.for("react.portal"),pe=Symbol.for("react.fragment"),Ae=Symbol.for("react.strict_mode"),we=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),me=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),ke=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),Me=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),Gt=Symbol.for("react.memo_cache_sentinel"),gt=Symbol.iterator;function ve(e){return e===null||typeof e!="object"?null:(e=gt&&e[gt]||e["@@iterator"],typeof e=="function"?e:null)}var Qe=Symbol.for("react.client.reference");function pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Qe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pe:return"Fragment";case we:return"Profiler";case Ae:return"StrictMode";case Be:return"Suspense";case ke:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ce:return"Portal";case de:return(e.displayName||"Context")+".Provider";case me:return(e._context.displayName||"Context")+".Consumer";case Oe:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return n=e.displayName||null,n!==null?n:pt(e.type)||"Memo";case Me:n=e._payload,e=e._init;try{return pt(e(n))}catch{}}return null}var J=Array.isArray,$=E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=m.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Fe=[],U=-1;function le(e){return{current:e}}function xe(e){0>U||(e.current=Fe[U],Fe[U]=null,U--)}function Ee(e,n){U++,Fe[U]=e.current,e.current=n}var be=le(null),tt=le(null),he=le(null),pn=le(null);function je(e,n){switch(Ee(he,n),Ee(tt,e),Ee(be,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?_f(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=_f(n),e=Of(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(be),Ee(be,e)}function Hn(){xe(be),xe(tt),xe(he)}function ji(e){e.memoizedState!==null&&Ee(pn,e);var n=be.current,r=Of(n,e.type);n!==r&&(Ee(tt,e),Ee(be,r))}function ln(e){tt.current===e&&(xe(be),xe(tt)),pn.current===e&&(xe(pn),os._currentValue=oe)}var ma=Object.prototype.hasOwnProperty,at=g.unstable_scheduleCallback,Ti=g.unstable_cancelCallback,ri=g.unstable_shouldYield,Qa=g.unstable_requestPaint,Ct=g.unstable_now,bt=g.unstable_getCurrentPriorityLevel,nt=g.unstable_ImmediatePriority,Ka=g.unstable_UserBlockingPriority,Te=g.unstable_NormalPriority,vr=g.unstable_LowPriority,El=g.unstable_IdlePriority,xi=g.log,Al=g.unstable_setDisableYieldValue,Cn=null,Rn=null;function bn(e){if(typeof xi=="function"&&Al(e),Rn&&typeof Rn.setStrictMode=="function")try{Rn.setStrictMode(Cn,e)}catch{}}var xt=Math.clz32?Math.clz32:Xo,ps=Math.log,Tr=Math.LN2;function Xo(e){return e>>>=0,e===0?32:31-(ps(e)/Tr|0)|0}var Mt=256,ye=4194304;function Rt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ot(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var f=0,d=e.suspendedLanes,b=e.pingedLanes;e=e.warmLanes;var N=o&134217727;return N!==0?(o=N&~d,o!==0?f=Rt(o):(b&=N,b!==0?f=Rt(b):r||(r=N&~e,r!==0&&(f=Rt(r))))):(N=o&~d,N!==0?f=Rt(N):b!==0?f=Rt(b):r||(r=o&~e,r!==0&&(f=Rt(r)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:f}function St(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ja(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(){var e=Mt;return Mt<<=1,(Mt&4194048)===0&&(Mt=256),e}function yl(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function rt(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function qn(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cs(e,n,r,o,f,d){var b=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var N=e.entanglements,B=e.expirationTimes,Y=e.hiddenUpdates;for(r=b&~r;0<r;){var ee=31-xt(r),ne=1<<ee;N[ee]=0,B[ee]=-1;var Z=Y[ee];if(Z!==null)for(Y[ee]=null,ee=0;ee<Z.length;ee++){var W=Z[ee];W!==null&&(W.lane&=-536870913)}r&=~ne}o!==0&&wl(e,o,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(b&~n))}function wl(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-xt(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194090}function zn(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-xt(r),f=1<<o;f&n|e[o]&n&&(e[o]|=n),r&=~f}}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function tn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Yi(){var e=G.p;return e!==0?e:(e=window.event,e===void 0?32:Wf(e.type))}function Rr(e,n){var r=G.p;try{return G.p=e,n()}finally{G.p=r}}var sn=Math.random().toString(36).slice(2),xn="__reactFiber$"+sn,Vt="__reactProps$"+sn,Ni="__reactContainer$"+sn,mn="__reactEvents$"+sn,Zi="__reactListeners$"+sn,Gn="__reactHandles$"+sn,Ce="__reactResources$"+sn,li="__reactMarker$"+sn;function er(e){delete e[xn],delete e[Vt],delete e[mn],delete e[Zi],delete e[Gn]}function Wt(e){var n=e[xn];if(n)return n;for(var r=e.parentNode;r;){if(n=r[Ni]||r[xn]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Bf(e);e!==null;){if(r=e[xn])return r;e=Bf(e)}return n}e=r,r=e.parentNode}return null}function Wn(e){if(e=e[xn]||e[Ni]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ri(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(A(33))}function mi(e){var n=e[Ce];return n||(n=e[Ce]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function mt(e){e[li]=!0}var bs=new Set,Ss={};function En(e,n){Xt(e,n),Xt(e+"Capture",n)}function Xt(e,n){for(Ss[e]=n,e=0;e<n.length;e++)bs.add(n[e])}var Dt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},Ei={};function Cl(e){return ma.call(Ei,e)?!0:ma.call(pl,e)?!1:Dt.test(e)?Ei[e]=!0:(pl[e]=!0,!1)}function ae(e,n,r){if(Cl(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function _r(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function ut(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}var _i,vs;function Je(e){if(_i===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);_i=n&&n[1]||"",vs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_i+e+vs}var lt=!1;function qe(e,n){if(!e||lt)return"";lt=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var Z=W}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(W){Z=W}e.call(ne.prototype)}}else{try{throw Error()}catch(W){Z=W}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),b=d[0],N=d[1];if(b&&N){var B=b.split(`
`),Y=N.split(`
`);for(f=o=0;o<B.length&&!B[o].includes("DetermineComponentFrameRoot");)o++;for(;f<Y.length&&!Y[f].includes("DetermineComponentFrameRoot");)f++;if(o===B.length||f===Y.length)for(o=B.length-1,f=Y.length-1;1<=o&&0<=f&&B[o]!==Y[f];)f--;for(;1<=o&&0<=f;o--,f--)if(B[o]!==Y[f]){if(o!==1||f!==1)do if(o--,f--,0>f||B[o]!==Y[f]){var ee=`
`+B[o].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=o&&0<=f);break}}}finally{lt=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Je(r):""}function bl(e){switch(e.tag){case 26:case 27:case 5:return Je(e.type);case 16:return Je("Lazy");case 13:return Je("Suspense");case 19:return Je("SuspenseList");case 0:case 15:return qe(e.type,!1);case 11:return qe(e.type.render,!1);case 1:return qe(e.type,!0);case 31:return Je("Activity");default:return""}}function Or(e){try{var n="";do n+=bl(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jt(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oi(e){var n=jt(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var f=r.get,d=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(b){o=""+b,d.call(this,b)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Dr(e){e._valueTracker||(e._valueTracker=Oi(e))}function Ut(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=jt(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Qn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jo=/[\n"\\]/g;function on(e){return e.replace(jo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ht(e,n,r,o,f,d,b,N){e.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.type=b:e.removeAttribute("type"),n!=null?b==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+_n(n)):e.value!==""+_n(n)&&(e.value=""+_n(n)):b!=="submit"&&b!=="reset"||e.removeAttribute("value"),n!=null?X(e,b,_n(n)):r!=null?X(e,b,_n(r)):o!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+_n(N):e.removeAttribute("name")}function un(e,n,r,o,f,d,b,N){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;r=r!=null?""+_n(r):"",n=n!=null?""+_n(n):r,N||n===e.value||(e.value=n),e.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=N?e.checked:!!o,e.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(e.name=b)}function X(e,n,r){n==="number"&&Qn(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function R(e,n,r,o){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&o&&(e[r].defaultSelected=!0)}else{for(r=""+_n(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,o&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function _e(e,n,r){if(n!=null&&(n=""+_n(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+_n(r):""}function Qt(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(A(92));if(J(o)){if(1<o.length)throw Error(A(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=_n(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function cn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Yo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ir(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Yo.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Un(e,n,r){if(n!=null&&typeof n!="object")throw Error(A(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&r[f]!==o&&Ir(e,f,o)}else for(var d in n)n.hasOwnProperty(d)&&Ir(e,d,n[d])}function De(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var tr=null;function Ea(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Di=null,Aa=null;function Kt(e){var n=Wn(e);if(n&&(e=n.stateNode)){var r=e[Vt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ht(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+on(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var f=o[Vt]||null;if(!f)throw Error(A(90));ht(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&Ut(o)}break e;case"textarea":_e(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&R(e,!!r.multiple,n,!1)}}}var qi=!1;function Ai(e,n,r){if(qi)return e(n,r);qi=!0;try{var o=e(n);return o}finally{if(qi=!1,(Di!==null||Aa!==null)&&(fo(),Di&&(n=Di,e=Aa,Aa=Di=null,Kt(n),e)))for(n=0;n<e.length;n++)Kt(e[n])}}function Le(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Vt]||null;if(o===null)return null;r=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,n,typeof r));return r}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ve=!1;if(yi)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Ve=!1}var Ii=null,nr=null,ir=null;function Mi(){if(ir)return ir;var e,n=nr,r=n.length,o,f="value"in Ii?Ii.value:Ii.textContent,d=f.length;for(e=0;e<r&&n[e]===f[e];e++);var b=r-e;for(o=1;o<=b&&n[r-o]===f[d-o];o++);return ir=f.slice(e,1<o?1-o:void 0)}function Br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function ya(){return!1}function nn(e){function n(r,o,f,d,b){this._reactName=r,this._targetInst=f,this.type=o,this.nativeEvent=d,this.target=b,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(r=e[N],this[N]=r?r(d):d[N]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:ya,this.isPropagationStopped=ya,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=nn(Li),wi=I({},Li,{view:0,detail:0}),On=nn(wi),Lr,Ur,wa,kr=I({},wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wa&&(wa&&e.type==="mousemove"?(Lr=e.screenX-wa.screenX,Ur=e.screenY-wa.screenY):Ur=Lr=0,wa=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:Ur}}),Ns=nn(kr),Zo=I({},kr,{dataTransfer:0}),dt=nn(Zo),Rs=I({},wi,{relatedTarget:0}),pa=nn(Rs),ki=I({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),qo=nn(ki),Q=I({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ye=nn(Q),fn=I({},Li,{data:0}),ar=nn(fn),_s={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ko(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Qo[e])?!!n[e]:!1}function rr(){return Ko}var Jt=I({},wi,{key:function(e){if(e.key){var n=_s[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rr,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Sl=nn(Jt),kt=I({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lr=nn(kt),Wi=I({},wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rr}),Et=nn(Wi),Ue=I({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jo=nn(Ue),_t=I({},kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qi=nn(_t),Ca=I({},Li,{newState:0,oldState:0}),$o=nn(Ca),si=[9,13,27,32],sr=yi&&"CompositionEvent"in window,ba=null;yi&&"documentMode"in document&&(ba=document.documentMode);var vl=yi&&"TextEvent"in window&&!ba,Tl=yi&&(!sr||ba&&8<ba&&11>=ba),Nl=" ",Os=!1;function Ki(e,n){switch(e){case"keyup":return si.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sa=!1;function or(e,n){switch(e){case"compositionend":return Fr(n);case"keypress":return n.which!==32?null:(Os=!0,Nl);case"textInput":return e=n.data,e===Nl&&Os?null:e;default:return null}}function eu(e,n){if(Sa)return e==="compositionend"||!sr&&Ki(e,n)?(e=Mi(),ir=nr=Ii=null,Sa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tl&&n.locale!=="ko"?null:n.data;default:return null}}var Fi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ur(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Fi[e.type]:n==="textarea"}function kn(e,n,r,o){Di?Aa?Aa.push(o):Aa=[o]:Di=o,n=Ao(n,"onChange"),0<n.length&&(r=new Ui("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var va=null,Dn=null;function tu(e){Sf(e,0)}function Ta(e){var n=Ri(e);if(Ut(n))return e}function Ds(e,n){if(e==="change")return n}var Rl=!1;if(yi){var Vn;if(yi){var _l="oninput"in document;if(!_l){var Pr=document.createElement("div");Pr.setAttribute("oninput","return;"),_l=typeof Pr.oninput=="function"}Vn=_l}else Vn=!1;Rl=Vn&&(!document.documentMode||9<document.documentMode)}function Na(){va&&(va.detachEvent("onpropertychange",it),Dn=va=null)}function it(e){if(e.propertyName==="value"&&Ta(Dn)){var n=[];kn(n,Dn,e,Ea(e)),Ai(tu,n)}}function Hr(e,n,r){e==="focusin"?(Na(),va=n,Dn=r,va.attachEvent("onpropertychange",it)):e==="focusout"&&Na()}function S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ta(Dn)}function t(e,n){if(e==="click")return Ta(n)}function i(e,n){if(e==="input"||e==="change")return Ta(n)}function a(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var l=typeof Object.is=="function"?Object.is:a;function s(e,n){if(l(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var f=r[o];if(!ma.call(n,f)||!l(e[f],n[f]))return!1}return!0}function u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function c(e,n){var r=u(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=u(r)}}function h(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?h(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function x(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Qn(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Qn(e.document)}return n}function y(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var v=yi&&"documentMode"in document&&11>=document.documentMode,T=null,O=null,L=null,F=!1;function V(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;F||T==null||T!==Qn(o)||(o=T,"selectionStart"in o&&y(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),L&&s(L,o)||(L=o,o=Ao(O,"onSelect"),0<o.length&&(n=new Ui("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=T)))}function q(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var fe={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionrun:q("Transition","TransitionRun"),transitionstart:q("Transition","TransitionStart"),transitioncancel:q("Transition","TransitionCancel"),transitionend:q("Transition","TransitionEnd")},ge={},ue={};yi&&(ue=document.createElement("div").style,"AnimationEvent"in window||(delete fe.animationend.animation,delete fe.animationiteration.animation,delete fe.animationstart.animation),"TransitionEvent"in window||delete fe.transitionend.transition);function Xe(e){if(ge[e])return ge[e];if(!fe[e])return e;var n=fe[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in ue)return ge[e]=n[r];return e}var Ge=Xe("animationend"),Sn=Xe("animationiteration"),Xn=Xe("animationstart"),In=Xe("transitionrun"),At=Xe("transitionstart"),hn=Xe("transitioncancel"),Mn=Xe("transitionend"),Ji=new Map,Pi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pi.push("scrollEnd");function Kn(e,n){Ji.set(e,n),En(n,[e])}var Is=new WeakMap;function oi(e,n){if(typeof e=="object"&&e!==null){var r=Is.get(e);return r!==void 0?r:(n={value:e,source:n,stack:Or(n)},Is.set(e,n),n)}return{value:e,source:n,stack:Or(n)}}var ui=[],zr=0,nu=0;function Ms(){for(var e=zr,n=nu=zr=0;n<e;){var r=ui[n];ui[n++]=null;var o=ui[n];ui[n++]=null;var f=ui[n];ui[n++]=null;var d=ui[n];if(ui[n++]=null,o!==null&&f!==null){var b=o.pending;b===null?f.next=f:(f.next=b.next,b.next=f),o.pending=f}d!==0&&s1(r,f,d)}}function Bs(e,n,r,o){ui[zr++]=e,ui[zr++]=n,ui[zr++]=r,ui[zr++]=o,nu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function iu(e,n,r,o){return Bs(e,n,r,o),Ls(e)}function Gr(e,n){return Bs(e,null,null,n),Ls(e)}function s1(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var f=!1,d=e.return;d!==null;)d.childLanes|=r,o=d.alternate,o!==null&&(o.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-xt(r),e=d.hiddenUpdates,o=e[f],o===null?e[f]=[n]:o.push(n),n.lane=r|536870912),d):null}function Ls(e){if(50<es)throw es=0,uc=null,Error(A(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Vr={};function jh(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(e,n,r,o){return new jh(e,n,r,o)}function au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $i(e,n){var r=e.alternate;return r===null?(r=Jn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function o1(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Us(e,n,r,o,f,d){var b=0;if(o=e,typeof e=="function")au(e)&&(b=1);else if(typeof e=="string")b=Zd(e,r,be.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=Jn(31,r,n,f),e.elementType=ie,e.lanes=d,e;case pe:return cr(r.children,f,d,n);case Ae:b=8,f|=24;break;case we:return e=Jn(12,r,n,f|2),e.elementType=we,e.lanes=d,e;case Be:return e=Jn(13,r,n,f),e.elementType=Be,e.lanes=d,e;case ke:return e=Jn(19,r,n,f),e.elementType=ke,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ne:case de:b=10;break e;case me:b=9;break e;case Oe:b=11;break e;case se:b=14;break e;case Me:b=16,o=null;break e}b=29,r=Error(A(130,e===null?"null":typeof e,"")),o=null}return n=Jn(b,r,n,f),n.elementType=e,n.type=o,n.lanes=d,n}function cr(e,n,r,o){return e=Jn(7,e,o,n),e.lanes=r,e}function ru(e,n,r){return e=Jn(6,e,null,n),e.lanes=r,e}function lu(e,n,r){return n=Jn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xr=[],jr=0,ks=null,Fs=0,ci=[],fi=0,fr=null,ea=1,ta="";function hr(e,n){Xr[jr++]=Fs,Xr[jr++]=ks,ks=e,Fs=n}function u1(e,n,r){ci[fi++]=ea,ci[fi++]=ta,ci[fi++]=fr,fr=e;var o=ea;e=ta;var f=32-xt(o)-1;o&=~(1<<f),r+=1;var d=32-xt(n)+f;if(30<d){var b=f-f%5;d=(o&(1<<b)-1).toString(32),o>>=b,f-=b,ea=1<<32-xt(n)+f|r<<f|o,ta=d+e}else ea=1<<d|r<<f|o,ta=e}function su(e){e.return!==null&&(hr(e,1),u1(e,1,0))}function ou(e){for(;e===ks;)ks=Xr[--jr],Xr[jr]=null,Fs=Xr[--jr],Xr[jr]=null;for(;e===fr;)fr=ci[--fi],ci[fi]=null,ta=ci[--fi],ci[fi]=null,ea=ci[--fi],ci[fi]=null}var Fn=null,Yt=null,ft=!1,dr=null,Hi=!1,uu=Error(A(519));function gr(e){var n=Error(A(418,""));throw Il(oi(n,e)),uu}function c1(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[xn]=e,n[Vt]=o,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(r=0;r<ns.length;r++)et(ns[r],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":et("invalid",n),un(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Dr(n);break;case"select":et("invalid",n);break;case"textarea":et("invalid",n),Qt(n,o.value,o.defaultValue,o.children),Dr(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||Rf(n.textContent,r)?(o.popover!=null&&(et("beforetoggle",n),et("toggle",n)),o.onScroll!=null&&et("scroll",n),o.onScrollEnd!=null&&et("scrollend",n),o.onClick!=null&&(n.onclick=yo),n=!0):n=!1,n||gr(e)}function f1(e){for(Fn=e.return;Fn;)switch(Fn.tag){case 5:case 13:Hi=!1;return;case 27:case 3:Hi=!0;return;default:Fn=Fn.return}}function Ol(e){if(e!==Fn)return!1;if(!ft)return f1(e),ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||vc(e.type,e.memoizedProps)),r=!r),r&&Yt&&gr(e),f1(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Yt=Ci(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Yt=null}}else n===27?(n=Yt,Va(e.type)?(e=_c,_c=null,Yt=e):Yt=n):Yt=Fn?Ci(e.stateNode.nextSibling):null;return!0}function Dl(){Yt=Fn=null,ft=!1}function h1(){var e=dr;return e!==null&&(Zn===null?Zn=e:Zn.push.apply(Zn,e),dr=null),e}function Il(e){dr===null?dr=[e]:dr.push(e)}var cu=le(null),xr=null,na=null;function Ra(e,n,r){Ee(cu,n._currentValue),n._currentValue=r}function ia(e){e._currentValue=cu.current,xe(cu)}function fu(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function hu(e,n,r,o){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var b=f.child;d=d.firstContext;e:for(;d!==null;){var N=d;d=f;for(var B=0;B<n.length;B++)if(N.context===n[B]){d.lanes|=r,N=d.alternate,N!==null&&(N.lanes|=r),fu(d.return,r,e),o||(b=null);break e}d=N.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(A(341));b.lanes|=r,d=b.alternate,d!==null&&(d.lanes|=r),fu(b,r,e),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===e){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function Ml(e,n,r,o){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(A(387));if(b=b.memoizedProps,b!==null){var N=f.type;l(f.pendingProps.value,b.value)||(e!==null?e.push(N):e=[N])}}else if(f===pn.current){if(b=f.alternate,b===null)throw Error(A(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(os):e=[os])}f=f.return}e!==null&&hu(n,e,r,o),n.flags|=262144}function Ps(e){for(e=e.firstContext;e!==null;){if(!l(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function mr(e){xr=e,na=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Bn(e){return d1(xr,e)}function Hs(e,n){return xr===null&&mr(e),d1(e,n)}function d1(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},na===null){if(e===null)throw Error(A(308));na=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else na=na.next=n;return r}var Yh=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},Zh=g.unstable_scheduleCallback,qh=g.unstable_NormalPriority,dn={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function du(){return{controller:new Yh,data:new Map,refCount:0}}function Bl(e){e.refCount--,e.refCount===0&&Zh(qh,function(){e.controller.abort()})}var Ll=null,gu=0,Yr=0,Zr=null;function Wh(e,n){if(Ll===null){var r=Ll=[];gu=0,Yr=mc(),Zr={status:"pending",value:void 0,then:function(o){r.push(o)}}}return gu++,n.then(g1,g1),n}function g1(){if(--gu===0&&Ll!==null){Zr!==null&&(Zr.status="fulfilled");var e=Ll;Ll=null,Yr=0,Zr=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Qh(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),o}var x1=$.S;$.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Wh(e,n),x1!==null&&x1(e,n)};var Er=le(null);function xu(){var e=Er.current;return e!==null?e:It.pooledCache}function zs(e,n){n===null?Ee(Er,Er.current):Ee(Er,n.pool)}function m1(){var e=xu();return e===null?null:{parent:dn._currentValue,pool:e}}var Ul=Error(A(460)),E1=Error(A(474)),Gs=Error(A(542)),mu={then:function(){}};function A1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vs(){}function y1(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Vs,Vs),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,p1(e),e;default:if(typeof n.status=="string")n.then(Vs,Vs);else{if(e=It,e!==null&&100<e.shellSuspendCounter)throw Error(A(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,p1(e),e}throw kl=n,Ul}}var kl=null;function w1(){if(kl===null)throw Error(A(459));var e=kl;return kl=null,e}function p1(e){if(e===Ul||e===Gs)throw Error(A(483))}var _a=!1;function Eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Au(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Da(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(yt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Ls(e),s1(e,null,r),n}return Bs(e,o,n,r),Ls(e)}function Fl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,zn(e,r)}}function yu(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=b:d=d.next=b,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var wu=!1;function Pl(){if(wu){var e=Zr;if(e!==null)throw e}}function Hl(e,n,r,o){wu=!1;var f=e.updateQueue;_a=!1;var d=f.firstBaseUpdate,b=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var B=N,Y=B.next;B.next=null,b===null?d=Y:b.next=Y,b=B;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==b&&(N===null?ee.firstBaseUpdate=Y:N.next=Y,ee.lastBaseUpdate=B))}if(d!==null){var ne=f.baseState;b=0,ee=Y=B=null,N=d;do{var Z=N.lane&-536870913,W=Z!==N.lane;if(W?(st&Z)===Z:(o&Z)===Z){Z!==0&&Z===Yr&&(wu=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ze=e,Pe=N;Z=n;var Nt=r;switch(Pe.tag){case 1:if(ze=Pe.payload,typeof ze=="function"){ne=ze.call(Nt,ne,Z);break e}ne=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Pe.payload,Z=typeof ze=="function"?ze.call(Nt,ne,Z):ze,Z==null)break e;ne=I({},ne,Z);break e;case 2:_a=!0}}Z=N.callback,Z!==null&&(e.flags|=64,W&&(e.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(Y=ee=W,B=ne):ee=ee.next=W,b|=Z;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;W=N,N=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ee===null&&(B=ne),f.baseState=B,f.firstBaseUpdate=Y,f.lastBaseUpdate=ee,d===null&&(f.shared.lanes=0),Pa|=b,e.lanes=b,e.memoizedState=ne}}function C1(e,n){if(typeof e!="function")throw Error(A(191,e));e.call(n)}function b1(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)C1(r[e],n)}var qr=le(null),Xs=le(0);function S1(e,n){e=ca,Ee(Xs,e),Ee(qr,n),ca=e|n.baseLanes}function pu(){Ee(Xs,ca),Ee(qr,qr.current)}function Cu(){ca=Xs.current,xe(qr),xe(Xs)}var Ia=0,We=null,vt=null,an=null,js=!1,Wr=!1,Ar=!1,Ys=0,zl=0,Qr=null,Kh=0;function $t(){throw Error(A(321))}function bu(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!l(e[r],n[r]))return!1;return!0}function Su(e,n,r,o,f,d){return Ia=d,We=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?s0:o0,Ar=!1,d=r(o,f),Ar=!1,Wr&&(d=T1(n,r,o,f)),v1(e),d}function v1(e){$.H=Js;var n=vt!==null&&vt.next!==null;if(Ia=0,an=vt=We=null,js=!1,zl=0,Qr=null,n)throw Error(A(300));e===null||An||(e=e.dependencies,e!==null&&Ps(e)&&(An=!0))}function T1(e,n,r,o){We=e;var f=0;do{if(Wr&&(Qr=null),zl=0,Wr=!1,25<=f)throw Error(A(301));if(f+=1,an=vt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=ad,d=n(r,o)}while(Wr);return d}function Jh(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Gl(n):n,e=e.useState()[0],(vt!==null?vt.memoizedState:null)!==e&&(We.flags|=1024),n}function vu(){var e=Ys!==0;return Ys=0,e}function Tu(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Nu(e){if(js){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}js=!1}Ia=0,an=vt=We=null,Wr=!1,zl=Ys=0,Qr=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?We.memoizedState=an=e:an=an.next=e,an}function rn(){if(vt===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=vt.next;var n=an===null?We.memoizedState:an.next;if(n!==null)an=n,vt=e;else{if(e===null)throw We.alternate===null?Error(A(467)):Error(A(310));vt=e,e={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},an===null?We.memoizedState=an=e:an=an.next=e}return an}function Ru(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(e){var n=zl;return zl+=1,Qr===null&&(Qr=[]),e=y1(Qr,e,n),n=We,(an===null?n.memoizedState:an.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?s0:o0),e}function Zs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gl(e);if(e.$$typeof===de)return Bn(e)}throw Error(A(438,String(e)))}function _u(e){var n=null,r=We.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Ru(),We.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=Gt;return n.index++,r}function aa(e,n){return typeof n=="function"?n(e):n}function qs(e){var n=rn();return Ou(n,vt,e)}function Ou(e,n,r){var o=e.queue;if(o===null)throw Error(A(311));o.lastRenderedReducer=r;var f=e.baseQueue,d=o.pending;if(d!==null){if(f!==null){var b=f.next;f.next=d.next,d.next=b}n.baseQueue=f=d,o.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var N=b=null,B=null,Y=n,ee=!1;do{var ne=Y.lane&-536870913;if(ne!==Y.lane?(st&ne)===ne:(Ia&ne)===ne){var Z=Y.revertLane;if(Z===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ne===Yr&&(ee=!0);else if((Ia&Z)===Z){Y=Y.next,Z===Yr&&(ee=!0);continue}else ne={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(N=B=ne,b=d):B=B.next=ne,We.lanes|=Z,Pa|=Z;ne=Y.action,Ar&&r(d,ne),d=Y.hasEagerState?Y.eagerState:r(d,ne)}else Z={lane:ne,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},B===null?(N=B=Z,b=d):B=B.next=Z,We.lanes|=ne,Pa|=ne;Y=Y.next}while(Y!==null&&Y!==n);if(B===null?b=d:B.next=N,!l(d,e.memoizedState)&&(An=!0,ee&&(r=Zr,r!==null)))throw r;e.memoizedState=d,e.baseState=b,e.baseQueue=B,o.lastRenderedState=d}return f===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Du(e){var n=rn(),r=n.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var o=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var b=f=f.next;do d=e(d,b.action),b=b.next;while(b!==f);l(d,n.memoizedState)||(An=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,o]}function N1(e,n,r){var o=We,f=rn(),d=ft;if(d){if(r===void 0)throw Error(A(407));r=r()}else r=n();var b=!l((vt||f).memoizedState,r);b&&(f.memoizedState=r,An=!0),f=f.queue;var N=O1.bind(null,o,f,e);if(Vl(2048,8,N,[e]),f.getSnapshot!==n||b||an!==null&&an.memoizedState.tag&1){if(o.flags|=2048,Kr(9,Ws(),_1.bind(null,o,f,r,n),null),It===null)throw Error(A(349));d||(Ia&124)!==0||R1(o,n,r)}return r}function R1(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=We.updateQueue,n===null?(n=Ru(),We.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function _1(e,n,r,o){n.value=r,n.getSnapshot=o,D1(n)&&I1(e)}function O1(e,n,r){return r(function(){D1(n)&&I1(e)})}function D1(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!l(e,r)}catch{return!0}}function I1(e){var n=Gr(e,2);n!==null&&ii(n,e,2)}function Iu(e){var n=jn();if(typeof e=="function"){var r=e;if(e=r(),Ar){bn(!0);try{r()}finally{bn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},n}function M1(e,n,r,o){return e.baseState=r,Ou(e,vt,typeof o=="function"?o:aa)}function $h(e,n,r,o,f){if(Ks(e))throw Error(A(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){d.listeners.push(b)}};$.T!==null?r(!0):d.isTransition=!1,o(d),r=n.pending,r===null?(d.next=n.pending=d,B1(n,d)):(d.next=r.next,n.pending=r.next=d)}}function B1(e,n){var r=n.action,o=n.payload,f=e.state;if(n.isTransition){var d=$.T,b={};$.T=b;try{var N=r(f,o),B=$.S;B!==null&&B(b,N),L1(e,n,N)}catch(Y){Mu(e,n,Y)}finally{$.T=d}}else try{d=r(f,o),L1(e,n,d)}catch(Y){Mu(e,n,Y)}}function L1(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){U1(e,n,o)},function(o){return Mu(e,n,o)}):U1(e,n,r)}function U1(e,n,r){n.status="fulfilled",n.value=r,k1(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,B1(e,r)))}function Mu(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,k1(n),n=n.next;while(n!==o)}e.action=null}function k1(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function F1(e,n){return n}function P1(e,n){if(ft){var r=It.formState;if(r!==null){e:{var o=We;if(ft){if(Yt){t:{for(var f=Yt,d=Hi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Ci(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){Yt=Ci(f.nextSibling),o=f.data==="F!";break e}}gr(o)}o=!1}o&&(n=r[0])}}return r=jn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:F1,lastRenderedState:n},r.queue=o,r=a0.bind(null,We,o),o.dispatch=r,o=Iu(!1),d=Fu.bind(null,We,!1,o.queue),o=jn(),f={state:n,dispatch:null,action:e,pending:null},o.queue=f,r=$h.bind(null,We,f,d,r),f.dispatch=r,o.memoizedState=e,[n,r,!1]}function H1(e){var n=rn();return z1(n,vt,e)}function z1(e,n,r){if(n=Ou(e,n,F1)[0],e=qs(aa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Gl(n)}catch(b){throw b===Ul?Gs:b}else o=n;n=rn();var f=n.queue,d=f.dispatch;return r!==n.memoizedState&&(We.flags|=2048,Kr(9,Ws(),ed.bind(null,f,r),null)),[o,d,e]}function ed(e,n){e.action=n}function G1(e){var n=rn(),r=vt;if(r!==null)return z1(n,r,e);rn(),n=n.memoizedState,r=rn();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function Kr(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=We.updateQueue,n===null&&(n=Ru(),We.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function Ws(){return{destroy:void 0,resource:void 0}}function V1(){return rn().memoizedState}function Qs(e,n,r,o){var f=jn();o=o===void 0?null:o,We.flags|=e,f.memoizedState=Kr(1|n,Ws(),r,o)}function Vl(e,n,r,o){var f=rn();o=o===void 0?null:o;var d=f.memoizedState.inst;vt!==null&&o!==null&&bu(o,vt.memoizedState.deps)?f.memoizedState=Kr(n,d,r,o):(We.flags|=e,f.memoizedState=Kr(1|n,d,r,o))}function X1(e,n){Qs(8390656,8,e,n)}function j1(e,n){Vl(2048,8,e,n)}function Y1(e,n){return Vl(4,2,e,n)}function Z1(e,n){return Vl(4,4,e,n)}function q1(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function W1(e,n,r){r=r!=null?r.concat([e]):null,Vl(4,4,q1.bind(null,n,e),r)}function Bu(){}function Q1(e,n){var r=rn();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&bu(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function K1(e,n){var r=rn();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&bu(n,o[1]))return o[0];if(o=e(),Ar){bn(!0);try{e()}finally{bn(!1)}}return r.memoizedState=[o,n],o}function Lu(e,n,r){return r===void 0||(Ia&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=ef(),We.lanes|=e,Pa|=e,r)}function J1(e,n,r,o){return l(r,n)?r:qr.current!==null?(e=Lu(e,r,o),l(e,n)||(An=!0),e):(Ia&42)===0?(An=!0,e.memoizedState=r):(e=ef(),We.lanes|=e,Pa|=e,n)}function $1(e,n,r,o,f){var d=G.p;G.p=d!==0&&8>d?d:8;var b=$.T,N={};$.T=N,Fu(e,!1,n,r);try{var B=f(),Y=$.S;if(Y!==null&&Y(N,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ee=Qh(B,o);Xl(e,n,ee,ni(e))}else Xl(e,n,o,ni(e))}catch(ne){Xl(e,n,{then:function(){},status:"rejected",reason:ne},ni())}finally{G.p=d,$.T=b}}function td(){}function Uu(e,n,r,o){if(e.tag!==5)throw Error(A(476));var f=e0(e).queue;$1(e,f,n,oe,r===null?td:function(){return t0(e),r(o)})}function e0(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:oe},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function t0(e){var n=e0(e).next.queue;Xl(e,n,{},ni())}function ku(){return Bn(os)}function n0(){return rn().memoizedState}function i0(){return rn().memoizedState}function nd(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=ni();e=Oa(r);var o=Da(n,e,r);o!==null&&(ii(o,n,r),Fl(o,n,r)),n={cache:du()},e.payload=n;return}n=n.return}}function id(e,n,r){var o=ni();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Ks(e)?r0(n,r):(r=iu(e,n,r,o),r!==null&&(ii(r,e,o),l0(r,n,o)))}function a0(e,n,r){var o=ni();Xl(e,n,r,o)}function Xl(e,n,r,o){var f={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ks(e))r0(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var b=n.lastRenderedState,N=d(b,r);if(f.hasEagerState=!0,f.eagerState=N,l(N,b))return Bs(e,n,f,0),It===null&&Ms(),!1}catch{}finally{}if(r=iu(e,n,f,o),r!==null)return ii(r,e,o),l0(r,n,o),!0}return!1}function Fu(e,n,r,o){if(o={lane:2,revertLane:mc(),action:o,hasEagerState:!1,eagerState:null,next:null},Ks(e)){if(n)throw Error(A(479))}else n=iu(e,r,o,2),n!==null&&ii(n,e,2)}function Ks(e){var n=e.alternate;return e===We||n!==null&&n===We}function r0(e,n){Wr=js=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function l0(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,zn(e,r)}}var Js={readContext:Bn,use:Zs,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t},s0={readContext:Bn,use:Zs,useCallback:function(e,n){return jn().memoizedState=[e,n===void 0?null:n],e},useContext:Bn,useEffect:X1,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Qs(4194308,4,q1.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Qs(4194308,4,e,n)},useInsertionEffect:function(e,n){Qs(4,2,e,n)},useMemo:function(e,n){var r=jn();n=n===void 0?null:n;var o=e();if(Ar){bn(!0);try{e()}finally{bn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=jn();if(r!==void 0){var f=r(n);if(Ar){bn(!0);try{r(n)}finally{bn(!1)}}}else f=n;return o.memoizedState=o.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},o.queue=e,e=e.dispatch=id.bind(null,We,e),[o.memoizedState,e]},useRef:function(e){var n=jn();return e={current:e},n.memoizedState=e},useState:function(e){e=Iu(e);var n=e.queue,r=a0.bind(null,We,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Bu,useDeferredValue:function(e,n){var r=jn();return Lu(r,e,n)},useTransition:function(){var e=Iu(!1);return e=$1.bind(null,We,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=We,f=jn();if(ft){if(r===void 0)throw Error(A(407));r=r()}else{if(r=n(),It===null)throw Error(A(349));(st&124)!==0||R1(o,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,X1(O1.bind(null,o,d,e),[e]),o.flags|=2048,Kr(9,Ws(),_1.bind(null,o,d,r,n),null),r},useId:function(){var e=jn(),n=It.identifierPrefix;if(ft){var r=ta,o=ea;r=(o&~(1<<32-xt(o)-1)).toString(32)+r,n=""+n+"R"+r,r=Ys++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=Kh++,n=""+n+"r"+r.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:ku,useFormState:P1,useActionState:P1,useOptimistic:function(e){var n=jn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Fu.bind(null,We,!0,r),r.dispatch=n,[e,n]},useMemoCache:_u,useCacheRefresh:function(){return jn().memoizedState=nd.bind(null,We)}},o0={readContext:Bn,use:Zs,useCallback:Q1,useContext:Bn,useEffect:j1,useImperativeHandle:W1,useInsertionEffect:Y1,useLayoutEffect:Z1,useMemo:K1,useReducer:qs,useRef:V1,useState:function(){return qs(aa)},useDebugValue:Bu,useDeferredValue:function(e,n){var r=rn();return J1(r,vt.memoizedState,e,n)},useTransition:function(){var e=qs(aa)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:N1,useId:n0,useHostTransitionStatus:ku,useFormState:H1,useActionState:H1,useOptimistic:function(e,n){var r=rn();return M1(r,vt,e,n)},useMemoCache:_u,useCacheRefresh:i0},ad={readContext:Bn,use:Zs,useCallback:Q1,useContext:Bn,useEffect:j1,useImperativeHandle:W1,useInsertionEffect:Y1,useLayoutEffect:Z1,useMemo:K1,useReducer:Du,useRef:V1,useState:function(){return Du(aa)},useDebugValue:Bu,useDeferredValue:function(e,n){var r=rn();return vt===null?Lu(r,e,n):J1(r,vt.memoizedState,e,n)},useTransition:function(){var e=Du(aa)[0],n=rn().memoizedState;return[typeof e=="boolean"?e:Gl(e),n]},useSyncExternalStore:N1,useId:n0,useHostTransitionStatus:ku,useFormState:G1,useActionState:G1,useOptimistic:function(e,n){var r=rn();return vt!==null?M1(r,vt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:_u,useCacheRefresh:i0},Jr=null,jl=0;function $s(e){var n=jl;return jl+=1,Jr===null&&(Jr=[]),y1(Jr,e,n)}function Yl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function eo(e,n){throw n.$$typeof===k?Error(A(525)):(e=Object.prototype.toString.call(n),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function u0(e){var n=e._init;return n(e._payload)}function c0(e){function n(z,H){if(e){var j=z.deletions;j===null?(z.deletions=[H],z.flags|=16):j.push(H)}}function r(z,H){if(!e)return null;for(;H!==null;)n(z,H),H=H.sibling;return null}function o(z){for(var H=new Map;z!==null;)z.key!==null?H.set(z.key,z):H.set(z.index,z),z=z.sibling;return H}function f(z,H){return z=$i(z,H),z.index=0,z.sibling=null,z}function d(z,H,j){return z.index=j,e?(j=z.alternate,j!==null?(j=j.index,j<H?(z.flags|=67108866,H):j):(z.flags|=67108866,H)):(z.flags|=1048576,H)}function b(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function N(z,H,j,te){return H===null||H.tag!==6?(H=ru(j,z.mode,te),H.return=z,H):(H=f(H,j),H.return=z,H)}function B(z,H,j,te){var Re=j.type;return Re===pe?ee(z,H,j.props.children,te,j.key):H!==null&&(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Me&&u0(Re)===H.type)?(H=f(H,j.props),Yl(H,j),H.return=z,H):(H=Us(j.type,j.key,j.props,null,z.mode,te),Yl(H,j),H.return=z,H)}function Y(z,H,j,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==j.containerInfo||H.stateNode.implementation!==j.implementation?(H=lu(j,z.mode,te),H.return=z,H):(H=f(H,j.children||[]),H.return=z,H)}function ee(z,H,j,te,Re){return H===null||H.tag!==7?(H=cr(j,z.mode,te,Re),H.return=z,H):(H=f(H,j),H.return=z,H)}function ne(z,H,j){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=ru(""+H,z.mode,j),H.return=z,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case re:return j=Us(H.type,H.key,H.props,null,z.mode,j),Yl(j,H),j.return=z,j;case ce:return H=lu(H,z.mode,j),H.return=z,H;case Me:var te=H._init;return H=te(H._payload),ne(z,H,j)}if(J(H)||ve(H))return H=cr(H,z.mode,j,null),H.return=z,H;if(typeof H.then=="function")return ne(z,$s(H),j);if(H.$$typeof===de)return ne(z,Hs(z,H),j);eo(z,H)}return null}function Z(z,H,j,te){var Re=H!==null?H.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return Re!==null?null:N(z,H,""+j,te);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case re:return j.key===Re?B(z,H,j,te):null;case ce:return j.key===Re?Y(z,H,j,te):null;case Me:return Re=j._init,j=Re(j._payload),Z(z,H,j,te)}if(J(j)||ve(j))return Re!==null?null:ee(z,H,j,te,null);if(typeof j.then=="function")return Z(z,H,$s(j),te);if(j.$$typeof===de)return Z(z,H,Hs(z,j),te);eo(z,j)}return null}function W(z,H,j,te,Re){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return z=z.get(j)||null,N(H,z,""+te,Re);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case re:return z=z.get(te.key===null?j:te.key)||null,B(H,z,te,Re);case ce:return z=z.get(te.key===null?j:te.key)||null,Y(H,z,te,Re);case Me:var Ke=te._init;return te=Ke(te._payload),W(z,H,j,te,Re)}if(J(te)||ve(te))return z=z.get(j)||null,ee(H,z,te,Re,null);if(typeof te.then=="function")return W(z,H,j,$s(te),Re);if(te.$$typeof===de)return W(z,H,j,Hs(H,te),Re);eo(H,te)}return null}function ze(z,H,j,te){for(var Re=null,Ke=null,Ie=H,He=H=0,wn=null;Ie!==null&&He<j.length;He++){Ie.index>He?(wn=Ie,Ie=null):wn=Ie.sibling;var ct=Z(z,Ie,j[He],te);if(ct===null){Ie===null&&(Ie=wn);break}e&&Ie&&ct.alternate===null&&n(z,Ie),H=d(ct,H,He),Ke===null?Re=ct:Ke.sibling=ct,Ke=ct,Ie=wn}if(He===j.length)return r(z,Ie),ft&&hr(z,He),Re;if(Ie===null){for(;He<j.length;He++)Ie=ne(z,j[He],te),Ie!==null&&(H=d(Ie,H,He),Ke===null?Re=Ie:Ke.sibling=Ie,Ke=Ie);return ft&&hr(z,He),Re}for(Ie=o(Ie);He<j.length;He++)wn=W(Ie,z,He,j[He],te),wn!==null&&(e&&wn.alternate!==null&&Ie.delete(wn.key===null?He:wn.key),H=d(wn,H,He),Ke===null?Re=wn:Ke.sibling=wn,Ke=wn);return e&&Ie.forEach(function(qa){return n(z,qa)}),ft&&hr(z,He),Re}function Pe(z,H,j,te){if(j==null)throw Error(A(151));for(var Re=null,Ke=null,Ie=H,He=H=0,wn=null,ct=j.next();Ie!==null&&!ct.done;He++,ct=j.next()){Ie.index>He?(wn=Ie,Ie=null):wn=Ie.sibling;var qa=Z(z,Ie,ct.value,te);if(qa===null){Ie===null&&(Ie=wn);break}e&&Ie&&qa.alternate===null&&n(z,Ie),H=d(qa,H,He),Ke===null?Re=qa:Ke.sibling=qa,Ke=qa,Ie=wn}if(ct.done)return r(z,Ie),ft&&hr(z,He),Re;if(Ie===null){for(;!ct.done;He++,ct=j.next())ct=ne(z,ct.value,te),ct!==null&&(H=d(ct,H,He),Ke===null?Re=ct:Ke.sibling=ct,Ke=ct);return ft&&hr(z,He),Re}for(Ie=o(Ie);!ct.done;He++,ct=j.next())ct=W(Ie,z,He,ct.value,te),ct!==null&&(e&&ct.alternate!==null&&Ie.delete(ct.key===null?He:ct.key),H=d(ct,H,He),Ke===null?Re=ct:Ke.sibling=ct,Ke=ct);return e&&Ie.forEach(function(r2){return n(z,r2)}),ft&&hr(z,He),Re}function Nt(z,H,j,te){if(typeof j=="object"&&j!==null&&j.type===pe&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case re:e:{for(var Re=j.key;H!==null;){if(H.key===Re){if(Re=j.type,Re===pe){if(H.tag===7){r(z,H.sibling),te=f(H,j.props.children),te.return=z,z=te;break e}}else if(H.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Me&&u0(Re)===H.type){r(z,H.sibling),te=f(H,j.props),Yl(te,j),te.return=z,z=te;break e}r(z,H);break}else n(z,H);H=H.sibling}j.type===pe?(te=cr(j.props.children,z.mode,te,j.key),te.return=z,z=te):(te=Us(j.type,j.key,j.props,null,z.mode,te),Yl(te,j),te.return=z,z=te)}return b(z);case ce:e:{for(Re=j.key;H!==null;){if(H.key===Re)if(H.tag===4&&H.stateNode.containerInfo===j.containerInfo&&H.stateNode.implementation===j.implementation){r(z,H.sibling),te=f(H,j.children||[]),te.return=z,z=te;break e}else{r(z,H);break}else n(z,H);H=H.sibling}te=lu(j,z.mode,te),te.return=z,z=te}return b(z);case Me:return Re=j._init,j=Re(j._payload),Nt(z,H,j,te)}if(J(j))return ze(z,H,j,te);if(ve(j)){if(Re=ve(j),typeof Re!="function")throw Error(A(150));return j=Re.call(j),Pe(z,H,j,te)}if(typeof j.then=="function")return Nt(z,H,$s(j),te);if(j.$$typeof===de)return Nt(z,H,Hs(z,j),te);eo(z,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,H!==null&&H.tag===6?(r(z,H.sibling),te=f(H,j),te.return=z,z=te):(r(z,H),te=ru(j,z.mode,te),te.return=z,z=te),b(z)):r(z,H)}return function(z,H,j,te){try{jl=0;var Re=Nt(z,H,j,te);return Jr=null,Re}catch(Ie){if(Ie===Ul||Ie===Gs)throw Ie;var Ke=Jn(29,Ie,null,z.mode);return Ke.lanes=te,Ke.return=z,Ke}finally{}}}var $r=c0(!0),f0=c0(!1),hi=le(null),zi=null;function Ma(e){var n=e.alternate;Ee(gn,gn.current&1),Ee(hi,e),zi===null&&(n===null||qr.current!==null||n.memoizedState!==null)&&(zi=e)}function h0(e){if(e.tag===22){if(Ee(gn,gn.current),Ee(hi,e),zi===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(zi=e)}}else Ba()}function Ba(){Ee(gn,gn.current),Ee(hi,hi.current)}function ra(e){xe(hi),zi===e&&(zi=null),xe(gn)}var gn=le(0);function to(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||Rc(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Pu(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:I({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hu={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=ni(),f=Oa(o);f.payload=n,r!=null&&(f.callback=r),n=Da(e,f,o),n!==null&&(ii(n,e,o),Fl(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=ni(),f=Oa(o);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=Da(e,f,o),n!==null&&(ii(n,e,o),Fl(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=ni(),o=Oa(r);o.tag=2,n!=null&&(o.callback=n),n=Da(e,o,r),n!==null&&(ii(n,e,r),Fl(n,e,r))}};function d0(e,n,r,o,f,d,b){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,b):n.prototype&&n.prototype.isPureReactComponent?!s(r,o)||!s(f,d):!0}function g0(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Hu.enqueueReplaceState(n,n.state,null)}function yr(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=I({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}var no=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function x0(e){no(e)}function m0(e){console.error(e)}function E0(e){no(e)}function io(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function A0(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function zu(e,n,r){return r=Oa(r),r.tag=3,r.payload={element:null},r.callback=function(){io(e,n)},r}function y0(e){return e=Oa(e),e.tag=3,e}function w0(e,n,r,o){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=o.value;e.payload=function(){return f(d)},e.callback=function(){A0(n,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(e.callback=function(){A0(n,r,o),typeof f!="function"&&(Ha===null?Ha=new Set([this]):Ha.add(this));var N=o.stack;this.componentDidCatch(o.value,{componentStack:N!==null?N:""})})}function rd(e,n,r,o,f){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Ml(n,r,f,!0),r=hi.current,r!==null){switch(r.tag){case 13:return zi===null?fc():r.alternate===null&&Zt===0&&(Zt=3),r.flags&=-257,r.flags|=65536,r.lanes=f,o===mu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),dc(e,o,f)),!1;case 22:return r.flags|=65536,o===mu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),dc(e,o,f)),!1}throw Error(A(435,r.tag))}return dc(e,o,f),fc(),!1}if(ft)return n=hi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==uu&&(e=Error(A(422),{cause:o}),Il(oi(e,r)))):(o!==uu&&(n=Error(A(423),{cause:o}),Il(oi(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,o=oi(o,r),f=zu(e.stateNode,o,f),yu(e,f),Zt!==4&&(Zt=2)),!1;var d=Error(A(520),{cause:o});if(d=oi(d,r),$l===null?$l=[d]:$l.push(d),Zt!==4&&(Zt=2),n===null)return!0;o=oi(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=zu(r.stateNode,o,e),yu(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ha===null||!Ha.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=y0(f),w0(f,e,r,o),yu(r,f),!1}r=r.return}while(r!==null);return!1}var p0=Error(A(461)),An=!1;function vn(e,n,r,o){n.child=e===null?f0(n,null,r,o):$r(n,e.child,r,o)}function C0(e,n,r,o,f){r=r.render;var d=n.ref;if("ref"in o){var b={};for(var N in o)N!=="ref"&&(b[N]=o[N])}else b=o;return mr(n),o=Su(e,n,r,b,d,f),N=vu(),e!==null&&!An?(Tu(e,n,f),la(e,n,f)):(ft&&N&&su(n),n.flags|=1,vn(e,n,o,f),n.child)}function b0(e,n,r,o,f){if(e===null){var d=r.type;return typeof d=="function"&&!au(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,S0(e,n,d,o,f)):(e=Us(r.type,null,o,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Wu(e,f)){var b=d.memoizedProps;if(r=r.compare,r=r!==null?r:s,r(b,o)&&e.ref===n.ref)return la(e,n,f)}return n.flags|=1,e=$i(d,o),e.ref=n.ref,e.return=n,n.child=e}function S0(e,n,r,o,f){if(e!==null){var d=e.memoizedProps;if(s(d,o)&&e.ref===n.ref)if(An=!1,n.pendingProps=o=d,Wu(e,f))(e.flags&131072)!==0&&(An=!0);else return n.lanes=e.lanes,la(e,n,f)}return Gu(e,n,r,o,f)}function v0(e,n,r){var o=n.pendingProps,f=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|r:r,e!==null){for(f=n.child=e.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return T0(e,n,o,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zs(n,d!==null?d.cachePool:null),d!==null?S1(n,d):pu(),h0(n);else return n.lanes=n.childLanes=536870912,T0(e,n,d!==null?d.baseLanes|r:r,r)}else d!==null?(zs(n,d.cachePool),S1(n,d),Ba(),n.memoizedState=null):(e!==null&&zs(n,null),pu(),Ba());return vn(e,n,f,r),n.child}function T0(e,n,r,o){var f=xu();return f=f===null?null:{parent:dn._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&zs(n,null),pu(),h0(n),e!==null&&Ml(e,n,o,!0),null}function ao(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(A(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Gu(e,n,r,o,f){return mr(n),r=Su(e,n,r,o,void 0,f),o=vu(),e!==null&&!An?(Tu(e,n,f),la(e,n,f)):(ft&&o&&su(n),n.flags|=1,vn(e,n,r,f),n.child)}function N0(e,n,r,o,f,d){return mr(n),n.updateQueue=null,r=T1(n,o,r,f),v1(e),o=vu(),e!==null&&!An?(Tu(e,n,d),la(e,n,d)):(ft&&o&&su(n),n.flags|=1,vn(e,n,r,d),n.child)}function R0(e,n,r,o,f){if(mr(n),n.stateNode===null){var d=Vr,b=r.contextType;typeof b=="object"&&b!==null&&(d=Bn(b)),d=new r(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Eu(n),b=r.contextType,d.context=typeof b=="object"&&b!==null?Bn(b):Vr,d.state=n.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(Pu(n,r,b,o),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(b=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),b!==d.state&&Hu.enqueueReplaceState(d,d.state,null),Hl(n,o,d,f),Pl(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var N=n.memoizedProps,B=yr(r,N);d.props=B;var Y=d.context,ee=r.contextType;b=Vr,typeof ee=="object"&&ee!==null&&(b=Bn(ee));var ne=r.getDerivedStateFromProps;ee=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",N=n.pendingProps!==N,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(N||Y!==b)&&g0(n,d,o,b),_a=!1;var Z=n.memoizedState;d.state=Z,Hl(n,o,d,f),Pl(),Y=n.memoizedState,N||Z!==Y||_a?(typeof ne=="function"&&(Pu(n,r,ne,o),Y=n.memoizedState),(B=_a||d0(n,r,B,o,Z,Y,b))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Y),d.props=o,d.state=Y,d.context=b,o=B):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,Au(e,n),b=n.memoizedProps,ee=yr(r,b),d.props=ee,ne=n.pendingProps,Z=d.context,Y=r.contextType,B=Vr,typeof Y=="object"&&Y!==null&&(B=Bn(Y)),N=r.getDerivedStateFromProps,(Y=typeof N=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b!==ne||Z!==B)&&g0(n,d,o,B),_a=!1,Z=n.memoizedState,d.state=Z,Hl(n,o,d,f),Pl();var W=n.memoizedState;b!==ne||Z!==W||_a||e!==null&&e.dependencies!==null&&Ps(e.dependencies)?(typeof N=="function"&&(Pu(n,r,N,o),W=n.memoizedState),(ee=_a||d0(n,r,ee,o,Z,W,B)||e!==null&&e.dependencies!==null&&Ps(e.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,W,B),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,W,B)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=W),d.props=o,d.state=W,d.context=B,o=ee):(typeof d.componentDidUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||b===e.memoizedProps&&Z===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,ao(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=$r(n,e.child,null,f),n.child=$r(n,null,r,f)):vn(e,n,r,f),n.memoizedState=d.state,e=n.child):e=la(e,n,f),e}function _0(e,n,r,o){return Dl(),n.flags|=256,vn(e,n,r,o),n.child}var Vu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xu(e){return{baseLanes:e,cachePool:m1()}}function ju(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=di),e}function O0(e,n,r){var o=n.pendingProps,f=!1,d=(n.flags&128)!==0,b;if((b=d)||(b=e!==null&&e.memoizedState===null?!1:(gn.current&2)!==0),b&&(f=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,e===null){if(ft){if(f?Ma(n):Ba(),ft){var N=Yt,B;if(B=N){e:{for(B=N,N=Hi;B.nodeType!==8;){if(!N){N=null;break e}if(B=Ci(B.nextSibling),B===null){N=null;break e}}N=B}N!==null?(n.memoizedState={dehydrated:N,treeContext:fr!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},B=Jn(18,null,null,0),B.stateNode=N,B.return=n,n.child=B,Fn=n,Yt=null,B=!0):B=!1}B||gr(n)}if(N=n.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Rc(N)?n.lanes=32:n.lanes=536870912,null;ra(n)}return N=o.children,o=o.fallback,f?(Ba(),f=n.mode,N=ro({mode:"hidden",children:N},f),o=cr(o,f,r,null),N.return=n,o.return=n,N.sibling=o,n.child=N,f=n.child,f.memoizedState=Xu(r),f.childLanes=ju(e,b,r),n.memoizedState=Vu,o):(Ma(n),Yu(n,N))}if(B=e.memoizedState,B!==null&&(N=B.dehydrated,N!==null)){if(d)n.flags&256?(Ma(n),n.flags&=-257,n=Zu(e,n,r)):n.memoizedState!==null?(Ba(),n.child=e.child,n.flags|=128,n=null):(Ba(),f=o.fallback,N=n.mode,o=ro({mode:"visible",children:o.children},N),f=cr(f,N,r,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,$r(n,e.child,null,r),o=n.child,o.memoizedState=Xu(r),o.childLanes=ju(e,b,r),n.memoizedState=Vu,n=f);else if(Ma(n),Rc(N)){if(b=N.nextSibling&&N.nextSibling.dataset,b)var Y=b.dgst;b=Y,o=Error(A(419)),o.stack="",o.digest=b,Il({value:o,source:null,stack:null}),n=Zu(e,n,r)}else if(An||Ml(e,n,r,!1),b=(r&e.childLanes)!==0,An||b){if(b=It,b!==null&&(o=r&-r,o=(o&42)!==0?1:$a(o),o=(o&(b.suspendedLanes|r))!==0?0:o,o!==0&&o!==B.retryLane))throw B.retryLane=o,Gr(e,o),ii(b,e,o),p0;N.data==="$?"||fc(),n=Zu(e,n,r)}else N.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=B.treeContext,Yt=Ci(N.nextSibling),Fn=n,ft=!0,dr=null,Hi=!1,e!==null&&(ci[fi++]=ea,ci[fi++]=ta,ci[fi++]=fr,ea=e.id,ta=e.overflow,fr=n),n=Yu(n,o.children),n.flags|=4096);return n}return f?(Ba(),f=o.fallback,N=n.mode,B=e.child,Y=B.sibling,o=$i(B,{mode:"hidden",children:o.children}),o.subtreeFlags=B.subtreeFlags&65011712,Y!==null?f=$i(Y,f):(f=cr(f,N,r,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,N=e.child.memoizedState,N===null?N=Xu(r):(B=N.cachePool,B!==null?(Y=dn._currentValue,B=B.parent!==Y?{parent:Y,pool:Y}:B):B=m1(),N={baseLanes:N.baseLanes|r,cachePool:B}),f.memoizedState=N,f.childLanes=ju(e,b,r),n.memoizedState=Vu,o):(Ma(n),r=e.child,e=r.sibling,r=$i(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(b=n.deletions,b===null?(n.deletions=[e],n.flags|=16):b.push(e)),n.child=r,n.memoizedState=null,r)}function Yu(e,n){return n=ro({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ro(e,n){return e=Jn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Zu(e,n,r){return $r(n,e.child,null,r),e=Yu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function D0(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),fu(e.return,n,r)}function qu(e,n,r,o,f){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:f}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=r,d.tailMode=f)}function I0(e,n,r){var o=n.pendingProps,f=o.revealOrder,d=o.tail;if(vn(e,n,o.children,r),o=gn.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D0(e,r,n);else if(e.tag===19)D0(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Ee(gn,o),f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&to(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),qu(n,!1,f,r,d);break;case"backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&to(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}qu(n,!0,r,null,d);break;case"together":qu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function la(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Pa|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ml(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(A(153));if(n.child!==null){for(e=n.child,r=$i(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=$i(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Wu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ps(e)))}function ld(e,n,r){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),Ra(n,dn,e.memoizedState.cache),Dl();break;case 27:case 5:ji(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:Ra(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ma(n),n.flags|=128,null):(r&n.child.childLanes)!==0?O0(e,n,r):(Ma(n),e=la(e,n,r),e!==null?e.sibling:null);Ma(n);break;case 19:var f=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Ml(e,n,r,!1),o=(r&n.childLanes)!==0),f){if(o)return I0(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ee(gn,gn.current),o)break;return null;case 22:case 23:return n.lanes=0,v0(e,n,r);case 24:Ra(n,dn,e.memoizedState.cache)}return la(e,n,r)}function M0(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)An=!0;else{if(!Wu(e,r)&&(n.flags&128)===0)return An=!1,ld(e,n,r);An=(e.flags&131072)!==0}else An=!1,ft&&(n.flags&1048576)!==0&&u1(n,Fs,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")au(o)?(e=yr(o,e),n.tag=1,n=R0(null,n,o,e,r)):(n.tag=0,n=Gu(null,n,o,e,r));else{if(o!=null){if(f=o.$$typeof,f===Oe){n.tag=11,n=C0(null,n,o,e,r);break e}else if(f===se){n.tag=14,n=b0(null,n,o,e,r);break e}}throw n=pt(o)||o,Error(A(306,n,""))}}return n;case 0:return Gu(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,f=yr(o,n.pendingProps),R0(e,n,o,f,r);case 3:e:{if(je(n,n.stateNode.containerInfo),e===null)throw Error(A(387));o=n.pendingProps;var d=n.memoizedState;f=d.element,Au(e,n),Hl(n,o,null,r);var b=n.memoizedState;if(o=b.cache,Ra(n,dn,o),o!==d.cache&&hu(n,[dn],r,!0),Pl(),o=b.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=_0(e,n,o,r);break e}else if(o!==f){f=oi(Error(A(424)),n),Il(f),n=_0(e,n,o,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Yt=Ci(e.firstChild),Fn=n,ft=!0,dr=null,Hi=!0,r=f0(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Dl(),o===f){n=la(e,n,r);break e}vn(e,n,o,r)}n=n.child}return n;case 26:return ao(e,n),e===null?(r=Ff(n.type,null,n.pendingProps,null))?n.memoizedState=r:ft||(r=n.type,e=n.pendingProps,o=wo(he.current).createElement(r),o[xn]=n,o[Vt]=e,Nn(o,r,e),mt(o),n.stateNode=o):n.memoizedState=Ff(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ji(n),e===null&&ft&&(o=n.stateNode=Lf(n.type,n.pendingProps,he.current),Fn=n,Hi=!0,f=Yt,Va(n.type)?(_c=f,Yt=Ci(o.firstChild)):Yt=f),vn(e,n,n.pendingProps.children,r),ao(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ft&&((f=o=Yt)&&(o=Bd(o,n.type,n.pendingProps,Hi),o!==null?(n.stateNode=o,Fn=n,Yt=Ci(o.firstChild),Hi=!1,f=!0):f=!1),f||gr(n)),ji(n),f=n.type,d=n.pendingProps,b=e!==null?e.memoizedProps:null,o=d.children,vc(f,d)?o=null:b!==null&&vc(f,b)&&(n.flags|=32),n.memoizedState!==null&&(f=Su(e,n,Jh,null,null,r),os._currentValue=f),ao(e,n),vn(e,n,o,r),n.child;case 6:return e===null&&ft&&((e=r=Yt)&&(r=Ld(r,n.pendingProps,Hi),r!==null?(n.stateNode=r,Fn=n,Yt=null,e=!0):e=!1),e||gr(n)),null;case 13:return O0(e,n,r);case 4:return je(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=$r(n,null,o,r):vn(e,n,o,r),n.child;case 11:return C0(e,n,n.type,n.pendingProps,r);case 7:return vn(e,n,n.pendingProps,r),n.child;case 8:return vn(e,n,n.pendingProps.children,r),n.child;case 12:return vn(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,Ra(n,n.type,o.value),vn(e,n,o.children,r),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,mr(n),f=Bn(f),o=o(f),n.flags|=1,vn(e,n,o,r),n.child;case 14:return b0(e,n,n.type,n.pendingProps,r);case 15:return S0(e,n,n.type,n.pendingProps,r);case 19:return I0(e,n,r);case 31:return o=n.pendingProps,r=n.mode,o={mode:o.mode,children:o.children},e===null?(r=ro(o,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=$i(e.child,o),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return v0(e,n,r);case 24:return mr(n),o=Bn(dn),e===null?(f=xu(),f===null&&(f=It,d=du(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:o,cache:f},Eu(n),Ra(n,dn,f)):((e.lanes&r)!==0&&(Au(e,n),Hl(n,null,null,r),Pl()),f=e.memoizedState,d=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ra(n,dn,o)):(o=d.cache,Ra(n,dn,o),o!==f.cache&&hu(n,[dn],r,!0))),vn(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(A(156,n.tag))}function sa(e){e.flags|=4}function B0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vf(n)){if(n=hi.current,n!==null&&((st&4194048)===st?zi!==null:(st&62914560)!==st&&(st&536870912)===0||n!==zi))throw kl=mu,E1;e.flags|=8192}}function lo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?yl():536870912,e.lanes|=n,il|=n)}function Zl(e,n){if(!ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function zt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function sd(e,n,r){var o=n.pendingProps;switch(ou(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(n),null;case 1:return zt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ia(dn),Hn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ol(n)?sa(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,h1())),zt(n),null;case 26:return r=n.memoizedState,e===null?(sa(n),r!==null?(zt(n),B0(n,r)):(zt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(sa(n),zt(n),B0(n,r)):(zt(n),n.flags&=-16777217):(e.memoizedProps!==o&&sa(n),zt(n),n.flags&=-16777217),null;case 27:ln(n),r=he.current;var f=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&sa(n);else{if(!o){if(n.stateNode===null)throw Error(A(166));return zt(n),null}e=be.current,Ol(n)?c1(n):(e=Lf(f,o,r),n.stateNode=e,sa(n))}return zt(n),null;case 5:if(ln(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&sa(n);else{if(!o){if(n.stateNode===null)throw Error(A(166));return zt(n),null}if(e=be.current,Ol(n))c1(n);else{switch(f=wo(he.current),e){case 1:e=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=f.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?f.createElement(r,{is:o.is}):f.createElement(r)}}e[xn]=n,e[Vt]=o;e:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=e;e:switch(Nn(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&sa(n)}}return zt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&sa(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(A(166));if(e=he.current,Ol(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,f=Fn,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}e[xn]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||Rf(e.nodeValue,r)),e||gr(n)}else e=wo(e).createTextNode(o),e[xn]=n,n.stateNode=e}return zt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ol(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(A(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(A(317));f[xn]=n}else Dl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;zt(n),f=!1}else f=h1(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(ra(n),n):(ra(n),null)}if(ra(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==f&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),lo(n,n.updateQueue),zt(n),null;case 4:return Hn(),e===null&&wc(n.stateNode.containerInfo),zt(n),null;case 10:return ia(n.type),zt(n),null;case 19:if(xe(gn),f=n.memoizedState,f===null)return zt(n),null;if(o=(n.flags&128)!==0,d=f.rendering,d===null)if(o)Zl(f,!1);else{if(Zt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=to(e),d!==null){for(n.flags|=128,Zl(f,!1),e=d.updateQueue,n.updateQueue=e,lo(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)o1(r,e),r=r.sibling;return Ee(gn,gn.current&1|2),n.child}e=e.sibling}f.tail!==null&&Ct()>uo&&(n.flags|=128,o=!0,Zl(f,!1),n.lanes=4194304)}else{if(!o)if(e=to(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,lo(n,e),Zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!ft)return zt(n),null}else 2*Ct()-f.renderingStartTime>uo&&r!==536870912&&(n.flags|=128,o=!0,Zl(f,!1),n.lanes=4194304);f.isBackwards?(d.sibling=n.child,n.child=d):(e=f.last,e!==null?e.sibling=d:n.child=d,f.last=d)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=Ct(),n.sibling=null,e=gn.current,Ee(gn,o?e&1|2:e&1),n):(zt(n),null);case 22:case 23:return ra(n),Cu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(zt(n),n.subtreeFlags&6&&(n.flags|=8192)):zt(n),r=n.updateQueue,r!==null&&lo(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&xe(Er),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),ia(dn),zt(n),null;case 25:return null;case 30:return null}throw Error(A(156,n.tag))}function od(e,n){switch(ou(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ia(dn),Hn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ln(n),null;case 13:if(ra(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(A(340));Dl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return xe(gn),null;case 4:return Hn(),null;case 10:return ia(n.type),null;case 22:case 23:return ra(n),Cu(),e!==null&&xe(Er),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ia(dn),null;case 25:return null;default:return null}}function L0(e,n){switch(ou(n),n.tag){case 3:ia(dn),Hn();break;case 26:case 27:case 5:ln(n);break;case 4:Hn();break;case 13:ra(n);break;case 19:xe(gn);break;case 10:ia(n.type);break;case 22:case 23:ra(n),Cu(),e!==null&&xe(Er);break;case 24:ia(dn)}}function ql(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var f=o.next;r=f;do{if((r.tag&e)===e){o=void 0;var d=r.create,b=r.inst;o=d(),b.destroy=o}r=r.next}while(r!==f)}}catch(N){Ot(n,n.return,N)}}function La(e,n,r){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var d=f.next;o=d;do{if((o.tag&e)===e){var b=o.inst,N=b.destroy;if(N!==void 0){b.destroy=void 0,f=n;var B=r,Y=N;try{Y()}catch(ee){Ot(f,B,ee)}}}o=o.next}while(o!==d)}}catch(ee){Ot(n,n.return,ee)}}function U0(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{b1(n,r)}catch(o){Ot(e,e.return,o)}}}function k0(e,n,r){r.props=yr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ot(e,n,o)}}function Wl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(f){Ot(e,n,f)}}function Gi(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(f){Ot(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){Ot(e,n,f)}else r.current=null}function F0(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(f){Ot(e,e.return,f)}}function Qu(e,n,r){try{var o=e.stateNode;_d(o,e.type,r,n),o[Vt]=n}catch(f){Ot(e,e.return,f)}}function P0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Va(e.type)||e.tag===4}function Ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||P0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ju(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=yo));else if(o!==4&&(o===27&&Va(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Ju(e,n,r),e=e.sibling;e!==null;)Ju(e,n,r),e=e.sibling}function so(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Va(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(so(e,n,r),e=e.sibling;e!==null;)so(e,n,r),e=e.sibling}function H0(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Nn(n,o,r),n[xn]=e,n[Vt]=r}catch(d){Ot(e,e.return,d)}}var oa=!1,en=!1,$u=!1,z0=typeof WeakSet=="function"?WeakSet:Set,yn=null;function ud(e,n){if(e=e.containerInfo,bc=To,e=x(e),y(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var f=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break e}var b=0,N=-1,B=-1,Y=0,ee=0,ne=e,Z=null;t:for(;;){for(var W;ne!==r||f!==0&&ne.nodeType!==3||(N=b+f),ne!==d||o!==0&&ne.nodeType!==3||(B=b+o),ne.nodeType===3&&(b+=ne.nodeValue.length),(W=ne.firstChild)!==null;)Z=ne,ne=W;for(;;){if(ne===e)break t;if(Z===r&&++Y===f&&(N=b),Z===d&&++ee===o&&(B=b),(W=ne.nextSibling)!==null)break;ne=Z,Z=ne.parentNode}ne=W}r=N===-1||B===-1?null:{start:N,end:B}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sc={focusedElem:e,selectionRange:r},To=!1,yn=n;yn!==null;)if(n=yn,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,yn=e;else for(;yn!==null;){switch(n=yn,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,o=r.stateNode;try{var ze=yr(r.type,f,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(ze,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){Ot(r,r.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Nc(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(A(163))}if(e=n.sibling,e!==null){e.return=n.return,yn=e;break}yn=n.return}}function G0(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ua(e,r),o&4&&ql(5,r);break;case 1:if(Ua(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(b){Ot(r,r.return,b)}else{var f=yr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(b){Ot(r,r.return,b)}}o&64&&U0(r),o&512&&Wl(r,r.return);break;case 3:if(Ua(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{b1(e,n)}catch(b){Ot(r,r.return,b)}}break;case 27:n===null&&o&4&&H0(r);case 26:case 5:Ua(e,r),n===null&&o&4&&F0(r),o&512&&Wl(r,r.return);break;case 12:Ua(e,r);break;case 13:Ua(e,r),o&4&&j0(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Ad.bind(null,r),Ud(e,r))));break;case 22:if(o=r.memoizedState!==null||oa,!o){n=n!==null&&n.memoizedState!==null||en,f=oa;var d=en;oa=o,(en=n)&&!d?ka(e,r,(r.subtreeFlags&8772)!==0):Ua(e,r),oa=f,en=d}break;case 30:break;default:Ua(e,r)}}function V0(e){var n=e.alternate;n!==null&&(e.alternate=null,V0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&er(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Yn=!1;function ua(e,n,r){for(r=r.child;r!==null;)X0(e,n,r),r=r.sibling}function X0(e,n,r){if(Rn&&typeof Rn.onCommitFiberUnmount=="function")try{Rn.onCommitFiberUnmount(Cn,r)}catch{}switch(r.tag){case 26:en||Gi(r,n),ua(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:en||Gi(r,n);var o=Ft,f=Yn;Va(r.type)&&(Ft=r.stateNode,Yn=!1),ua(e,n,r),as(r.stateNode),Ft=o,Yn=f;break;case 5:en||Gi(r,n);case 6:if(o=Ft,f=Yn,Ft=null,ua(e,n,r),Ft=o,Yn=f,Ft!==null)if(Yn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(r.stateNode)}catch(d){Ot(r,n,d)}else try{Ft.removeChild(r.stateNode)}catch(d){Ot(r,n,d)}break;case 18:Ft!==null&&(Yn?(e=Ft,Mf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),hs(e)):Mf(Ft,r.stateNode));break;case 4:o=Ft,f=Yn,Ft=r.stateNode.containerInfo,Yn=!0,ua(e,n,r),Ft=o,Yn=f;break;case 0:case 11:case 14:case 15:en||La(2,r,n),en||La(4,r,n),ua(e,n,r);break;case 1:en||(Gi(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&k0(r,n,o)),ua(e,n,r);break;case 21:ua(e,n,r);break;case 22:en=(o=en)||r.memoizedState!==null,ua(e,n,r),en=o;break;default:ua(e,n,r)}}function j0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hs(e)}catch(r){Ot(n,n.return,r)}}function cd(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new z0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new z0),n;default:throw Error(A(435,e.tag))}}function ec(e,n){var r=cd(e);n.forEach(function(o){var f=yd.bind(null,e,o);r.has(o)||(r.add(o),o.then(f,f))})}function $n(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var f=r[o],d=e,b=n,N=b;e:for(;N!==null;){switch(N.tag){case 27:if(Va(N.type)){Ft=N.stateNode,Yn=!1;break e}break;case 5:Ft=N.stateNode,Yn=!1;break e;case 3:case 4:Ft=N.stateNode.containerInfo,Yn=!0;break e}N=N.return}if(Ft===null)throw Error(A(160));X0(d,b,f),Ft=null,Yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Y0(n,e),n=n.sibling}var pi=null;function Y0(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:$n(n,e),ei(e),o&4&&(La(3,e,e.return),ql(3,e),La(5,e,e.return));break;case 1:$n(n,e),ei(e),o&512&&(en||r===null||Gi(r,r.return)),o&64&&oa&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var f=pi;if($n(n,e),ei(e),o&512&&(en||r===null||Gi(r,r.return)),o&4){var d=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){e:{o=e.type,r=e.memoizedProps,f=f.ownerDocument||f;t:switch(o){case"title":d=f.getElementsByTagName("title")[0],(!d||d[li]||d[xn]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(o),f.head.insertBefore(d,f.querySelector("head > title"))),Nn(d,o,r),d[xn]=e,mt(d),o=d;break e;case"link":var b=zf("link","href",f).get(o+(r.href||""));if(b){for(var N=0;N<b.length;N++)if(d=b[N],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(N,1);break t}}d=f.createElement(o),Nn(d,o,r),f.head.appendChild(d);break;case"meta":if(b=zf("meta","content",f).get(o+(r.content||""))){for(N=0;N<b.length;N++)if(d=b[N],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(N,1);break t}}d=f.createElement(o),Nn(d,o,r),f.head.appendChild(d);break;default:throw Error(A(468,o))}d[xn]=e,mt(d),o=d}e.stateNode=o}else Gf(f,e.type,e.stateNode);else e.stateNode=Hf(f,o,e.memoizedProps);else d!==o?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,o===null?Gf(f,e.type,e.stateNode):Hf(f,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Qu(e,e.memoizedProps,r.memoizedProps)}break;case 27:$n(n,e),ei(e),o&512&&(en||r===null||Gi(r,r.return)),r!==null&&o&4&&Qu(e,e.memoizedProps,r.memoizedProps);break;case 5:if($n(n,e),ei(e),o&512&&(en||r===null||Gi(r,r.return)),e.flags&32){f=e.stateNode;try{cn(f,"")}catch(W){Ot(e,e.return,W)}}o&4&&e.stateNode!=null&&(f=e.memoizedProps,Qu(e,f,r!==null?r.memoizedProps:f)),o&1024&&($u=!0);break;case 6:if($n(n,e),ei(e),o&4){if(e.stateNode===null)throw Error(A(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(W){Ot(e,e.return,W)}}break;case 3:if(bo=null,f=pi,pi=po(n.containerInfo),$n(n,e),pi=f,ei(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{hs(n.containerInfo)}catch(W){Ot(e,e.return,W)}$u&&($u=!1,Z0(e));break;case 4:o=pi,pi=po(e.stateNode.containerInfo),$n(n,e),ei(e),pi=o;break;case 12:$n(n,e),ei(e);break;case 13:$n(n,e),ei(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(lc=Ct()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:f=e.memoizedState!==null;var B=r!==null&&r.memoizedState!==null,Y=oa,ee=en;if(oa=Y||f,en=ee||B,$n(n,e),en=ee,oa=Y,ei(e),o&8192)e:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||B||oa||en||wr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){B=r=n;try{if(d=B.stateNode,f)b=d.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{N=B.stateNode;var ne=B.memoizedProps.style,Z=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;N.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){Ot(B,B.return,W)}}}else if(n.tag===6){if(r===null){B=n;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(W){Ot(B,B.return,W)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,ec(e,r))));break;case 19:$n(n,e),ei(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:$n(n,e),ei(e)}}function ei(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(P0(o)){r=o;break}o=o.return}if(r==null)throw Error(A(160));switch(r.tag){case 27:var f=r.stateNode,d=Ku(e);so(e,d,f);break;case 5:var b=r.stateNode;r.flags&32&&(cn(b,""),r.flags&=-33);var N=Ku(e);so(e,N,b);break;case 3:case 4:var B=r.stateNode.containerInfo,Y=Ku(e);Ju(e,Y,B);break;default:throw Error(A(161))}}catch(ee){Ot(e,e.return,ee)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Z0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Z0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ua(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)G0(e,n.alternate,n),n=n.sibling}function wr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:La(4,n,n.return),wr(n);break;case 1:Gi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&k0(n,n.return,r),wr(n);break;case 27:as(n.stateNode);case 26:case 5:Gi(n,n.return),wr(n);break;case 22:n.memoizedState===null&&wr(n);break;case 30:wr(n);break;default:wr(n)}e=e.sibling}}function ka(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=e,d=n,b=d.flags;switch(d.tag){case 0:case 11:case 15:ka(f,d,r),ql(4,d);break;case 1:if(ka(f,d,r),o=d,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(Y){Ot(o,o.return,Y)}if(o=d,f=o.updateQueue,f!==null){var N=o.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)C1(B[f],N)}catch(Y){Ot(o,o.return,Y)}}r&&b&64&&U0(d),Wl(d,d.return);break;case 27:H0(d);case 26:case 5:ka(f,d,r),r&&o===null&&b&4&&F0(d),Wl(d,d.return);break;case 12:ka(f,d,r);break;case 13:ka(f,d,r),r&&b&4&&j0(f,d);break;case 22:d.memoizedState===null&&ka(f,d,r),Wl(d,d.return);break;case 30:break;default:ka(f,d,r)}n=n.sibling}}function tc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Bl(r))}function nc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bl(e))}function Vi(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)q0(e,n,r,o),n=n.sibling}function q0(e,n,r,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:Vi(e,n,r,o),f&2048&&ql(9,n);break;case 1:Vi(e,n,r,o);break;case 3:Vi(e,n,r,o),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bl(e)));break;case 12:if(f&2048){Vi(e,n,r,o),e=n.stateNode;try{var d=n.memoizedProps,b=d.id,N=d.onPostCommit;typeof N=="function"&&N(b,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(B){Ot(n,n.return,B)}}else Vi(e,n,r,o);break;case 13:Vi(e,n,r,o);break;case 23:break;case 22:d=n.stateNode,b=n.alternate,n.memoizedState!==null?d._visibility&2?Vi(e,n,r,o):Ql(e,n):d._visibility&2?Vi(e,n,r,o):(d._visibility|=2,el(e,n,r,o,(n.subtreeFlags&10256)!==0)),f&2048&&tc(b,n);break;case 24:Vi(e,n,r,o),f&2048&&nc(n.alternate,n);break;default:Vi(e,n,r,o)}}function el(e,n,r,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,b=n,N=r,B=o,Y=b.flags;switch(b.tag){case 0:case 11:case 15:el(d,b,N,B,f),ql(8,b);break;case 23:break;case 22:var ee=b.stateNode;b.memoizedState!==null?ee._visibility&2?el(d,b,N,B,f):Ql(d,b):(ee._visibility|=2,el(d,b,N,B,f)),f&&Y&2048&&tc(b.alternate,b);break;case 24:el(d,b,N,B,f),f&&Y&2048&&nc(b.alternate,b);break;default:el(d,b,N,B,f)}n=n.sibling}}function Ql(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,f=o.flags;switch(o.tag){case 22:Ql(r,o),f&2048&&tc(o.alternate,o);break;case 24:Ql(r,o),f&2048&&nc(o.alternate,o);break;default:Ql(r,o)}n=n.sibling}}var Kl=8192;function tl(e){if(e.subtreeFlags&Kl)for(e=e.child;e!==null;)W0(e),e=e.sibling}function W0(e){switch(e.tag){case 26:tl(e),e.flags&Kl&&e.memoizedState!==null&&Wd(pi,e.memoizedState,e.memoizedProps);break;case 5:tl(e);break;case 3:case 4:var n=pi;pi=po(e.stateNode.containerInfo),tl(e),pi=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Kl,Kl=16777216,tl(e),Kl=n):tl(e));break;default:tl(e)}}function Q0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];yn=o,J0(o,e)}Q0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)K0(e),e=e.sibling}function K0(e){switch(e.tag){case 0:case 11:case 15:Jl(e),e.flags&2048&&La(9,e,e.return);break;case 3:Jl(e);break;case 12:Jl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oo(e)):Jl(e);break;default:Jl(e)}}function oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];yn=o,J0(o,e)}Q0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:La(8,n,n.return),oo(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,oo(n));break;default:oo(n)}e=e.sibling}}function J0(e,n){for(;yn!==null;){var r=yn;switch(r.tag){case 0:case 11:case 15:La(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bl(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,yn=o;else e:for(r=e;yn!==null;){o=yn;var f=o.sibling,d=o.return;if(V0(o),o===r){yn=null;break e}if(f!==null){f.return=d,yn=f;break e}yn=d}}}var fd={getCacheForType:function(e){var n=Bn(dn),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},hd=typeof WeakMap=="function"?WeakMap:Map,yt=0,It=null,$e=null,st=0,wt=0,ti=null,Fa=!1,nl=!1,ic=!1,ca=0,Zt=0,Pa=0,pr=0,ac=0,di=0,il=0,$l=null,Zn=null,rc=!1,lc=0,uo=1/0,co=null,Ha=null,Tn=0,za=null,al=null,rl=0,sc=0,oc=null,$0=null,es=0,uc=null;function ni(){if((yt&2)!==0&&st!==0)return st&-st;if($.T!==null){var e=Yr;return e!==0?e:mc()}return Yi()}function ef(){di===0&&(di=(st&536870912)===0||ft?Nr():536870912);var e=hi.current;return e!==null&&(e.flags|=32),di}function ii(e,n,r){(e===It&&(wt===2||wt===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Ga(e,st,di,!1)),qn(e,r),((yt&2)===0||e!==It)&&(e===It&&((yt&2)===0&&(pr|=r),Zt===4&&Ga(e,st,di,!1)),Xi(e))}function tf(e,n,r){if((yt&6)!==0)throw Error(A(327));var o=!r&&(n&124)===0&&(n&e.expiredLanes)===0||St(e,n),f=o?xd(e,n):hc(e,n,!0),d=o;do{if(f===0){nl&&!o&&Ga(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!dd(r)){f=hc(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var b=0;else b=e.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var N=e;f=$l;var B=N.current.memoizedState.isDehydrated;if(B&&(ll(N,b).flags|=256),b=hc(N,b,!1),b!==2){if(ic&&!B){N.errorRecoveryDisabledLanes|=d,pr|=d,f=4;break e}d=Zn,Zn=f,d!==null&&(Zn===null?Zn=d:Zn.push.apply(Zn,d))}f=b}if(d=!1,f!==2)continue}}if(f===1){ll(e,0),Ga(e,n,0,!0);break}e:{switch(o=e,d=f,d){case 0:case 1:throw Error(A(345));case 4:if((n&4194048)!==n)break;case 6:Ga(o,n,di,!Fa);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(A(329))}if((n&62914560)===n&&(f=lc+300-Ct(),10<f)){if(Ga(o,n,di,!Fa),ot(o,0,!0)!==0)break e;o.timeoutHandle=Df(nf.bind(null,o,r,Zn,co,rc,n,di,pr,il,Fa,d,2,-0,0),f);break e}nf(o,r,Zn,co,rc,n,di,pr,il,Fa,d,0,-0,0)}}break}while(!0);Xi(e)}function nf(e,n,r,o,f,d,b,N,B,Y,ee,ne,Z,W){if(e.timeoutHandle=-1,ne=n.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(ss={stylesheets:null,count:0,unsuspend:qd},W0(n),ne=Qd(),ne!==null)){e.cancelPendingCommit=ne(cf.bind(null,e,n,d,r,o,f,b,N,B,ee,1,Z,W)),Ga(e,d,b,!Y);return}cf(e,n,d,r,o,f,b,N,B)}function dd(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var f=r[o],d=f.getSnapshot;f=f.value;try{if(!l(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ga(e,n,r,o){n&=~ac,n&=~pr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var f=n;0<f;){var d=31-xt(f),b=1<<d;o[d]=-1,f&=~b}r!==0&&wl(e,r,n)}function fo(){return(yt&6)===0?(ts(0),!1):!0}function cc(){if($e!==null){if(wt===0)var e=$e.return;else e=$e,na=xr=null,Nu(e),Jr=null,jl=0,e=$e;for(;e!==null;)L0(e.alternate,e),e=e.return;$e=null}}function ll(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Dd(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),cc(),It=e,$e=r=$i(e.current,null),st=n,wt=0,ti=null,Fa=!1,nl=St(e,n),ic=!1,il=di=ac=pr=Pa=Zt=0,Zn=$l=null,rc=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var f=31-xt(o),d=1<<f;n|=e[f],o&=~d}return ca=n,Ms(),r}function af(e,n){We=null,$.H=Js,n===Ul||n===Gs?(n=w1(),wt=3):n===E1?(n=w1(),wt=4):wt=n===p0?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,ti=n,$e===null&&(Zt=1,io(e,oi(n,e.current)))}function rf(){var e=$.H;return $.H=Js,e===null?Js:e}function lf(){var e=$.A;return $.A=fd,e}function fc(){Zt=4,Fa||(st&4194048)!==st&&hi.current!==null||(nl=!0),(Pa&134217727)===0&&(pr&134217727)===0||It===null||Ga(It,st,di,!1)}function hc(e,n,r){var o=yt;yt|=2;var f=rf(),d=lf();(It!==e||st!==n)&&(co=null,ll(e,n)),n=!1;var b=Zt;e:do try{if(wt!==0&&$e!==null){var N=$e,B=ti;switch(wt){case 8:cc(),b=6;break e;case 3:case 2:case 9:case 6:hi.current===null&&(n=!0);var Y=wt;if(wt=0,ti=null,sl(e,N,B,Y),r&&nl){b=0;break e}break;default:Y=wt,wt=0,ti=null,sl(e,N,B,Y)}}gd(),b=Zt;break}catch(ee){af(e,ee)}while(!0);return n&&e.shellSuspendCounter++,na=xr=null,yt=o,$.H=f,$.A=d,$e===null&&(It=null,st=0,Ms()),b}function gd(){for(;$e!==null;)sf($e)}function xd(e,n){var r=yt;yt|=2;var o=rf(),f=lf();It!==e||st!==n?(co=null,uo=Ct()+500,ll(e,n)):nl=St(e,n);e:do try{if(wt!==0&&$e!==null){n=$e;var d=ti;t:switch(wt){case 1:wt=0,ti=null,sl(e,n,d,1);break;case 2:case 9:if(A1(d)){wt=0,ti=null,of(n);break}n=function(){wt!==2&&wt!==9||It!==e||(wt=7),Xi(e)},d.then(n,n);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:A1(d)?(wt=0,ti=null,of(n)):(wt=0,ti=null,sl(e,n,d,7));break;case 5:var b=null;switch($e.tag){case 26:b=$e.memoizedState;case 5:case 27:var N=$e;if(!b||Vf(b)){wt=0,ti=null;var B=N.sibling;if(B!==null)$e=B;else{var Y=N.return;Y!==null?($e=Y,ho(Y)):$e=null}break t}}wt=0,ti=null,sl(e,n,d,5);break;case 6:wt=0,ti=null,sl(e,n,d,6);break;case 8:cc(),Zt=6;break e;default:throw Error(A(462))}}md();break}catch(ee){af(e,ee)}while(!0);return na=xr=null,$.H=o,$.A=f,yt=r,$e!==null?0:(It=null,st=0,Ms(),Zt)}function md(){for(;$e!==null&&!ri();)sf($e)}function sf(e){var n=M0(e.alternate,e,ca);e.memoizedProps=e.pendingProps,n===null?ho(e):$e=n}function of(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=N0(r,n,n.pendingProps,n.type,void 0,st);break;case 11:n=N0(r,n,n.pendingProps,n.type.render,n.ref,st);break;case 5:Nu(n);default:L0(r,n),n=$e=o1(n,ca),n=M0(r,n,ca)}e.memoizedProps=e.pendingProps,n===null?ho(e):$e=n}function sl(e,n,r,o){na=xr=null,Nu(n),Jr=null,jl=0;var f=n.return;try{if(rd(e,f,n,r,st)){Zt=1,io(e,oi(r,e.current)),$e=null;return}}catch(d){if(f!==null)throw $e=f,d;Zt=1,io(e,oi(r,e.current)),$e=null;return}n.flags&32768?(ft||o===1?e=!0:nl||(st&536870912)!==0?e=!1:(Fa=e=!0,(o===2||o===9||o===3||o===6)&&(o=hi.current,o!==null&&o.tag===13&&(o.flags|=16384))),uf(n,e)):ho(n)}function ho(e){var n=e;do{if((n.flags&32768)!==0){uf(n,Fa);return}e=n.return;var r=sd(n.alternate,n,ca);if(r!==null){$e=r;return}if(n=n.sibling,n!==null){$e=n;return}$e=n=e}while(n!==null);Zt===0&&(Zt=5)}function uf(e,n){do{var r=od(e.alternate,e);if(r!==null){r.flags&=32767,$e=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){$e=e;return}$e=e=r}while(e!==null);Zt=6,$e=null}function cf(e,n,r,o,f,d,b,N,B){e.cancelPendingCommit=null;do go();while(Tn!==0);if((yt&6)!==0)throw Error(A(327));if(n!==null){if(n===e.current)throw Error(A(177));if(d=n.lanes|n.childLanes,d|=nu,Cs(e,r,d,b,N,B),e===It&&($e=It=null,st=0),al=n,za=e,rl=r,sc=d,oc=f,$0=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,wd(Te,function(){return xf(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,f=G.p,G.p=2,b=yt,yt|=4;try{ud(e,n,r)}finally{yt=b,G.p=f,$.T=o}}Tn=1,ff(),hf(),df()}}function ff(){if(Tn===1){Tn=0;var e=za,n=al,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=$.T,$.T=null;var o=G.p;G.p=2;var f=yt;yt|=4;try{Y0(n,e);var d=Sc,b=x(e.containerInfo),N=d.focusedElem,B=d.selectionRange;if(b!==N&&N&&N.ownerDocument&&h(N.ownerDocument.documentElement,N)){if(B!==null&&y(N)){var Y=B.start,ee=B.end;if(ee===void 0&&(ee=Y),"selectionStart"in N)N.selectionStart=Y,N.selectionEnd=Math.min(ee,N.value.length);else{var ne=N.ownerDocument||document,Z=ne&&ne.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),ze=N.textContent.length,Pe=Math.min(B.start,ze),Nt=B.end===void 0?Pe:Math.min(B.end,ze);!W.extend&&Pe>Nt&&(b=Nt,Nt=Pe,Pe=b);var z=c(N,Pe),H=c(N,Nt);if(z&&H&&(W.rangeCount!==1||W.anchorNode!==z.node||W.anchorOffset!==z.offset||W.focusNode!==H.node||W.focusOffset!==H.offset)){var j=ne.createRange();j.setStart(z.node,z.offset),W.removeAllRanges(),Pe>Nt?(W.addRange(j),W.extend(H.node,H.offset)):(j.setEnd(H.node,H.offset),W.addRange(j))}}}}for(ne=[],W=N;W=W.parentNode;)W.nodeType===1&&ne.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ne.length;N++){var te=ne[N];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}To=!!bc,Sc=bc=null}finally{yt=f,G.p=o,$.T=r}}e.current=n,Tn=2}}function hf(){if(Tn===2){Tn=0;var e=za,n=al,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=$.T,$.T=null;var o=G.p;G.p=2;var f=yt;yt|=4;try{G0(e,n.alternate,n)}finally{yt=f,G.p=o,$.T=r}}Tn=3}}function df(){if(Tn===4||Tn===3){Tn=0,Qa();var e=za,n=al,r=rl,o=$0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Tn=5:(Tn=0,al=za=null,gf(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Ha=null),tn(r),n=n.stateNode,Rn&&typeof Rn.onCommitFiberRoot=="function")try{Rn.onCommitFiberRoot(Cn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,f=G.p,G.p=2,$.T=null;try{for(var d=e.onRecoverableError,b=0;b<o.length;b++){var N=o[b];d(N.value,{componentStack:N.stack})}}finally{$.T=n,G.p=f}}(rl&3)!==0&&go(),Xi(e),f=e.pendingLanes,(r&4194090)!==0&&(f&42)!==0?e===uc?es++:(es=0,uc=e):es=0,ts(0)}}function gf(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bl(n)))}function go(e){return ff(),hf(),df(),xf()}function xf(){if(Tn!==5)return!1;var e=za,n=sc;sc=0;var r=tn(rl),o=$.T,f=G.p;try{G.p=32>r?32:r,$.T=null,r=oc,oc=null;var d=za,b=rl;if(Tn=0,al=za=null,rl=0,(yt&6)!==0)throw Error(A(331));var N=yt;if(yt|=4,K0(d.current),q0(d,d.current,b,r),yt=N,ts(0,!1),Rn&&typeof Rn.onPostCommitFiberRoot=="function")try{Rn.onPostCommitFiberRoot(Cn,d)}catch{}return!0}finally{G.p=f,$.T=o,gf(e,n)}}function mf(e,n,r){n=oi(r,n),n=zu(e.stateNode,n,2),e=Da(e,n,2),e!==null&&(qn(e,2),Xi(e))}function Ot(e,n,r){if(e.tag===3)mf(e,e,r);else for(;n!==null;){if(n.tag===3){mf(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ha===null||!Ha.has(o))){e=oi(r,e),r=y0(2),o=Da(n,r,2),o!==null&&(w0(r,o,n,e),qn(o,2),Xi(o));break}}n=n.return}}function dc(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new hd;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(r)||(ic=!0,f.add(r),e=Ed.bind(null,e,n,r),n.then(e,e))}function Ed(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,It===e&&(st&r)===r&&(Zt===4||Zt===3&&(st&62914560)===st&&300>Ct()-lc?(yt&2)===0&&ll(e,0):ac|=r,il===st&&(il=0)),Xi(e)}function Ef(e,n){n===0&&(n=yl()),e=Gr(e,n),e!==null&&(qn(e,n),Xi(e))}function Ad(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Ef(e,r)}function yd(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(A(314))}o!==null&&o.delete(n),Ef(e,r)}function wd(e,n){return at(e,n)}var xo=null,ol=null,gc=!1,mo=!1,xc=!1,Cr=0;function Xi(e){e!==ol&&e.next===null&&(ol===null?xo=ol=e:ol=ol.next=e),mo=!0,gc||(gc=!0,Cd())}function ts(e,n){if(!xc&&mo){xc=!0;do for(var r=!1,o=xo;o!==null;){if(e!==0){var f=o.pendingLanes;if(f===0)var d=0;else{var b=o.suspendedLanes,N=o.pingedLanes;d=(1<<31-xt(42|e)+1)-1,d&=f&~(b&~N),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,pf(o,d))}else d=st,d=ot(o,o===It?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||St(o,d)||(r=!0,pf(o,d));o=o.next}while(r);xc=!1}}function pd(){Af()}function Af(){mo=gc=!1;var e=0;Cr!==0&&(Od()&&(e=Cr),Cr=0);for(var n=Ct(),r=null,o=xo;o!==null;){var f=o.next,d=yf(o,n);d===0?(o.next=null,r===null?xo=f:r.next=f,f===null&&(ol=r)):(r=o,(e!==0||(d&3)!==0)&&(mo=!0)),o=f}ts(e)}function yf(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var b=31-xt(d),N=1<<b,B=f[b];B===-1?((N&r)===0||(N&o)!==0)&&(f[b]=Ja(N,n)):B<=n&&(e.expiredLanes|=N),d&=~N}if(n=It,r=st,r=ot(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(wt===2||wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ti(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||St(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Ti(o),tn(r)){case 2:case 8:r=Ka;break;case 32:r=Te;break;case 268435456:r=El;break;default:r=Te}return o=wf.bind(null,e),r=at(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Ti(o),e.callbackPriority=2,e.callbackNode=null,2}function wf(e,n){if(Tn!==0&&Tn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(go()&&e.callbackNode!==r)return null;var o=st;return o=ot(e,e===It?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(tf(e,o,n),yf(e,Ct()),e.callbackNode!=null&&e.callbackNode===r?wf.bind(null,e):null)}function pf(e,n){if(go())return null;tf(e,n,!0)}function Cd(){Id(function(){(yt&6)!==0?at(nt,pd):Af()})}function mc(){return Cr===0&&(Cr=Nr()),Cr}function Cf(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mr(""+e)}function bf(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function bd(e,n,r,o,f){if(n==="submit"&&r&&r.stateNode===f){var d=Cf((f[Vt]||null).action),b=o.submitter;b&&(n=(n=b[Vt]||null)?Cf(n.formAction):b.getAttribute("formAction"),n!==null&&(d=n,b=null));var N=new Ui("action","action",null,o,f);e.push({event:N,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var B=b?bf(f,b):new FormData(f);Uu(r,{pending:!0,data:B,method:f.method,action:d},null,B)}}else typeof d=="function"&&(N.preventDefault(),B=b?bf(f,b):new FormData(f),Uu(r,{pending:!0,data:B,method:f.method,action:d},d,B))},currentTarget:f}]})}}for(var Ec=0;Ec<Pi.length;Ec++){var Ac=Pi[Ec],Sd=Ac.toLowerCase(),vd=Ac[0].toUpperCase()+Ac.slice(1);Kn(Sd,"on"+vd)}Kn(Ge,"onAnimationEnd"),Kn(Sn,"onAnimationIteration"),Kn(Xn,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(In,"onTransitionRun"),Kn(At,"onTransitionStart"),Kn(hn,"onTransitionCancel"),Kn(Mn,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Td=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ns));function Sf(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],f=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var b=o.length-1;0<=b;b--){var N=o[b],B=N.instance,Y=N.currentTarget;if(N=N.listener,B!==d&&f.isPropagationStopped())break e;d=N,f.currentTarget=Y;try{d(f)}catch(ee){no(ee)}f.currentTarget=null,d=B}else for(b=0;b<o.length;b++){if(N=o[b],B=N.instance,Y=N.currentTarget,N=N.listener,B!==d&&f.isPropagationStopped())break e;d=N,f.currentTarget=Y;try{d(f)}catch(ee){no(ee)}f.currentTarget=null,d=B}}}}function et(e,n){var r=n[mn];r===void 0&&(r=n[mn]=new Set);var o=e+"__bubble";r.has(o)||(vf(n,e,2,!1),r.add(o))}function yc(e,n,r){var o=0;n&&(o|=4),vf(r,e,o,n)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function wc(e){if(!e[Eo]){e[Eo]=!0,bs.forEach(function(r){r!=="selectionchange"&&(Td.has(r)||yc(r,!1,e),yc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Eo]||(n[Eo]=!0,yc("selectionchange",!1,n))}}function vf(e,n,r,o){switch(Wf(n)){case 2:var f=$d;break;case 8:f=e2;break;default:f=Bc}r=f.bind(null,n,r,e),f=void 0,!Ve||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function pc(e,n,r,o,f){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var N=o.stateNode.containerInfo;if(N===f)break;if(b===4)for(b=o.return;b!==null;){var B=b.tag;if((B===3||B===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;N!==null;){if(b=Wt(N),b===null)return;if(B=b.tag,B===5||B===6||B===26||B===27){o=d=b;continue e}N=N.parentNode}}o=o.return}Ai(function(){var Y=d,ee=Ea(r),ne=[];e:{var Z=Ji.get(e);if(Z!==void 0){var W=Ui,ze=e;switch(e){case"keypress":if(Br(r)===0)break e;case"keydown":case"keyup":W=Sl;break;case"focusin":ze="focus",W=pa;break;case"focusout":ze="blur",W=pa;break;case"beforeblur":case"afterblur":W=pa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=dt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Et;break;case Ge:case Sn:case Xn:W=qo;break;case Mn:W=Jo;break;case"scroll":case"scrollend":W=On;break;case"wheel":W=Qi;break;case"copy":case"cut":case"paste":W=Ye;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=lr;break;case"toggle":case"beforetoggle":W=$o}var Pe=(n&4)!==0,Nt=!Pe&&(e==="scroll"||e==="scrollend"),z=Pe?Z!==null?Z+"Capture":null:Z;Pe=[];for(var H=Y,j;H!==null;){var te=H;if(j=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||j===null||z===null||(te=Le(H,z),te!=null&&Pe.push(is(H,te,j))),Nt)break;H=H.return}0<Pe.length&&(Z=new W(Z,ze,null,r,ee),ne.push({event:Z,listeners:Pe}))}}if((n&7)===0){e:{if(Z=e==="mouseover"||e==="pointerover",W=e==="mouseout"||e==="pointerout",Z&&r!==tr&&(ze=r.relatedTarget||r.fromElement)&&(Wt(ze)||ze[Ni]))break e;if((W||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(ze=r.relatedTarget||r.toElement,W=Y,ze=ze?Wt(ze):null,ze!==null&&(Nt=w(ze),Pe=ze.tag,ze!==Nt||Pe!==5&&Pe!==27&&Pe!==6)&&(ze=null)):(W=null,ze=Y),W!==ze)){if(Pe=Ns,te="onMouseLeave",z="onMouseEnter",H="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=lr,te="onPointerLeave",z="onPointerEnter",H="pointer"),Nt=W==null?Z:Ri(W),j=ze==null?Z:Ri(ze),Z=new Pe(te,H+"leave",W,r,ee),Z.target=Nt,Z.relatedTarget=j,te=null,Wt(ee)===Y&&(Pe=new Pe(z,H+"enter",ze,r,ee),Pe.target=j,Pe.relatedTarget=Nt,te=Pe),Nt=te,W&&ze)t:{for(Pe=W,z=ze,H=0,j=Pe;j;j=ul(j))H++;for(j=0,te=z;te;te=ul(te))j++;for(;0<H-j;)Pe=ul(Pe),H--;for(;0<j-H;)z=ul(z),j--;for(;H--;){if(Pe===z||z!==null&&Pe===z.alternate)break t;Pe=ul(Pe),z=ul(z)}Pe=null}else Pe=null;W!==null&&Tf(ne,Z,W,Pe,!1),ze!==null&&Nt!==null&&Tf(ne,Nt,ze,Pe,!0)}}e:{if(Z=Y?Ri(Y):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var Re=Ds;else if(ur(Z))if(Rl)Re=i;else{Re=S;var Ke=Hr}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?Y&&De(Y.elementType)&&(Re=Ds):Re=t;if(Re&&(Re=Re(e,Y))){kn(ne,Re,r,ee);break e}Ke&&Ke(e,Z,Y),e==="focusout"&&Y&&Z.type==="number"&&Y.memoizedProps.value!=null&&X(Z,"number",Z.value)}switch(Ke=Y?Ri(Y):window,e){case"focusin":(ur(Ke)||Ke.contentEditable==="true")&&(T=Ke,O=Y,L=null);break;case"focusout":L=O=T=null;break;case"mousedown":F=!0;break;case"contextmenu":case"mouseup":case"dragend":F=!1,V(ne,r,ee);break;case"selectionchange":if(v)break;case"keydown":case"keyup":V(ne,r,ee)}var Ie;if(sr)e:{switch(e){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Sa?Ki(e,r)&&(He="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(He="onCompositionStart");He&&(Tl&&r.locale!=="ko"&&(Sa||He!=="onCompositionStart"?He==="onCompositionEnd"&&Sa&&(Ie=Mi()):(Ii=ee,nr="value"in Ii?Ii.value:Ii.textContent,Sa=!0)),Ke=Ao(Y,He),0<Ke.length&&(He=new ar(He,e,null,r,ee),ne.push({event:He,listeners:Ke}),Ie?He.data=Ie:(Ie=Fr(r),Ie!==null&&(He.data=Ie)))),(Ie=vl?or(e,r):eu(e,r))&&(He=Ao(Y,"onBeforeInput"),0<He.length&&(Ke=new ar("onBeforeInput","beforeinput",null,r,ee),ne.push({event:Ke,listeners:He}),Ke.data=Ie)),bd(ne,e,Y,r,ee)}Sf(ne,n)})}function is(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ao(e,n){for(var r=n+"Capture",o=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Le(e,r),f!=null&&o.unshift(is(e,f,d)),f=Le(e,n),f!=null&&o.push(is(e,f,d))),e.tag===3)return o;e=e.return}return[]}function ul(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tf(e,n,r,o,f){for(var d=n._reactName,b=[];r!==null&&r!==o;){var N=r,B=N.alternate,Y=N.stateNode;if(N=N.tag,B!==null&&B===o)break;N!==5&&N!==26&&N!==27||Y===null||(B=Y,f?(Y=Le(r,d),Y!=null&&b.unshift(is(r,Y,B))):f||(Y=Le(r,d),Y!=null&&b.push(is(r,Y,B)))),r=r.return}b.length!==0&&e.push({event:n,listeners:b})}var Nd=/\r\n?/g,Rd=/\u0000|\uFFFD/g;function Nf(e){return(typeof e=="string"?e:""+e).replace(Nd,`
`).replace(Rd,"")}function Rf(e,n){return n=Nf(n),Nf(e)===n}function yo(){}function Tt(e,n,r,o,f,d){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||cn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&cn(e,""+o);break;case"className":_r(e,"class",o);break;case"tabIndex":_r(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(e,r,o);break;case"style":Un(e,o,d);break;case"data":if(n!=="object"){_r(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Mr(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&Tt(e,n,"name",f.name,f,null),Tt(e,n,"formEncType",f.formEncType,f,null),Tt(e,n,"formMethod",f.formMethod,f,null),Tt(e,n,"formTarget",f.formTarget,f,null)):(Tt(e,n,"encType",f.encType,f,null),Tt(e,n,"method",f.method,f,null),Tt(e,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Mr(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=yo);break;case"onScroll":o!=null&&et("scroll",e);break;case"onScrollEnd":o!=null&&et("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(A(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(A(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Mr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":et("beforetoggle",e),et("toggle",e),ae(e,"popover",o);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ae(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Bt.get(r)||r,ae(e,r,o))}}function Cc(e,n,r,o,f,d){switch(r){case"style":Un(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(A(61));if(r=o.__html,r!=null){if(f.children!=null)throw Error(A(60));e.innerHTML=r}}break;case"children":typeof o=="string"?cn(e,o):(typeof o=="number"||typeof o=="bigint")&&cn(e,""+o);break;case"onScroll":o!=null&&et("scroll",e);break;case"onScrollEnd":o!=null&&et("scrollend",e);break;case"onClick":o!=null&&(e.onclick=yo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ss.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=e[Vt]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof o=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,f);break e}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ae(e,r,o)}}}function Nn(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",e),et("load",e);var o=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var b=r[d];if(b!=null)switch(d){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:Tt(e,n,d,b,r,null)}}f&&Tt(e,n,"srcSet",r.srcSet,r,null),o&&Tt(e,n,"src",r.src,r,null);return;case"input":et("invalid",e);var N=d=b=f=null,B=null,Y=null;for(o in r)if(r.hasOwnProperty(o)){var ee=r[o];if(ee!=null)switch(o){case"name":f=ee;break;case"type":b=ee;break;case"checked":B=ee;break;case"defaultChecked":Y=ee;break;case"value":d=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(A(137,n));break;default:Tt(e,n,o,ee,r,null)}}un(e,d,N,B,Y,b,f,!1),Dr(e);return;case"select":et("invalid",e),o=b=d=null;for(f in r)if(r.hasOwnProperty(f)&&(N=r[f],N!=null))switch(f){case"value":d=N;break;case"defaultValue":b=N;break;case"multiple":o=N;default:Tt(e,n,f,N,r,null)}n=d,r=b,e.multiple=!!o,n!=null?R(e,!!o,n,!1):r!=null&&R(e,!!o,r,!0);return;case"textarea":et("invalid",e),d=f=o=null;for(b in r)if(r.hasOwnProperty(b)&&(N=r[b],N!=null))switch(b){case"value":o=N;break;case"defaultValue":f=N;break;case"children":d=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(A(91));break;default:Tt(e,n,b,N,r,null)}Qt(e,o,f,d),Dr(e);return;case"option":for(B in r)if(r.hasOwnProperty(B)&&(o=r[B],o!=null))switch(B){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Tt(e,n,B,o,r,null)}return;case"dialog":et("beforetoggle",e),et("toggle",e),et("cancel",e),et("close",e);break;case"iframe":case"object":et("load",e);break;case"video":case"audio":for(o=0;o<ns.length;o++)et(ns[o],e);break;case"image":et("error",e),et("load",e);break;case"details":et("toggle",e);break;case"embed":case"source":case"link":et("error",e),et("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in r)if(r.hasOwnProperty(Y)&&(o=r[Y],o!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,n));default:Tt(e,n,Y,o,r,null)}return;default:if(De(n)){for(ee in r)r.hasOwnProperty(ee)&&(o=r[ee],o!==void 0&&Cc(e,n,ee,o,r,void 0));return}}for(N in r)r.hasOwnProperty(N)&&(o=r[N],o!=null&&Tt(e,n,N,o,r,null))}function _d(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,b=null,N=null,B=null,Y=null,ee=null;for(W in r){var ne=r[W];if(r.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":B=ne;default:o.hasOwnProperty(W)||Tt(e,n,W,null,o,ne)}}for(var Z in o){var W=o[Z];if(ne=r[Z],o.hasOwnProperty(Z)&&(W!=null||ne!=null))switch(Z){case"type":d=W;break;case"name":f=W;break;case"checked":Y=W;break;case"defaultChecked":ee=W;break;case"value":b=W;break;case"defaultValue":N=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(A(137,n));break;default:W!==ne&&Tt(e,n,Z,W,o,ne)}}ht(e,b,N,B,Y,ee,d,f);return;case"select":W=b=N=Z=null;for(d in r)if(B=r[d],r.hasOwnProperty(d)&&B!=null)switch(d){case"value":break;case"multiple":W=B;default:o.hasOwnProperty(d)||Tt(e,n,d,null,o,B)}for(f in o)if(d=o[f],B=r[f],o.hasOwnProperty(f)&&(d!=null||B!=null))switch(f){case"value":Z=d;break;case"defaultValue":N=d;break;case"multiple":b=d;default:d!==B&&Tt(e,n,f,d,o,B)}n=N,r=b,o=W,Z!=null?R(e,!!r,Z,!1):!!o!=!!r&&(n!=null?R(e,!!r,n,!0):R(e,!!r,r?[]:"",!1));return;case"textarea":W=Z=null;for(N in r)if(f=r[N],r.hasOwnProperty(N)&&f!=null&&!o.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Tt(e,n,N,null,o,f)}for(b in o)if(f=o[b],d=r[b],o.hasOwnProperty(b)&&(f!=null||d!=null))switch(b){case"value":Z=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(A(91));break;default:f!==d&&Tt(e,n,b,f,o,d)}_e(e,Z,W);return;case"option":for(var ze in r)if(Z=r[ze],r.hasOwnProperty(ze)&&Z!=null&&!o.hasOwnProperty(ze))switch(ze){case"selected":e.selected=!1;break;default:Tt(e,n,ze,null,o,Z)}for(B in o)if(Z=o[B],W=r[B],o.hasOwnProperty(B)&&Z!==W&&(Z!=null||W!=null))switch(B){case"selected":e.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:Tt(e,n,B,Z,o,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in r)Z=r[Pe],r.hasOwnProperty(Pe)&&Z!=null&&!o.hasOwnProperty(Pe)&&Tt(e,n,Pe,null,o,Z);for(Y in o)if(Z=o[Y],W=r[Y],o.hasOwnProperty(Y)&&Z!==W&&(Z!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(A(137,n));break;default:Tt(e,n,Y,Z,o,W)}return;default:if(De(n)){for(var Nt in r)Z=r[Nt],r.hasOwnProperty(Nt)&&Z!==void 0&&!o.hasOwnProperty(Nt)&&Cc(e,n,Nt,void 0,o,Z);for(ee in o)Z=o[ee],W=r[ee],!o.hasOwnProperty(ee)||Z===W||Z===void 0&&W===void 0||Cc(e,n,ee,Z,o,W);return}}for(var z in r)Z=r[z],r.hasOwnProperty(z)&&Z!=null&&!o.hasOwnProperty(z)&&Tt(e,n,z,null,o,Z);for(ne in o)Z=o[ne],W=r[ne],!o.hasOwnProperty(ne)||Z===W||Z==null&&W==null||Tt(e,n,ne,Z,o,W)}var bc=null,Sc=null;function wo(e){return e.nodeType===9?e:e.ownerDocument}function _f(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Of(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function vc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tc=null;function Od(){var e=window.event;return e&&e.type==="popstate"?e===Tc?!1:(Tc=e,!0):(Tc=null,!1)}var Df=typeof setTimeout=="function"?setTimeout:void 0,Dd=typeof clearTimeout=="function"?clearTimeout:void 0,If=typeof Promise=="function"?Promise:void 0,Id=typeof queueMicrotask=="function"?queueMicrotask:typeof If<"u"?function(e){return If.resolve(null).then(e).catch(Md)}:Df;function Md(e){setTimeout(function(){throw e})}function Va(e){return e==="head"}function Mf(e,n){var r=n,o=0,f=0;do{var d=r.nextSibling;if(e.removeChild(r),d&&d.nodeType===8)if(r=d.data,r==="/$"){if(0<o&&8>o){r=o;var b=e.ownerDocument;if(r&1&&as(b.documentElement),r&2&&as(b.body),r&4)for(r=b.head,as(r),b=r.firstChild;b;){var N=b.nextSibling,B=b.nodeName;b[li]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&b.rel.toLowerCase()==="stylesheet"||r.removeChild(b),b=N}}if(f===0){e.removeChild(d),hs(n);return}f--}else r==="$"||r==="$?"||r==="$!"?f++:o=r.charCodeAt(0)-48;else o=0;r=d}while(r);hs(n)}function Nc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nc(r),er(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Bd(e,n,r,o){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ci(e.nextSibling),e===null)break}return null}function Ld(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ci(e.nextSibling),e===null))return null;return e}function Rc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ud(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ci(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var _c=null;function Bf(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Lf(e,n,r){switch(n=wo(r),e){case"html":if(e=n.documentElement,!e)throw Error(A(452));return e;case"head":if(e=n.head,!e)throw Error(A(453));return e;case"body":if(e=n.body,!e)throw Error(A(454));return e;default:throw Error(A(451))}}function as(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);er(e)}var gi=new Map,Uf=new Set;function po(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fa=G.d;G.d={f:kd,r:Fd,D:Pd,C:Hd,L:zd,m:Gd,X:Xd,S:Vd,M:jd};function kd(){var e=fa.f(),n=fo();return e||n}function Fd(e){var n=Wn(e);n!==null&&n.tag===5&&n.type==="form"?t0(n):fa.r(e)}var cl=typeof document>"u"?null:document;function kf(e,n,r){var o=cl;if(o&&typeof n=="string"&&n){var f=on(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),Uf.has(f)||(Uf.add(f),e={rel:e,crossOrigin:r,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),Nn(n,"link",e),mt(n),o.head.appendChild(n)))}}function Pd(e){fa.D(e),kf("dns-prefetch",e,null)}function Hd(e,n){fa.C(e,n),kf("preconnect",e,n)}function zd(e,n,r){fa.L(e,n,r);var o=cl;if(o&&e&&n){var f='link[rel="preload"][as="'+on(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+on(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+on(r.imageSizes)+'"]')):f+='[href="'+on(e)+'"]';var d=f;switch(n){case"style":d=fl(e);break;case"script":d=hl(e)}gi.has(d)||(e=I({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),gi.set(d,e),o.querySelector(f)!==null||n==="style"&&o.querySelector(rs(d))||n==="script"&&o.querySelector(ls(d))||(n=o.createElement("link"),Nn(n,"link",e),mt(n),o.head.appendChild(n)))}}function Gd(e,n){fa.m(e,n);var r=cl;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+on(o)+'"][href="'+on(e)+'"]',d=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=hl(e)}if(!gi.has(d)&&(e=I({rel:"modulepreload",href:e},n),gi.set(d,e),r.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ls(d)))return}o=r.createElement("link"),Nn(o,"link",e),mt(o),r.head.appendChild(o)}}}function Vd(e,n,r){fa.S(e,n,r);var o=cl;if(o&&e){var f=mi(o).hoistableStyles,d=fl(e);n=n||"default";var b=f.get(d);if(!b){var N={loading:0,preload:null};if(b=o.querySelector(rs(d)))N.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":n},r),(r=gi.get(d))&&Oc(e,r);var B=b=o.createElement("link");mt(B),Nn(B,"link",e),B._p=new Promise(function(Y,ee){B.onload=Y,B.onerror=ee}),B.addEventListener("load",function(){N.loading|=1}),B.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Co(b,n,o)}b={type:"stylesheet",instance:b,count:1,state:N},f.set(d,b)}}}function Xd(e,n){fa.X(e,n);var r=cl;if(r&&e){var o=mi(r).hoistableScripts,f=hl(e),d=o.get(f);d||(d=r.querySelector(ls(f)),d||(e=I({src:e,async:!0},n),(n=gi.get(f))&&Dc(e,n),d=r.createElement("script"),mt(d),Nn(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function jd(e,n){fa.M(e,n);var r=cl;if(r&&e){var o=mi(r).hoistableScripts,f=hl(e),d=o.get(f);d||(d=r.querySelector(ls(f)),d||(e=I({src:e,async:!0,type:"module"},n),(n=gi.get(f))&&Dc(e,n),d=r.createElement("script"),mt(d),Nn(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(f,d))}}function Ff(e,n,r,o){var f=(f=he.current)?po(f):null;if(!f)throw Error(A(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=fl(r.href),r=mi(f).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=fl(r.href);var d=mi(f).hoistableStyles,b=d.get(e);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,b),(d=f.querySelector(rs(e)))&&!d._p&&(b.instance=d,b.state.loading=5),gi.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},gi.set(e,r),d||Yd(f,e,r,b.state))),n&&o===null)throw Error(A(528,""));return b}if(n&&o!==null)throw Error(A(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=hl(r),r=mi(f).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,e))}}function fl(e){return'href="'+on(e)+'"'}function rs(e){return'link[rel="stylesheet"]['+e+"]"}function Pf(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function Yd(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Nn(n,"link",r),mt(n),e.head.appendChild(n))}function hl(e){return'[src="'+on(e)+'"]'}function ls(e){return"script[async]"+e}function Hf(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+on(r.href)+'"]');if(o)return n.instance=o,mt(o),o;var f=I({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),mt(o),Nn(o,"style",f),Co(o,r.precedence,e),n.instance=o;case"stylesheet":f=fl(r.href);var d=e.querySelector(rs(f));if(d)return n.state.loading|=4,n.instance=d,mt(d),d;o=Pf(r),(f=gi.get(f))&&Oc(o,f),d=(e.ownerDocument||e).createElement("link"),mt(d);var b=d;return b._p=new Promise(function(N,B){b.onload=N,b.onerror=B}),Nn(d,"link",o),n.state.loading|=4,Co(d,r.precedence,e),n.instance=d;case"script":return d=hl(r.src),(f=e.querySelector(ls(d)))?(n.instance=f,mt(f),f):(o=r,(f=gi.get(d))&&(o=I({},r),Dc(o,f)),e=e.ownerDocument||e,f=e.createElement("script"),mt(f),Nn(f,"link",o),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(A(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Co(o,r.precedence,e));return n.instance}function Co(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,d=f,b=0;b<o.length;b++){var N=o[b];if(N.dataset.precedence===n)d=N;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Oc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var bo=null;function zf(e,n,r){if(bo===null){var o=new Map,f=bo=new Map;f.set(r,o)}else f=bo,o=f.get(r),o||(o=new Map,f.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var d=r[f];if(!(d[li]||d[xn]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var b=d.getAttribute(n)||"";b=e+b;var N=o.get(b);N?N.push(d):o.set(b,[d])}}return o}function Gf(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Zd(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Vf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ss=null;function qd(){}function Wd(e,n,r){if(ss===null)throw Error(A(475));var o=ss;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=fl(r.href),d=e.querySelector(rs(f));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=So.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,mt(d);return}d=e.ownerDocument||e,r=Pf(r),(f=gi.get(f))&&Oc(r,f),d=d.createElement("link"),mt(d);var b=d;b._p=new Promise(function(N,B){b.onload=N,b.onerror=B}),Nn(d,"link",r),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=So.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function Qd(){if(ss===null)throw Error(A(475));var e=ss;return e.stylesheets&&e.count===0&&Ic(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Ic(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function So(){if(this.count--,this.count===0){if(this.stylesheets)Ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vo=null;function Ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vo=new Map,n.forEach(Kd,e),vo=null,So.call(e))}function Kd(e,n){if(!(n.state.loading&4)){var r=vo.get(e);if(r)var o=r.get(null);else{r=new Map,vo.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var b=f[d];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}f=n.instance,b=f.getAttribute("data-precedence"),d=r.get(b)||o,d===o&&r.set(null,f),r.set(b,f),this.count++,o=So.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var os={$$typeof:de,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function Jd(e,n,r,o,f,d,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Xf(e,n,r,o,f,d,b,N,B,Y,ee,ne){return e=new Jd(e,n,r,b,N,B,Y,ne),n=1,d===!0&&(n|=24),d=Jn(3,null,null,n),e.current=d,d.stateNode=e,n=du(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:r,cache:n},Eu(d),e}function jf(e){return e?(e=Vr,e):Vr}function Yf(e,n,r,o,f,d){f=jf(f),o.context===null?o.context=f:o.pendingContext=f,o=Oa(n),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=Da(e,o,n),r!==null&&(ii(r,e,n),Fl(r,e,n))}function Zf(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Mc(e,n){Zf(e,n),(e=e.alternate)&&Zf(e,n)}function qf(e){if(e.tag===13){var n=Gr(e,67108864);n!==null&&ii(n,e,67108864),Mc(e,67108864)}}var To=!0;function $d(e,n,r,o){var f=$.T;$.T=null;var d=G.p;try{G.p=2,Bc(e,n,r,o)}finally{G.p=d,$.T=f}}function e2(e,n,r,o){var f=$.T;$.T=null;var d=G.p;try{G.p=8,Bc(e,n,r,o)}finally{G.p=d,$.T=f}}function Bc(e,n,r,o){if(To){var f=Lc(o);if(f===null)pc(e,n,o,No,r),Qf(e,o);else if(n2(f,e,n,r,o))o.stopPropagation();else if(Qf(e,o),n&4&&-1<t2.indexOf(e)){for(;f!==null;){var d=Wn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var b=Rt(d.pendingLanes);if(b!==0){var N=d;for(N.pendingLanes|=2,N.entangledLanes|=2;b;){var B=1<<31-xt(b);N.entanglements[1]|=B,b&=~B}Xi(d),(yt&6)===0&&(uo=Ct()+500,ts(0))}}break;case 13:N=Gr(d,2),N!==null&&ii(N,d,2),fo(),Mc(d,2)}if(d=Lc(o),d===null&&pc(e,n,o,No,r),d===f)break;f=d}f!==null&&o.stopPropagation()}else pc(e,n,o,null,r)}}function Lc(e){return e=Ea(e),Uc(e)}var No=null;function Uc(e){if(No=null,e=Wt(e),e!==null){var n=w(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=_(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return No=e,null}function Wf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bt()){case nt:return 2;case Ka:return 8;case Te:case vr:return 32;case El:return 268435456;default:return 32}default:return 32}}var kc=!1,Xa=null,ja=null,Ya=null,us=new Map,cs=new Map,Za=[],t2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qf(e,n){switch(e){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":Ya=null;break;case"pointerover":case"pointerout":us.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cs.delete(n.pointerId)}}function fs(e,n,r,o,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:d,targetContainers:[f]},n!==null&&(n=Wn(n),n!==null&&qf(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function n2(e,n,r,o,f){switch(n){case"focusin":return Xa=fs(Xa,e,n,r,o,f),!0;case"dragenter":return ja=fs(ja,e,n,r,o,f),!0;case"mouseover":return Ya=fs(Ya,e,n,r,o,f),!0;case"pointerover":var d=f.pointerId;return us.set(d,fs(us.get(d)||null,e,n,r,o,f)),!0;case"gotpointercapture":return d=f.pointerId,cs.set(d,fs(cs.get(d)||null,e,n,r,o,f)),!0}return!1}function Kf(e){var n=Wt(e.target);if(n!==null){var r=w(n);if(r!==null){if(n=r.tag,n===13){if(n=_(r),n!==null){e.blockedOn=n,Rr(e.priority,function(){if(r.tag===13){var o=ni();o=$a(o);var f=Gr(r,o);f!==null&&ii(f,r,o),Mc(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ro(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Lc(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);tr=o,r.target.dispatchEvent(o),tr=null}else return n=Wn(r),n!==null&&qf(n),e.blockedOn=r,!1;n.shift()}return!0}function Jf(e,n,r){Ro(e)&&r.delete(n)}function i2(){kc=!1,Xa!==null&&Ro(Xa)&&(Xa=null),ja!==null&&Ro(ja)&&(ja=null),Ya!==null&&Ro(Ya)&&(Ya=null),us.forEach(Jf),cs.forEach(Jf)}function _o(e,n){e.blockedOn===n&&(e.blockedOn=null,kc||(kc=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,i2)))}var Oo=null;function $f(e){Oo!==e&&(Oo=e,g.unstable_scheduleCallback(g.unstable_NormalPriority,function(){Oo===e&&(Oo=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],f=e[n+2];if(typeof o!="function"){if(Uc(o||r)===null)continue;break}var d=Wn(r);d!==null&&(e.splice(n,3),n-=3,Uu(d,{pending:!0,data:f,method:r.method,action:o},o,f))}}))}function hs(e){function n(B){return _o(B,e)}Xa!==null&&_o(Xa,e),ja!==null&&_o(ja,e),Ya!==null&&_o(Ya,e),us.forEach(n),cs.forEach(n);for(var r=0;r<Za.length;r++){var o=Za[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Za.length&&(r=Za[0],r.blockedOn===null);)Kf(r),r.blockedOn===null&&Za.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var f=r[o],d=r[o+1],b=f[Vt]||null;if(typeof d=="function")b||$f(r);else if(b){var N=null;if(d&&d.hasAttribute("formAction")){if(f=d,b=d[Vt]||null)N=b.formAction;else if(Uc(f)!==null)continue}else N=b.action;typeof N=="function"?r[o+1]=N:(r.splice(o,3),o-=3),$f(r)}}}function Fc(e){this._internalRoot=e}Do.prototype.render=Fc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(A(409));var r=n.current,o=ni();Yf(r,o,e,n,null,null)},Do.prototype.unmount=Fc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Yf(e.current,2,null,e,null,null),fo(),n[Ni]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var n=Yi();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Za.length&&n!==0&&n<Za[r].priority;r++);Za.splice(r,0,e),r===0&&Kf(e)}};var eh=E.version;if(eh!=="19.1.1")throw Error(A(527,eh,"19.1.1"));G.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=D(n),e=e!==null?p(e):null,e=e===null?null:e.stateNode,e};var a2={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Io=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Io.isDisabled&&Io.supportsFiber)try{Cn=Io.inject(a2),Rn=Io}catch{}}return gs.createRoot=function(e,n){if(!C(e))throw Error(A(299));var r=!1,o="",f=x0,d=m0,b=E0,N=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(N=n.unstable_transitionCallbacks)),n=Xf(e,1,!1,null,null,r,o,f,d,b,N,null),e[Ni]=n.current,wc(e),new Fc(n)},gs.hydrateRoot=function(e,n,r){if(!C(e))throw Error(A(299));var o=!1,f="",d=x0,b=m0,N=E0,B=null,Y=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(N=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(B=r.unstable_transitionCallbacks),r.formState!==void 0&&(Y=r.formState)),n=Xf(e,1,!0,n,r??null,o,f,d,b,N,B,Y),n.context=jf(null),r=n.current,o=ni(),o=$a(o),f=Oa(o),f.callback=null,Da(r,f,o),r=o,n.current.lanes=r,qn(n,r),Xi(n),e[Ni]=n.current,wc(e),new Do(n)},gs.version="19.1.1",gs}var ch;function m2(){if(ch)return zc.exports;ch=1;function g(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g)}catch(E){console.error(E)}}return g(),zc.exports=x2(),zc.exports}var E2=m2();const A2=Kc(E2);/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var fh="popstate";function y2(g={}){function E(A,C){let{pathname:w,search:_,hash:M}=A.location;return Zc("",{pathname:w,search:_,hash:M},C.state&&C.state.usr||null,C.state&&C.state.key||"default")}function m(A,C){return typeof C=="string"?C:Es(C)}return p2(E,m,null,g)}function Pt(g,E){if(g===!1||g===null||typeof g>"u")throw new Error(E)}function bi(g,E){if(!g){typeof console<"u"&&console.warn(E);try{throw new Error(E)}catch{}}}function w2(){return Math.random().toString(36).substring(2,10)}function hh(g,E){return{usr:g.state,key:g.key,idx:E}}function Zc(g,E,m=null,A){return{pathname:typeof g=="string"?g:g.pathname,search:"",hash:"",...typeof E=="string"?gl(E):E,state:m,key:E&&E.key||A||w2()}}function Es({pathname:g="/",search:E="",hash:m=""}){return E&&E!=="?"&&(g+=E.charAt(0)==="?"?E:"?"+E),m&&m!=="#"&&(g+=m.charAt(0)==="#"?m:"#"+m),g}function gl(g){let E={};if(g){let m=g.indexOf("#");m>=0&&(E.hash=g.substring(m),g=g.substring(0,m));let A=g.indexOf("?");A>=0&&(E.search=g.substring(A),g=g.substring(0,A)),g&&(E.pathname=g)}return E}function p2(g,E,m,A={}){let{window:C=document.defaultView,v5Compat:w=!1}=A,_=C.history,M="POP",D=null,p=I();p==null&&(p=0,_.replaceState({..._.state,idx:p},""));function I(){return(_.state||{idx:null}).idx}function k(){M="POP";let we=I(),Ne=we==null?null:we-p;p=we,D&&D({action:M,location:Ae.location,delta:Ne})}function re(we,Ne){M="PUSH";let me=Zc(Ae.location,we,Ne);p=I()+1;let de=hh(me,p),Oe=Ae.createHref(me);try{_.pushState(de,"",Oe)}catch(Be){if(Be instanceof DOMException&&Be.name==="DataCloneError")throw Be;C.location.assign(Oe)}w&&D&&D({action:M,location:Ae.location,delta:1})}function ce(we,Ne){M="REPLACE";let me=Zc(Ae.location,we,Ne);p=I();let de=hh(me,p),Oe=Ae.createHref(me);_.replaceState(de,"",Oe),w&&D&&D({action:M,location:Ae.location,delta:0})}function pe(we){return C2(we)}let Ae={get action(){return M},get location(){return g(C,_)},listen(we){if(D)throw new Error("A history only accepts one active listener");return C.addEventListener(fh,k),D=we,()=>{C.removeEventListener(fh,k),D=null}},createHref(we){return E(C,we)},createURL:pe,encodeLocation(we){let Ne=pe(we);return{pathname:Ne.pathname,search:Ne.search,hash:Ne.hash}},push:re,replace:ce,go(we){return _.go(we)}};return Ae}function C2(g,E=!1){let m="http://localhost";typeof window<"u"&&(m=window.location.origin!=="null"?window.location.origin:window.location.href),Pt(m,"No window.location.(origin|href) available to create URL");let A=typeof g=="string"?g:Es(g);return A=A.replace(/ $/,"%20"),!E&&A.startsWith("//")&&(A=m+A),new URL(A,m)}function Nh(g,E,m="/"){return b2(g,E,m,!1)}function b2(g,E,m,A){let C=typeof E=="string"?gl(E):E,w=ga(C.pathname||"/",m);if(w==null)return null;let _=Rh(g);S2(_);let M=null;for(let D=0;M==null&&D<_.length;++D){let p=L2(w);M=M2(_[D],p,A)}return M}function Rh(g,E=[],m=[],A="",C=!1){let w=(_,M,D=C,p)=>{let I={relativePath:p===void 0?_.path||"":p,caseSensitive:_.caseSensitive===!0,childrenIndex:M,route:_};if(I.relativePath.startsWith("/")){if(!I.relativePath.startsWith(A)&&D)return;Pt(I.relativePath.startsWith(A),`Absolute route path "${I.relativePath}" nested under path "${A}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),I.relativePath=I.relativePath.slice(A.length)}let k=da([A,I.relativePath]),re=m.concat(I);_.children&&_.children.length>0&&(Pt(_.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${k}".`),Rh(_.children,E,re,k,D)),!(_.path==null&&!_.index)&&E.push({path:k,score:D2(k,_.index),routesMeta:re})};return g.forEach((_,M)=>{if(_.path===""||!_.path?.includes("?"))w(_,M);else for(let D of _h(_.path))w(_,M,!0,D)}),E}function _h(g){let E=g.split("/");if(E.length===0)return[];let[m,...A]=E,C=m.endsWith("?"),w=m.replace(/\?$/,"");if(A.length===0)return C?[w,""]:[w];let _=_h(A.join("/")),M=[];return M.push(..._.map(D=>D===""?w:[w,D].join("/"))),C&&M.push(..._),M.map(D=>g.startsWith("/")&&D===""?"/":D)}function S2(g){g.sort((E,m)=>E.score!==m.score?m.score-E.score:I2(E.routesMeta.map(A=>A.childrenIndex),m.routesMeta.map(A=>A.childrenIndex)))}var v2=/^:[\w-]+$/,T2=3,N2=2,R2=1,_2=10,O2=-2,dh=g=>g==="*";function D2(g,E){let m=g.split("/"),A=m.length;return m.some(dh)&&(A+=O2),E&&(A+=N2),m.filter(C=>!dh(C)).reduce((C,w)=>C+(v2.test(w)?T2:w===""?R2:_2),A)}function I2(g,E){return g.length===E.length&&g.slice(0,-1).every((A,C)=>A===E[C])?g[g.length-1]-E[E.length-1]:0}function M2(g,E,m=!1){let{routesMeta:A}=g,C={},w="/",_=[];for(let M=0;M<A.length;++M){let D=A[M],p=M===A.length-1,I=w==="/"?E:E.slice(w.length)||"/",k=Fo({path:D.relativePath,caseSensitive:D.caseSensitive,end:p},I),re=D.route;if(!k&&p&&m&&!A[A.length-1].route.index&&(k=Fo({path:D.relativePath,caseSensitive:D.caseSensitive,end:!1},I)),!k)return null;Object.assign(C,k.params),_.push({params:C,pathname:da([w,k.pathname]),pathnameBase:P2(da([w,k.pathnameBase])),route:re}),k.pathnameBase!=="/"&&(w=da([w,k.pathnameBase]))}return _}function Fo(g,E){typeof g=="string"&&(g={path:g,caseSensitive:!1,end:!0});let[m,A]=B2(g.path,g.caseSensitive,g.end),C=E.match(m);if(!C)return null;let w=C[0],_=w.replace(/(.)\/+$/,"$1"),M=C.slice(1);return{params:A.reduce((p,{paramName:I,isOptional:k},re)=>{if(I==="*"){let pe=M[re]||"";_=w.slice(0,w.length-pe.length).replace(/(.)\/+$/,"$1")}const ce=M[re];return k&&!ce?p[I]=void 0:p[I]=(ce||"").replace(/%2F/g,"/"),p},{}),pathname:w,pathnameBase:_,pattern:g}}function B2(g,E=!1,m=!0){bi(g==="*"||!g.endsWith("*")||g.endsWith("/*"),`Route path "${g}" will be treated as if it were "${g.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${g.replace(/\*$/,"/*")}".`);let A=[],C="^"+g.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(_,M,D)=>(A.push({paramName:M,isOptional:D!=null}),D?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return g.endsWith("*")?(A.push({paramName:"*"}),C+=g==="*"||g==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):m?C+="\\/*$":g!==""&&g!=="/"&&(C+="(?:(?=\\/|$))"),[new RegExp(C,E?void 0:"i"),A]}function L2(g){try{return g.split("/").map(E=>decodeURIComponent(E).replace(/\//g,"%2F")).join("/")}catch(E){return bi(!1,`The URL path "${g}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${E}).`),g}}function ga(g,E){if(E==="/")return g;if(!g.toLowerCase().startsWith(E.toLowerCase()))return null;let m=E.endsWith("/")?E.length-1:E.length,A=g.charAt(m);return A&&A!=="/"?null:g.slice(m)||"/"}function U2(g,E="/"){let{pathname:m,search:A="",hash:C=""}=typeof g=="string"?gl(g):g;return{pathname:m?m.startsWith("/")?m:k2(m,E):E,search:H2(A),hash:z2(C)}}function k2(g,E){let m=E.replace(/\/+$/,"").split("/");return g.split("/").forEach(C=>{C===".."?m.length>1&&m.pop():C!=="."&&m.push(C)}),m.length>1?m.join("/"):"/"}function jc(g,E,m,A){return`Cannot include a '${g}' character in a manually specified \`to.${E}\` field [${JSON.stringify(A)}].  Please separate it out to the \`to.${m}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function F2(g){return g.filter((E,m)=>m===0||E.route.path&&E.route.path.length>0)}function $c(g){let E=F2(g);return E.map((m,A)=>A===E.length-1?m.pathname:m.pathnameBase)}function e1(g,E,m,A=!1){let C;typeof g=="string"?C=gl(g):(C={...g},Pt(!C.pathname||!C.pathname.includes("?"),jc("?","pathname","search",C)),Pt(!C.pathname||!C.pathname.includes("#"),jc("#","pathname","hash",C)),Pt(!C.search||!C.search.includes("#"),jc("#","search","hash",C)));let w=g===""||C.pathname==="",_=w?"/":C.pathname,M;if(_==null)M=m;else{let k=E.length-1;if(!A&&_.startsWith("..")){let re=_.split("/");for(;re[0]==="..";)re.shift(),k-=1;C.pathname=re.join("/")}M=k>=0?E[k]:"/"}let D=U2(C,M),p=_&&_!=="/"&&_.endsWith("/"),I=(w||_===".")&&m.endsWith("/");return!D.pathname.endsWith("/")&&(p||I)&&(D.pathname+="/"),D}var da=g=>g.join("/").replace(/\/\/+/g,"/"),P2=g=>g.replace(/\/+$/,"").replace(/^\/*/,"/"),H2=g=>!g||g==="?"?"":g.startsWith("?")?g:"?"+g,z2=g=>!g||g==="#"?"":g.startsWith("#")?g:"#"+g;function G2(g){return g!=null&&typeof g.status=="number"&&typeof g.statusText=="string"&&typeof g.internal=="boolean"&&"data"in g}var Oh=["POST","PUT","PATCH","DELETE"];new Set(Oh);var V2=["GET",...Oh];new Set(V2);var xl=K.createContext(null);xl.displayName="DataRouter";var Go=K.createContext(null);Go.displayName="DataRouterState";K.createContext(!1);var Dh=K.createContext({isTransitioning:!1});Dh.displayName="ViewTransition";var X2=K.createContext(new Map);X2.displayName="Fetchers";var j2=K.createContext(null);j2.displayName="Await";var Si=K.createContext(null);Si.displayName="Navigation";var As=K.createContext(null);As.displayName="Location";var vi=K.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var t1=K.createContext(null);t1.displayName="RouteError";function Y2(g,{relative:E}={}){Pt(ml(),"useHref() may be used only in the context of a <Router> component.");let{basename:m,navigator:A}=K.useContext(Si),{hash:C,pathname:w,search:_}=ws(g,{relative:E}),M=w;return m!=="/"&&(M=w==="/"?m:da([m,w])),A.createHref({pathname:M,search:_,hash:C})}function ml(){return K.useContext(As)!=null}function xa(){return Pt(ml(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(As).location}var Ih="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mh(g){K.useContext(Si).static||K.useLayoutEffect(g)}function ys(){let{isDataRoute:g}=K.useContext(vi);return g?lg():Z2()}function Z2(){Pt(ml(),"useNavigate() may be used only in the context of a <Router> component.");let g=K.useContext(xl),{basename:E,navigator:m}=K.useContext(Si),{matches:A}=K.useContext(vi),{pathname:C}=xa(),w=JSON.stringify($c(A)),_=K.useRef(!1);return Mh(()=>{_.current=!0}),K.useCallback((D,p={})=>{if(bi(_.current,Ih),!_.current)return;if(typeof D=="number"){m.go(D);return}let I=e1(D,JSON.parse(w),C,p.relative==="path");g==null&&E!=="/"&&(I.pathname=I.pathname==="/"?E:da([E,I.pathname])),(p.replace?m.replace:m.push)(I,p.state,p)},[E,m,w,C,g])}K.createContext(null);function q2(){let{matches:g}=K.useContext(vi),E=g[g.length-1];return E?E.params:{}}function ws(g,{relative:E}={}){let{matches:m}=K.useContext(vi),{pathname:A}=xa(),C=JSON.stringify($c(m));return K.useMemo(()=>e1(g,JSON.parse(C),A,E==="path"),[g,C,A,E])}function W2(g,E){return Bh(g,E)}function Bh(g,E,m,A,C){Pt(ml(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:w}=K.useContext(Si),{matches:_}=K.useContext(vi),M=_[_.length-1],D=M?M.params:{},p=M?M.pathname:"/",I=M?M.pathnameBase:"/",k=M&&M.route;{let me=k&&k.path||"";Lh(p,!k||me.endsWith("*")||me.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${me}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${me}"> to <Route path="${me==="/"?"*":`${me}/*`}">.`)}let re=xa(),ce;if(E){let me=typeof E=="string"?gl(E):E;Pt(I==="/"||me.pathname?.startsWith(I),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${I}" but pathname "${me.pathname}" was given in the \`location\` prop.`),ce=me}else ce=re;let pe=ce.pathname||"/",Ae=pe;if(I!=="/"){let me=I.replace(/^\//,"").split("/");Ae="/"+pe.replace(/^\//,"").split("/").slice(me.length).join("/")}let we=Nh(g,{pathname:Ae});bi(k||we!=null,`No routes matched location "${ce.pathname}${ce.search}${ce.hash}" `),bi(we==null||we[we.length-1].route.element!==void 0||we[we.length-1].route.Component!==void 0||we[we.length-1].route.lazy!==void 0,`Matched leaf route at location "${ce.pathname}${ce.search}${ce.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ne=eg(we&&we.map(me=>Object.assign({},me,{params:Object.assign({},D,me.params),pathname:da([I,w.encodeLocation?w.encodeLocation(me.pathname).pathname:me.pathname]),pathnameBase:me.pathnameBase==="/"?I:da([I,w.encodeLocation?w.encodeLocation(me.pathnameBase).pathname:me.pathnameBase])})),_,m,A,C);return E&&Ne?K.createElement(As.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...ce},navigationType:"POP"}},Ne):Ne}function Q2(){let g=rg(),E=G2(g)?`${g.status} ${g.statusText}`:g instanceof Error?g.message:JSON.stringify(g),m=g instanceof Error?g.stack:null,A="rgba(200,200,200, 0.5)",C={padding:"0.5rem",backgroundColor:A},w={padding:"2px 4px",backgroundColor:A},_=null;return console.error("Error handled by React Router default ErrorBoundary:",g),_=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:w},"ErrorBoundary")," or"," ",K.createElement("code",{style:w},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},E),m?K.createElement("pre",{style:C},m):null,_)}var K2=K.createElement(Q2,null),J2=class extends K.Component{constructor(g){super(g),this.state={location:g.location,revalidation:g.revalidation,error:g.error}}static getDerivedStateFromError(g){return{error:g}}static getDerivedStateFromProps(g,E){return E.location!==g.location||E.revalidation!=="idle"&&g.revalidation==="idle"?{error:g.error,location:g.location,revalidation:g.revalidation}:{error:g.error!==void 0?g.error:E.error,location:E.location,revalidation:g.revalidation||E.revalidation}}componentDidCatch(g,E){this.props.unstable_onError?this.props.unstable_onError(g,E):console.error("React Router caught the following error during render",g)}render(){return this.state.error!==void 0?K.createElement(vi.Provider,{value:this.props.routeContext},K.createElement(t1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $2({routeContext:g,match:E,children:m}){let A=K.useContext(xl);return A&&A.static&&A.staticContext&&(E.route.errorElement||E.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=E.route.id),K.createElement(vi.Provider,{value:g},m)}function eg(g,E=[],m=null,A=null,C=null){if(g==null){if(!m)return null;if(m.errors)g=m.matches;else if(E.length===0&&!m.initialized&&m.matches.length>0)g=m.matches;else return null}let w=g,_=m?.errors;if(_!=null){let p=w.findIndex(I=>I.route.id&&_?.[I.route.id]!==void 0);Pt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(_).join(",")}`),w=w.slice(0,Math.min(w.length,p+1))}let M=!1,D=-1;if(m)for(let p=0;p<w.length;p++){let I=w[p];if((I.route.HydrateFallback||I.route.hydrateFallbackElement)&&(D=p),I.route.id){let{loaderData:k,errors:re}=m,ce=I.route.loader&&!k.hasOwnProperty(I.route.id)&&(!re||re[I.route.id]===void 0);if(I.route.lazy||ce){M=!0,D>=0?w=w.slice(0,D+1):w=[w[0]];break}}}return w.reduceRight((p,I,k)=>{let re,ce=!1,pe=null,Ae=null;m&&(re=_&&I.route.id?_[I.route.id]:void 0,pe=I.route.errorElement||K2,M&&(D<0&&k===0?(Lh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),ce=!0,Ae=null):D===k&&(ce=!0,Ae=I.route.hydrateFallbackElement||null)));let we=E.concat(w.slice(0,k+1)),Ne=()=>{let me;return re?me=pe:ce?me=Ae:I.route.Component?me=K.createElement(I.route.Component,null):I.route.element?me=I.route.element:me=p,K.createElement($2,{match:I,routeContext:{outlet:p,matches:we,isDataRoute:m!=null},children:me})};return m&&(I.route.ErrorBoundary||I.route.errorElement||k===0)?K.createElement(J2,{location:m.location,revalidation:m.revalidation,component:pe,error:re,children:Ne(),routeContext:{outlet:null,matches:we,isDataRoute:!0},unstable_onError:A}):Ne()},null)}function n1(g){return`${g} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tg(g){let E=K.useContext(xl);return Pt(E,n1(g)),E}function ng(g){let E=K.useContext(Go);return Pt(E,n1(g)),E}function ig(g){let E=K.useContext(vi);return Pt(E,n1(g)),E}function i1(g){let E=ig(g),m=E.matches[E.matches.length-1];return Pt(m.route.id,`${g} can only be used on routes that contain a unique "id"`),m.route.id}function ag(){return i1("useRouteId")}function rg(){let g=K.useContext(t1),E=ng("useRouteError"),m=i1("useRouteError");return g!==void 0?g:E.errors?.[m]}function lg(){let{router:g}=tg("useNavigate"),E=i1("useNavigate"),m=K.useRef(!1);return Mh(()=>{m.current=!0}),K.useCallback(async(C,w={})=>{bi(m.current,Ih),m.current&&(typeof C=="number"?g.navigate(C):await g.navigate(C,{fromRouteId:E,...w}))},[g,E])}var gh={};function Lh(g,E,m){!E&&!gh[g]&&(gh[g]=!0,bi(!1,m))}K.memo(sg);function sg({routes:g,future:E,state:m,unstable_onError:A}){return Bh(g,void 0,m,A,E)}function qc({to:g,replace:E,state:m,relative:A}){Pt(ml(),"<Navigate> may be used only in the context of a <Router> component.");let{static:C}=K.useContext(Si);bi(!C,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:w}=K.useContext(vi),{pathname:_}=xa(),M=ys(),D=e1(g,$c(w),_,A==="path"),p=JSON.stringify(D);return K.useEffect(()=>{M(JSON.parse(p),{replace:E,state:m,relative:A})},[M,p,A,E,m]),null}function br(g){Pt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function og({basename:g="/",children:E=null,location:m,navigationType:A="POP",navigator:C,static:w=!1}){Pt(!ml(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let _=g.replace(/^\/*/,"/"),M=K.useMemo(()=>({basename:_,navigator:C,static:w,future:{}}),[_,C,w]);typeof m=="string"&&(m=gl(m));let{pathname:D="/",search:p="",hash:I="",state:k=null,key:re="default"}=m,ce=K.useMemo(()=>{let pe=ga(D,_);return pe==null?null:{location:{pathname:pe,search:p,hash:I,state:k,key:re},navigationType:A}},[_,D,p,I,k,re,A]);return bi(ce!=null,`<Router basename="${_}"> is not able to match the URL "${D}${p}${I}" because it does not start with the basename, so the <Router> won't render anything.`),ce==null?null:K.createElement(Si.Provider,{value:M},K.createElement(As.Provider,{children:E,value:ce}))}function ug({children:g,location:E}){return W2(Wc(g),E)}function Wc(g,E=[]){let m=[];return K.Children.forEach(g,(A,C)=>{if(!K.isValidElement(A))return;let w=[...E,C];if(A.type===K.Fragment){m.push.apply(m,Wc(A.props.children,w));return}Pt(A.type===br,`[${typeof A.type=="string"?A.type:A.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Pt(!A.props.index||!A.props.children,"An index route cannot have child routes.");let _={id:A.props.id||w.join("-"),caseSensitive:A.props.caseSensitive,element:A.props.element,Component:A.props.Component,index:A.props.index,path:A.props.path,loader:A.props.loader,action:A.props.action,hydrateFallbackElement:A.props.hydrateFallbackElement,HydrateFallback:A.props.HydrateFallback,errorElement:A.props.errorElement,ErrorBoundary:A.props.ErrorBoundary,hasErrorBoundary:A.props.hasErrorBoundary===!0||A.props.ErrorBoundary!=null||A.props.errorElement!=null,shouldRevalidate:A.props.shouldRevalidate,handle:A.props.handle,lazy:A.props.lazy};A.props.children&&(_.children=Wc(A.props.children,w)),m.push(_)}),m}var Uo="get",ko="application/x-www-form-urlencoded";function Vo(g){return g!=null&&typeof g.tagName=="string"}function cg(g){return Vo(g)&&g.tagName.toLowerCase()==="button"}function fg(g){return Vo(g)&&g.tagName.toLowerCase()==="form"}function hg(g){return Vo(g)&&g.tagName.toLowerCase()==="input"}function dg(g){return!!(g.metaKey||g.altKey||g.ctrlKey||g.shiftKey)}function gg(g,E){return g.button===0&&(!E||E==="_self")&&!dg(g)}var Bo=null;function xg(){if(Bo===null)try{new FormData(document.createElement("form"),0),Bo=!1}catch{Bo=!0}return Bo}var mg=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yc(g){return g!=null&&!mg.has(g)?(bi(!1,`"${g}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ko}"`),null):g}function Eg(g,E){let m,A,C,w,_;if(fg(g)){let M=g.getAttribute("action");A=M?ga(M,E):null,m=g.getAttribute("method")||Uo,C=Yc(g.getAttribute("enctype"))||ko,w=new FormData(g)}else if(cg(g)||hg(g)&&(g.type==="submit"||g.type==="image")){let M=g.form;if(M==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let D=g.getAttribute("formaction")||M.getAttribute("action");if(A=D?ga(D,E):null,m=g.getAttribute("formmethod")||M.getAttribute("method")||Uo,C=Yc(g.getAttribute("formenctype"))||Yc(M.getAttribute("enctype"))||ko,w=new FormData(M,g),!xg()){let{name:p,type:I,value:k}=g;if(I==="image"){let re=p?`${p}.`:"";w.append(`${re}x`,"0"),w.append(`${re}y`,"0")}else p&&w.append(p,k)}}else{if(Vo(g))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');m=Uo,A=null,C=ko,_=g}return w&&C==="text/plain"&&(_=w,w=void 0),{action:A,method:m.toLowerCase(),encType:C,formData:w,body:_}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function a1(g,E){if(g===!1||g===null||typeof g>"u")throw new Error(E)}function Ag(g,E,m){let A=typeof g=="string"?new URL(g,typeof window>"u"?"server://singlefetch/":window.location.origin):g;return A.pathname==="/"?A.pathname=`_root.${m}`:E&&ga(A.pathname,E)==="/"?A.pathname=`${E.replace(/\/$/,"")}/_root.${m}`:A.pathname=`${A.pathname.replace(/\/$/,"")}.${m}`,A}async function yg(g,E){if(g.id in E)return E[g.id];try{let m=await import(g.module);return E[g.id]=m,m}catch(m){return console.error(`Error loading route module \`${g.module}\`, reloading page...`),console.error(m),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wg(g){return g==null?!1:g.href==null?g.rel==="preload"&&typeof g.imageSrcSet=="string"&&typeof g.imageSizes=="string":typeof g.rel=="string"&&typeof g.href=="string"}async function pg(g,E,m){let A=await Promise.all(g.map(async C=>{let w=E.routes[C.route.id];if(w){let _=await yg(w,m);return _.links?_.links():[]}return[]}));return vg(A.flat(1).filter(wg).filter(C=>C.rel==="stylesheet"||C.rel==="preload").map(C=>C.rel==="stylesheet"?{...C,rel:"prefetch",as:"style"}:{...C,rel:"prefetch"}))}function xh(g,E,m,A,C,w){let _=(D,p)=>m[p]?D.route.id!==m[p].route.id:!0,M=(D,p)=>m[p].pathname!==D.pathname||m[p].route.path?.endsWith("*")&&m[p].params["*"]!==D.params["*"];return w==="assets"?E.filter((D,p)=>_(D,p)||M(D,p)):w==="data"?E.filter((D,p)=>{let I=A.routes[D.route.id];if(!I||!I.hasLoader)return!1;if(_(D,p)||M(D,p))return!0;if(D.route.shouldRevalidate){let k=D.route.shouldRevalidate({currentUrl:new URL(C.pathname+C.search+C.hash,window.origin),currentParams:m[0]?.params||{},nextUrl:new URL(g,window.origin),nextParams:D.params,defaultShouldRevalidate:!0});if(typeof k=="boolean")return k}return!0}):[]}function Cg(g,E,{includeHydrateFallback:m}={}){return bg(g.map(A=>{let C=E.routes[A.route.id];if(!C)return[];let w=[C.module];return C.clientActionModule&&(w=w.concat(C.clientActionModule)),C.clientLoaderModule&&(w=w.concat(C.clientLoaderModule)),m&&C.hydrateFallbackModule&&(w=w.concat(C.hydrateFallbackModule)),C.imports&&(w=w.concat(C.imports)),w}).flat(1))}function bg(g){return[...new Set(g)]}function Sg(g){let E={},m=Object.keys(g).sort();for(let A of m)E[A]=g[A];return E}function vg(g,E){let m=new Set;return new Set(E),g.reduce((A,C)=>{let w=JSON.stringify(Sg(C));return m.has(w)||(m.add(w),A.push({key:w,link:C})),A},[])}function Uh(){let g=K.useContext(xl);return a1(g,"You must render this element inside a <DataRouterContext.Provider> element"),g}function Tg(){let g=K.useContext(Go);return a1(g,"You must render this element inside a <DataRouterStateContext.Provider> element"),g}var r1=K.createContext(void 0);r1.displayName="FrameworkContext";function kh(){let g=K.useContext(r1);return a1(g,"You must render this element inside a <HydratedRouter> element"),g}function Ng(g,E){let m=K.useContext(r1),[A,C]=K.useState(!1),[w,_]=K.useState(!1),{onFocus:M,onBlur:D,onMouseEnter:p,onMouseLeave:I,onTouchStart:k}=E,re=K.useRef(null);K.useEffect(()=>{if(g==="render"&&_(!0),g==="viewport"){let Ae=Ne=>{Ne.forEach(me=>{_(me.isIntersecting)})},we=new IntersectionObserver(Ae,{threshold:.5});return re.current&&we.observe(re.current),()=>{we.disconnect()}}},[g]),K.useEffect(()=>{if(A){let Ae=setTimeout(()=>{_(!0)},100);return()=>{clearTimeout(Ae)}}},[A]);let ce=()=>{C(!0)},pe=()=>{C(!1),_(!1)};return m?g!=="intent"?[w,re,{}]:[w,re,{onFocus:xs(M,ce),onBlur:xs(D,pe),onMouseEnter:xs(p,ce),onMouseLeave:xs(I,pe),onTouchStart:xs(k,ce)}]:[!1,re,{}]}function xs(g,E){return m=>{g&&g(m),m.defaultPrevented||E(m)}}function Rg({page:g,...E}){let{router:m}=Uh(),A=K.useMemo(()=>Nh(m.routes,g,m.basename),[m.routes,g,m.basename]);return A?K.createElement(Og,{page:g,matches:A,...E}):null}function _g(g){let{manifest:E,routeModules:m}=kh(),[A,C]=K.useState([]);return K.useEffect(()=>{let w=!1;return pg(g,E,m).then(_=>{w||C(_)}),()=>{w=!0}},[g,E,m]),A}function Og({page:g,matches:E,...m}){let A=xa(),{manifest:C,routeModules:w}=kh(),{basename:_}=Uh(),{loaderData:M,matches:D}=Tg(),p=K.useMemo(()=>xh(g,E,D,C,A,"data"),[g,E,D,C,A]),I=K.useMemo(()=>xh(g,E,D,C,A,"assets"),[g,E,D,C,A]),k=K.useMemo(()=>{if(g===A.pathname+A.search+A.hash)return[];let pe=new Set,Ae=!1;if(E.forEach(Ne=>{let me=C.routes[Ne.route.id];!me||!me.hasLoader||(!p.some(de=>de.route.id===Ne.route.id)&&Ne.route.id in M&&w[Ne.route.id]?.shouldRevalidate||me.hasClientLoader?Ae=!0:pe.add(Ne.route.id))}),pe.size===0)return[];let we=Ag(g,_,"data");return Ae&&pe.size>0&&we.searchParams.set("_routes",E.filter(Ne=>pe.has(Ne.route.id)).map(Ne=>Ne.route.id).join(",")),[we.pathname+we.search]},[_,M,A,C,p,E,g,w]),re=K.useMemo(()=>Cg(I,C),[I,C]),ce=_g(I);return K.createElement(K.Fragment,null,k.map(pe=>K.createElement("link",{key:pe,rel:"prefetch",as:"fetch",href:pe,...m})),re.map(pe=>K.createElement("link",{key:pe,rel:"modulepreload",href:pe,...m})),ce.map(({key:pe,link:Ae})=>K.createElement("link",{key:pe,nonce:m.nonce,...Ae})))}function Dg(...g){return E=>{g.forEach(m=>{typeof m=="function"?m(E):m!=null&&(m.current=E)})}}var Fh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fh&&(window.__reactRouterVersion="7.8.2")}catch{}function Ig({basename:g,children:E,window:m}){let A=K.useRef();A.current==null&&(A.current=y2({window:m,v5Compat:!0}));let C=A.current,[w,_]=K.useState({action:C.action,location:C.location}),M=K.useCallback(D=>{K.startTransition(()=>_(D))},[_]);return K.useLayoutEffect(()=>C.listen(M),[C,M]),K.createElement(og,{basename:g,children:E,location:w.location,navigationType:w.action,navigator:C})}var Ph=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=K.forwardRef(function({onClick:E,discover:m="render",prefetch:A="none",relative:C,reloadDocument:w,replace:_,state:M,target:D,to:p,preventScrollReset:I,viewTransition:k,...re},ce){let{basename:pe}=K.useContext(Si),Ae=typeof p=="string"&&Ph.test(p),we,Ne=!1;if(typeof p=="string"&&Ae&&(we=p,Fh))try{let ie=new URL(window.location.href),Gt=p.startsWith("//")?new URL(ie.protocol+p):new URL(p),gt=ga(Gt.pathname,pe);Gt.origin===ie.origin&&gt!=null?p=gt+Gt.search+Gt.hash:Ne=!0}catch{bi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let me=Y2(p,{relative:C}),[de,Oe,Be]=Ng(A,re),ke=Ug(p,{replace:_,state:M,target:D,preventScrollReset:I,relative:C,viewTransition:k});function se(ie){E&&E(ie),ie.defaultPrevented||ke(ie)}let Me=K.createElement("a",{...re,...Be,href:we||me,onClick:Ne||w?E:se,ref:Dg(ce,Oe),target:D,"data-discover":!Ae&&m==="render"?"true":void 0});return de&&!Ae?K.createElement(K.Fragment,null,Me,K.createElement(Rg,{page:me})):Me});Sr.displayName="Link";var Mg=K.forwardRef(function({"aria-current":E="page",caseSensitive:m=!1,className:A="",end:C=!1,style:w,to:_,viewTransition:M,children:D,...p},I){let k=ws(_,{relative:p.relative}),re=xa(),ce=K.useContext(Go),{navigator:pe,basename:Ae}=K.useContext(Si),we=ce!=null&&zg(k)&&M===!0,Ne=pe.encodeLocation?pe.encodeLocation(k).pathname:k.pathname,me=re.pathname,de=ce&&ce.navigation&&ce.navigation.location?ce.navigation.location.pathname:null;m||(me=me.toLowerCase(),de=de?de.toLowerCase():null,Ne=Ne.toLowerCase()),de&&Ae&&(de=ga(de,Ae)||de);const Oe=Ne!=="/"&&Ne.endsWith("/")?Ne.length-1:Ne.length;let Be=me===Ne||!C&&me.startsWith(Ne)&&me.charAt(Oe)==="/",ke=de!=null&&(de===Ne||!C&&de.startsWith(Ne)&&de.charAt(Ne.length)==="/"),se={isActive:Be,isPending:ke,isTransitioning:we},Me=Be?E:void 0,ie;typeof A=="function"?ie=A(se):ie=[A,Be?"active":null,ke?"pending":null,we?"transitioning":null].filter(Boolean).join(" ");let Gt=typeof w=="function"?w(se):w;return K.createElement(Sr,{...p,"aria-current":Me,className:ie,ref:I,style:Gt,to:_,viewTransition:M},typeof D=="function"?D(se):D)});Mg.displayName="NavLink";var Bg=K.forwardRef(({discover:g="render",fetcherKey:E,navigate:m,reloadDocument:A,replace:C,state:w,method:_=Uo,action:M,onSubmit:D,relative:p,preventScrollReset:I,viewTransition:k,...re},ce)=>{let pe=Pg(),Ae=Hg(M,{relative:p}),we=_.toLowerCase()==="get"?"get":"post",Ne=typeof M=="string"&&Ph.test(M),me=de=>{if(D&&D(de),de.defaultPrevented)return;de.preventDefault();let Oe=de.nativeEvent.submitter,Be=Oe?.getAttribute("formmethod")||_;pe(Oe||de.currentTarget,{fetcherKey:E,method:Be,navigate:m,replace:C,state:w,relative:p,preventScrollReset:I,viewTransition:k})};return K.createElement("form",{ref:ce,method:we,action:Ae,onSubmit:A?D:me,...re,"data-discover":!Ne&&g==="render"?"true":void 0})});Bg.displayName="Form";function Lg(g){return`${g} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hh(g){let E=K.useContext(xl);return Pt(E,Lg(g)),E}function Ug(g,{target:E,replace:m,state:A,preventScrollReset:C,relative:w,viewTransition:_}={}){let M=ys(),D=xa(),p=ws(g,{relative:w});return K.useCallback(I=>{if(gg(I,E)){I.preventDefault();let k=m!==void 0?m:Es(D)===Es(p);M(g,{replace:k,state:A,preventScrollReset:C,relative:w,viewTransition:_})}},[D,M,p,m,A,E,g,C,w,_])}var kg=0,Fg=()=>`__${String(++kg)}__`;function Pg(){let{router:g}=Hh("useSubmit"),{basename:E}=K.useContext(Si),m=ag();return K.useCallback(async(A,C={})=>{let{action:w,method:_,encType:M,formData:D,body:p}=Eg(A,E);if(C.navigate===!1){let I=C.fetcherKey||Fg();await g.fetch(I,m,C.action||w,{preventScrollReset:C.preventScrollReset,formData:D,body:p,formMethod:C.method||_,formEncType:C.encType||M,flushSync:C.flushSync})}else await g.navigate(C.action||w,{preventScrollReset:C.preventScrollReset,formData:D,body:p,formMethod:C.method||_,formEncType:C.encType||M,replace:C.replace,state:C.state,fromRouteId:m,flushSync:C.flushSync,viewTransition:C.viewTransition})},[g,E,m])}function Hg(g,{relative:E}={}){let{basename:m}=K.useContext(Si),A=K.useContext(vi);Pt(A,"useFormAction must be used inside a RouteContext");let[C]=A.matches.slice(-1),w={...ws(g||".",{relative:E})},_=xa();if(g==null){w.search=_.search;let M=new URLSearchParams(w.search),D=M.getAll("index");if(D.some(I=>I==="")){M.delete("index"),D.filter(k=>k).forEach(k=>M.append("index",k));let I=M.toString();w.search=I?`?${I}`:""}}return(!g||g===".")&&C.route.index&&(w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index"),m!=="/"&&(w.pathname=w.pathname==="/"?m:da([m,w.pathname])),Es(w)}function zg(g,{relative:E}={}){let m=K.useContext(Dh);Pt(m!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:A}=Hh("useViewTransitionState"),C=ws(g,{relative:E});if(!m.isTransitioning)return!1;let w=ga(m.currentLocation.pathname,A)||m.currentLocation.pathname,_=ga(m.nextLocation.pathname,A)||m.nextLocation.pathname;return Fo(C.pathname,_)!=null||Fo(C.pathname,w)!=null}const zh=K.createContext();function Gg({children:g}){const[E,m]=K.useState(localStorage.getItem("token")||""),[A,C]=K.useState(localStorage.getItem("role")||""),[w,_]=K.useState(localStorage.getItem("name")||""),M=({token:p,role:I,name:k})=>{m(p),C(I),_(k),localStorage.setItem("token",p),localStorage.setItem("role",I),localStorage.setItem("name",k)},D=()=>{m(""),C(""),_(""),localStorage.clear()};return P.jsx(zh.Provider,{value:{token:E,role:A,name:w,login:M,logout:D},children:g})}function Wa(){return K.useContext(zh)}function Vg(){const{role:g,name:E,logout:m,token:A}=Wa(),C=xa(),w=ys();return P.jsxs("div",{className:"navbar",children:[P.jsx("div",{className:"brand",children:"Business Card Redear"}),P.jsxs("div",{children:[P.jsx(Sr,{to:"/",className:C.pathname==="/"?"active":"",children:"Home"}),P.jsx(Sr,{to:"/history",className:C.pathname==="/history"?"active":"",children:"History"}),g==="admin"&&P.jsx(Sr,{to:"/admin/events",className:C.pathname==="/admin/events"?"active":"",children:"Events"}),A?P.jsxs("button",{className:"btn secondary",style:{marginLeft:12},onClick:()=>{m(),w("/login")},children:["Logout ",E?`(${E})`:""]}):P.jsx(Sr,{to:"/login",style:{marginLeft:12},children:"Login"})]})]})}const Xg="https://bcr-fullstack.onrender.com";async function Pn(g,{method:E="GET",body:m,token:A,headers:C={}}={}){const w={method:E,headers:{...C}};A&&(w.headers.Authorization=`Bearer ${A}`),m instanceof FormData?w.body=m:m&&(w.body=JSON.stringify(m),w.headers["Content-Type"]="application/json");const _=await fetch(`${Xg}${g}`,w),M=await _.json().catch(()=>({}));if(!_.ok)throw new Error(M.message||_.statusText);return M}function jg(){const[g,E]=K.useState("admin@demo.com"),[m,A]=K.useState("Admin@123"),[C,w]=K.useState(""),_=ys(),{login:M}=Wa(),D=async p=>{p.preventDefault();try{const I=await Pn("/api/auth/login",{method:"POST",body:{email:g,password:m}});M(I),localStorage.setItem("token",I.token),alert("Login successful!"),_("/")}catch(I){w(I.message)}};return P.jsx("div",{className:"container",children:P.jsxs("div",{className:"card",style:{maxWidth:480,margin:"40px auto"},children:[P.jsx("h2",{style:{color:"var(--brand)"},children:"Login"}),P.jsxs("p",{className:"notice info",children:["Use ",P.jsx("b",{children:"admin@demo.com / Admin@123"})," after seeding (POST /api/auth/seed-admin)"]}),C&&P.jsx("div",{className:"notice error",children:C}),P.jsxs("form",{onSubmit:D,children:[P.jsxs("label",{children:["Email",P.jsx("input",{className:"input",type:"email",value:g,onChange:p=>E(p.target.value)})]}),P.jsxs("label",{children:["Password",P.jsx("input",{className:"input",type:"password",value:m,onChange:p=>A(p.target.value)})]}),P.jsx("button",{className:"btn",type:"submit",style:{marginTop:10},children:"Login"})]})]})})}var Se;(function(g){g[g.QR_CODE=0]="QR_CODE",g[g.AZTEC=1]="AZTEC",g[g.CODABAR=2]="CODABAR",g[g.CODE_39=3]="CODE_39",g[g.CODE_93=4]="CODE_93",g[g.CODE_128=5]="CODE_128",g[g.DATA_MATRIX=6]="DATA_MATRIX",g[g.MAXICODE=7]="MAXICODE",g[g.ITF=8]="ITF",g[g.EAN_13=9]="EAN_13",g[g.EAN_8=10]="EAN_8",g[g.PDF_417=11]="PDF_417",g[g.RSS_14=12]="RSS_14",g[g.RSS_EXPANDED=13]="RSS_EXPANDED",g[g.UPC_A=14]="UPC_A",g[g.UPC_E=15]="UPC_E",g[g.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Se||(Se={}));var mh=new Map([[Se.QR_CODE,"QR_CODE"],[Se.AZTEC,"AZTEC"],[Se.CODABAR,"CODABAR"],[Se.CODE_39,"CODE_39"],[Se.CODE_93,"CODE_93"],[Se.CODE_128,"CODE_128"],[Se.DATA_MATRIX,"DATA_MATRIX"],[Se.MAXICODE,"MAXICODE"],[Se.ITF,"ITF"],[Se.EAN_13,"EAN_13"],[Se.EAN_8,"EAN_8"],[Se.PDF_417,"PDF_417"],[Se.RSS_14,"RSS_14"],[Se.RSS_EXPANDED,"RSS_EXPANDED"],[Se.UPC_A,"UPC_A"],[Se.UPC_E,"UPC_E"],[Se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Eh;(function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.URL=1]="URL"})(Eh||(Eh={}));function Yg(g){return Object.values(Se).includes(g)}var Po;(function(g){g[g.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",g[g.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Po||(Po={}));var Zg=(function(){function g(){}return g.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",g.SCAN_DEFAULT_FPS=2,g.DEFAULT_DISABLE_FLIP=!1,g.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,g.DEFAULT_SUPPORTED_SCAN_TYPE=[Po.SCAN_TYPE_CAMERA,Po.SCAN_TYPE_FILE],g})(),Gh=(function(){function g(E,m){this.format=E,this.formatName=m}return g.prototype.toString=function(){return this.formatName},g.create=function(E){if(!mh.has(E))throw"".concat(E," not in html5QrcodeSupportedFormatsTextMap");return new g(E,mh.get(E))},g})(),Ah=(function(){function g(){}return g.createFromText=function(E){var m={text:E};return{decodedText:E,result:m}},g.createFromQrcodeResult=function(E){return{decodedText:E.text,result:E}},g})(),Qc;(function(g){g[g.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",g[g.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",g[g.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Qc||(Qc={}));var qg=(function(){function g(){}return g.createFrom=function(E){return{errorMessage:E,type:Qc.UNKWOWN_ERROR}},g})(),Wg=(function(){function g(E){this.verbose=E}return g.prototype.log=function(E){this.verbose&&console.log(E)},g.prototype.warn=function(E){this.verbose&&console.warn(E)},g.prototype.logError=function(E,m){(this.verbose||m===!0)&&console.error(E)},g.prototype.logErrors=function(E){if(E.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(E)},g})();function ha(g){return typeof g>"u"||g===null}var dl=(function(){function g(){}return g.codeParseError=function(E){return"QR code parse error, error = ".concat(E)},g.errorGettingUserMedia=function(E){return"Error getting userMedia, error = ".concat(E)},g.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},g.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},g.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},g.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},g.scannerPaused=function(){return"Scanner paused"},g})(),Vh=(function(){function g(){}return g.isMediaStreamConstraintsValid=function(E,m){if(typeof E!="object"){var A=typeof E;return m.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(A,"."),!0),!1}for(var C=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],w=new Set(C),_=Object.keys(E),M=0,D=_;M<D.length;M++){var p=D[M];if(w.has(p))return m.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},g})(),ms={exports:{}},Qg=ms.exports,yh;function Kg(){return yh||(yh=1,(function(g,E){(function(m,A){A(E)})(Qg,(function(m){function A(S){return S==null}var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,t){S.__proto__=t}||function(S,t){for(var i in t)t.hasOwnProperty(i)&&(S[i]=t[i])};function w(S,t){C(S,t);function i(){this.constructor=S}S.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function _(S,t){var i=Object.setPrototypeOf;i?i(S,t):S.__proto__=t}function M(S,t){t===void 0&&(t=S.constructor);var i=Error.captureStackTrace;i&&i(S,t)}var D=(function(S){w(t,S);function t(i){var a=this.constructor,l=S.call(this,i)||this;return Object.defineProperty(l,"name",{value:a.name,enumerable:!1}),_(l,a.prototype),M(l),l}return t})(Error);class p extends D{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}p.kind="Exception";class I extends p{}I.kind="ArgumentException";class k extends p{}k.kind="IllegalArgumentException";class re{constructor(t){if(this.binarizer=t,t===null)throw new k("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,a,l){const s=this.binarizer.getLuminanceSource().crop(t,i,a,l);return new re(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new re(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new re(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class ce extends p{static getChecksumInstance(){return new ce}}ce.kind="ChecksumException";class pe{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Ae{static arraycopy(t,i,a,l,s){for(;s--;)a[l++]=t[i++]}static currentTimeMillis(){return Date.now()}}class we extends p{}we.kind="IndexOutOfBoundsException";class Ne extends we{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}Ne.kind="ArrayIndexOutOfBoundsException";class me{static fill(t,i){for(let a=0,l=t.length;a<l;a++)t[a]=i}static fillWithin(t,i,a,l){me.rangeCheck(t.length,i,a);for(let s=i;s<a;s++)t[s]=l}static rangeCheck(t,i,a){if(i>a)throw new k("fromIndex("+i+") > toIndex("+a+")");if(i<0)throw new Ne(i);if(a>t)throw new Ne(a)}static asList(...t){return t}static create(t,i,a){return Array.from({length:t}).map(s=>Array.from({length:i}).fill(a))}static createInt32Array(t,i,a){return Array.from({length:t}).map(s=>Int32Array.from({length:i}).fill(a))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let a=0,l=t.length;a<l;a++)if(t[a]!==i[a])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const a of t)i=31*i+a;return i}static fillUint8Array(t,i){for(let a=0;a!==t.length;a++)t[a]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const a=new Uint8Array(i);return a.set(t),a}return t.slice(0,i)}static copyOfRange(t,i,a){const l=a-i,s=new Int32Array(l);return Ae.arraycopy(t,i,s,0,l),s}static binarySearch(t,i,a){a===void 0&&(a=me.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const u=s+l>>1,c=a(i,t[u]);if(c>0)l=u+1;else if(c<0)s=u-1;else return u}return-l-1}static numberComparator(t,i){return t-i}}class de{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let a=31;return i=t<<16,i!==0&&(a-=16,t=i),i=t<<8,i!==0&&(a-=8,t=i),i=t<<4,i!==0&&(a-=4,t=i),i=t<<2,i!==0&&(a-=2,t=i),a-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}de.MIN_VALUE_32_BITS=-2147483648,de.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Oe{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=Oe.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=Oe.makeArray(t);Ae.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const a=this.bits;let l=Math.floor(t/32),s=a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return i;s=a[l]}const c=l*32+de.numberOfTrailingZeros(s);return c>i?i:c}getNextUnset(t){const i=this.size;if(t>=i)return i;const a=this.bits;let l=Math.floor(t/32),s=~a[l];s&=~((1<<(t&31))-1);const u=a.length;for(;s===0;){if(++l===u)return i;s=~a[l]}const c=l*32+de.numberOfTrailingZeros(s);return c>i?i:c}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new k;if(i===t)return;i--;const a=Math.floor(t/32),l=Math.floor(i/32),s=this.bits;for(let u=a;u<=l;u++){const c=u>a?0:t&31,x=(2<<(u<l?31:i&31))-(1<<c);s[u]|=x}}clear(){const t=this.bits.length,i=this.bits;for(let a=0;a<t;a++)i[a]=0}isRange(t,i,a){if(i<t||t<0||i>this.size)throw new k;if(i===t)return!0;i--;const l=Math.floor(t/32),s=Math.floor(i/32),u=this.bits;for(let c=l;c<=s;c++){const h=c>l?0:t&31,y=(2<<(c<s?31:i&31))-(1<<h)&4294967295;if((u[c]&y)!==(a?y:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new k("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let a=i;a>0;a--)this.appendBit((t>>a-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let a=0;a<i;a++)this.appendBit(t.get(a))}xor(t){if(this.size!==t.size)throw new k("Sizes don't match");const i=this.bits;for(let a=0,l=i.length;a<l;a++)i[a]^=t.bits[a]}toBytes(t,i,a,l){for(let s=0;s<l;s++){let u=0;for(let c=0;c<8;c++)this.get(t)&&(u|=1<<7-c),t++;i[a+s]=u}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),a=i+1,l=this.bits;for(let s=0;s<a;s++){let u=l[s];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,t[i-s]=u}if(this.size!==a*32){const s=a*32-this.size;let u=t[0]>>>s;for(let c=1;c<a;c++){const h=t[c];u|=h<<32-s,t[c-1]=u,u=h>>>s}t[a-1]=u}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof Oe))return!1;const i=t;return this.size===i.size&&me.equals(this.bits,i.bits)}hashCode(){return 31*this.size+me.hashCode(this.bits)}toString(){let t="";for(let i=0,a=this.size;i<a;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new Oe(this.size,this.bits.slice())}}var Be;(function(S){S[S.OTHER=0]="OTHER",S[S.PURE_BARCODE=1]="PURE_BARCODE",S[S.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",S[S.TRY_HARDER=3]="TRY_HARDER",S[S.CHARACTER_SET=4]="CHARACTER_SET",S[S.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",S[S.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",S[S.ASSUME_GS1=7]="ASSUME_GS1",S[S.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",S[S.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",S[S.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Be||(Be={}));var ke=Be;class se extends p{static getFormatInstance(){return new se}}se.kind="FormatException";var Me;(function(S){S[S.Cp437=0]="Cp437",S[S.ISO8859_1=1]="ISO8859_1",S[S.ISO8859_2=2]="ISO8859_2",S[S.ISO8859_3=3]="ISO8859_3",S[S.ISO8859_4=4]="ISO8859_4",S[S.ISO8859_5=5]="ISO8859_5",S[S.ISO8859_6=6]="ISO8859_6",S[S.ISO8859_7=7]="ISO8859_7",S[S.ISO8859_8=8]="ISO8859_8",S[S.ISO8859_9=9]="ISO8859_9",S[S.ISO8859_10=10]="ISO8859_10",S[S.ISO8859_11=11]="ISO8859_11",S[S.ISO8859_13=12]="ISO8859_13",S[S.ISO8859_14=13]="ISO8859_14",S[S.ISO8859_15=14]="ISO8859_15",S[S.ISO8859_16=15]="ISO8859_16",S[S.SJIS=16]="SJIS",S[S.Cp1250=17]="Cp1250",S[S.Cp1251=18]="Cp1251",S[S.Cp1252=19]="Cp1252",S[S.Cp1256=20]="Cp1256",S[S.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",S[S.UTF8=22]="UTF8",S[S.ASCII=23]="ASCII",S[S.Big5=24]="Big5",S[S.GB18030=25]="GB18030",S[S.EUC_KR=26]="EUC_KR"})(Me||(Me={}));class ie{constructor(t,i,a,...l){this.valueIdentifier=t,this.name=a,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,ie.VALUE_IDENTIFIER_TO_ECI.set(t,this),ie.NAME_TO_ECI.set(a,this);const s=this.values;for(let u=0,c=s.length;u!==c;u++){const h=s[u];ie.VALUES_TO_ECI.set(h,this)}for(const u of l)ie.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new se("incorect value");const i=ie.VALUES_TO_ECI.get(t);if(i===void 0)throw new se("incorect value");return i}static getCharacterSetECIByName(t){const i=ie.NAME_TO_ECI.get(t);if(i===void 0)throw new se("incorect value");return i}equals(t){if(!(t instanceof ie))return!1;const i=t;return this.getName()===i.getName()}}ie.VALUE_IDENTIFIER_TO_ECI=new Map,ie.VALUES_TO_ECI=new Map,ie.NAME_TO_ECI=new Map,ie.Cp437=new ie(Me.Cp437,Int32Array.from([0,2]),"Cp437"),ie.ISO8859_1=new ie(Me.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ie.ISO8859_2=new ie(Me.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ie.ISO8859_3=new ie(Me.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ie.ISO8859_4=new ie(Me.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ie.ISO8859_5=new ie(Me.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ie.ISO8859_6=new ie(Me.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ie.ISO8859_7=new ie(Me.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ie.ISO8859_8=new ie(Me.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ie.ISO8859_9=new ie(Me.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ie.ISO8859_10=new ie(Me.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ie.ISO8859_11=new ie(Me.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ie.ISO8859_13=new ie(Me.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ie.ISO8859_14=new ie(Me.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ie.ISO8859_15=new ie(Me.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ie.ISO8859_16=new ie(Me.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ie.SJIS=new ie(Me.SJIS,20,"SJIS","Shift_JIS"),ie.Cp1250=new ie(Me.Cp1250,21,"Cp1250","windows-1250"),ie.Cp1251=new ie(Me.Cp1251,22,"Cp1251","windows-1251"),ie.Cp1252=new ie(Me.Cp1252,23,"Cp1252","windows-1252"),ie.Cp1256=new ie(Me.Cp1256,24,"Cp1256","windows-1256"),ie.UnicodeBigUnmarked=new ie(Me.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ie.UTF8=new ie(Me.UTF8,26,"UTF8","UTF-8"),ie.ASCII=new ie(Me.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ie.Big5=new ie(Me.Big5,28,"Big5"),ie.GB18030=new ie(Me.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ie.EUC_KR=new ie(Me.EUC_KR,30,"EUC_KR","EUC-KR");class Gt extends p{}Gt.kind="UnsupportedOperationException";class gt{static decode(t,i){const a=this.encodingName(i);return this.customDecoder?this.customDecoder(t,a):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(a)?this.decodeFallback(t,a):new TextDecoder(a).decode(t)}static shouldDecodeOnFallback(t){return!gt.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const a=this.encodingName(i);return this.customEncoder?this.customEncoder(t,a):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof ie?t:ie.getCharacterSetECIByName(t)}static decodeFallback(t,i){const a=this.encodingCharacterSet(i);if(gt.isDecodeFallbackSupported(a)){let l="";for(let s=0,u=t.length;s<u;s++){let c=t[s].toString(16);c.length<2&&(c="0"+c),l+="%"+c}return decodeURIComponent(l)}if(a.equals(ie.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Gt(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(ie.UTF8)||t.equals(ie.ISO8859_1)||t.equals(ie.ASCII)}static encodeFallback(t){const a=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<a.length;s++)l.push(a[s].charCodeAt(0));return new Uint8Array(l)}}class ve{static castAsNonUtf8Char(t,i=null){const a=i?i.getName():this.ISO88591;return gt.decode(new Uint8Array([t]),a)}static guessEncoding(t,i){if(i!=null&&i.get(ke.CHARACTER_SET)!==void 0)return i.get(ke.CHARACTER_SET).toString();const a=t.length;let l=!0,s=!0,u=!0,c=0,h=0,x=0,y=0,v=0,T=0,O=0,L=0,F=0,V=0,q=0;const fe=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let ge=0;ge<a&&(l||s||u);ge++){const ue=t[ge]&255;u&&(c>0?(ue&128)===0?u=!1:c--:(ue&128)!==0&&((ue&64)===0?u=!1:(c++,(ue&32)===0?h++:(c++,(ue&16)===0?x++:(c++,(ue&8)===0?y++:u=!1))))),l&&(ue>127&&ue<160?l=!1:ue>159&&(ue<192||ue===215||ue===247)&&q++),s&&(v>0?ue<64||ue===127||ue>252?s=!1:v--:ue===128||ue===160||ue>239?s=!1:ue>160&&ue<224?(T++,L=0,O++,O>F&&(F=O)):ue>127?(v++,O=0,L++,L>V&&(V=L)):(O=0,L=0))}return u&&c>0&&(u=!1),s&&v>0&&(s=!1),u&&(fe||h+x+y>0)?ve.UTF8:s&&(ve.ASSUME_SHIFT_JIS||F>=3||V>=3)?ve.SHIFT_JIS:l&&s?F===2&&T===2||q*10>=a?ve.SHIFT_JIS:ve.ISO88591:l?ve.ISO88591:s?ve.SHIFT_JIS:u?ve.UTF8:ve.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let a=-1;function l(u,c,h,x,y,v){if(u==="%%")return"%";if(i[++a]===void 0)return;u=x?parseInt(x.substr(1)):void 0;let T=y?parseInt(y.substr(1)):void 0,O;switch(v){case"s":O=i[a];break;case"c":O=i[a][0];break;case"f":O=parseFloat(i[a]).toFixed(u);break;case"p":O=parseFloat(i[a]).toPrecision(u);break;case"e":O=parseFloat(i[a]).toExponential(u);break;case"x":O=parseInt(i[a]).toString(T||16);break;case"d":O=parseFloat(parseInt(i[a],T||10).toPrecision(u)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(T);let L=parseInt(h),F=h&&h[0]+""=="0"?"0":" ";for(;O.length<L;)O=c!==void 0?O+F:F+O;return O}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,i){return gt.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}ve.SHIFT_JIS=ie.SJIS.getName(),ve.GB2312="GB2312",ve.ISO88591=ie.ISO8859_1.getName(),ve.EUC_JP="EUC_JP",ve.UTF8=ie.UTF8.getName(),ve.PLATFORM_DEFAULT_ENCODING=ve.UTF8,ve.ASSUME_SHIFT_JIS=!1;class Qe{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=ve.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,a){for(let l=i;i<i+a;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class pt{constructor(t,i,a,l){if(this.width=t,this.height=i,this.rowSize=a,this.bits=l,i==null&&(i=t),this.height=i,t<1||i<1)throw new k("Both dimensions must be greater than 0");a==null&&(a=Math.floor((t+31)/32)),this.rowSize=a,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,a=t[0].length,l=new pt(a,i);for(let s=0;s<i;s++){const u=t[s];for(let c=0;c<a;c++)u[c]&&l.set(c,s)}return l}static parseFromString(t,i,a){if(t===null)throw new k("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,u=0,c=-1,h=0,x=0;for(;x<t.length;)if(t.charAt(x)===`
`||t.charAt(x)==="\r"){if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new k("row lengths do not match");u=s,h++}x++}else if(t.substring(x,x+i.length)===i)x+=i.length,l[s]=!0,s++;else if(t.substring(x,x+a.length)===a)x+=a.length,l[s]=!1,s++;else throw new k("illegal character encountered: "+t.substring(x));if(s>u){if(c===-1)c=s-u;else if(s-u!==c)throw new k("row lengths do not match");h++}const y=new pt(c,h);for(let v=0;v<s;v++)l[v]&&y.set(Math.floor(v%c),Math.floor(v/c));return y}get(t,i){const a=i*this.rowSize+Math.floor(t/32);return(this.bits[a]>>>(t&31)&1)!==0}set(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]|=1<<(t&31)&4294967295}unset(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]&=~(1<<(t&31)&4294967295)}flip(t,i){const a=i*this.rowSize+Math.floor(t/32);this.bits[a]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new k("input matrix dimensions do not match");const i=new Oe(Math.floor(this.width/32)+1),a=this.rowSize,l=this.bits;for(let s=0,u=this.height;s<u;s++){const c=s*a,h=t.getRow(s,i).getBitArray();for(let x=0;x<a;x++)l[c+x]^=h[x]}}clear(){const t=this.bits,i=t.length;for(let a=0;a<i;a++)t[a]=0}setRegion(t,i,a,l){if(i<0||t<0)throw new k("Left and top must be nonnegative");if(l<1||a<1)throw new k("Height and width must be at least 1");const s=t+a,u=i+l;if(u>this.height||s>this.width)throw new k("The region must fit inside the matrix");const c=this.rowSize,h=this.bits;for(let x=i;x<u;x++){const y=x*c;for(let v=t;v<s;v++)h[y+Math.floor(v/32)]|=1<<(v&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new Oe(this.width):i.clear();const a=this.rowSize,l=this.bits,s=t*a;for(let u=0;u<a;u++)i.setBulk(u*32,l[s+u]);return i}setRow(t,i){Ae.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let a=new Oe(t),l=new Oe(t);for(let s=0,u=Math.floor((i+1)/2);s<u;s++)a=this.getRow(s,a),l=this.getRow(i-1-s,l),a.reverse(),l.reverse(),this.setRow(s,l),this.setRow(i-1-s,a)}getEnclosingRectangle(){const t=this.width,i=this.height,a=this.rowSize,l=this.bits;let s=t,u=i,c=-1,h=-1;for(let x=0;x<i;x++)for(let y=0;y<a;y++){const v=l[x*a+y];if(v!==0){if(x<u&&(u=x),x>h&&(h=x),y*32<s){let T=0;for(;(v<<31-T&4294967295)===0;)T++;y*32+T<s&&(s=y*32+T)}if(y*32+31>c){let T=31;for(;!(v>>>T);)T--;y*32+T>c&&(c=y*32+T)}}}return c<s||h<u?null:Int32Array.from([s,u,c-s+1,h-u+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let a=0;for(;a<i.length&&i[a]===0;)a++;if(a===i.length)return null;const l=a/t;let s=a%t*32;const u=i[a];let c=0;for(;(u<<31-c&4294967295)===0;)c++;return s+=c,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let a=i.length-1;for(;a>=0&&i[a]===0;)a--;if(a<0)return null;const l=Math.floor(a/t);let s=Math.floor(a%t)*32;const u=i[a];let c=31;for(;!(u>>>c);)c--;return s+=c,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof pt))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&me.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+me.hashCode(this.bits),t}toString(t="X ",i="  ",a=`
`){return this.buildToString(t,i,a)}buildToString(t,i,a){let l=new Qe;for(let s=0,u=this.height;s<u;s++){for(let c=0,h=this.width;c<h;c++)l.append(this.get(c,s)?t:i);l.append(a)}return l.toString()}clone(){return new pt(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends p{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class $ extends pe{constructor(t){super(t),this.luminances=$.EMPTY,this.buckets=new Int32Array($.LUMINANCE_BUCKETS)}getBlackRow(t,i){const a=this.getLuminanceSource(),l=a.getWidth();i==null||i.getSize()<l?i=new Oe(l):i.clear(),this.initArrays(l);const s=a.getRow(t,this.luminances),u=this.buckets;for(let h=0;h<l;h++)u[(s[h]&255)>>$.LUMINANCE_SHIFT]++;const c=$.estimateBlackPoint(u);if(l<3)for(let h=0;h<l;h++)(s[h]&255)<c&&i.set(h);else{let h=s[0]&255,x=s[1]&255;for(let y=1;y<l-1;y++){const v=s[y+1]&255;(x*4-h-v)/2<c&&i.set(y),h=x,x=v}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight(),l=new pt(i,a);this.initArrays(i);const s=this.buckets;for(let h=1;h<5;h++){const x=Math.floor(a*h/5),y=t.getRow(x,this.luminances),v=Math.floor(i*4/5);for(let T=Math.floor(i/5);T<v;T++){const O=y[T]&255;s[O>>$.LUMINANCE_SHIFT]++}}const u=$.estimateBlackPoint(s),c=t.getMatrix();for(let h=0;h<a;h++){const x=h*i;for(let y=0;y<i;y++)(c[x+y]&255)<u&&l.set(y,h)}return l}createBinarizer(t){return new $(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let a=0;a<$.LUMINANCE_BUCKETS;a++)i[a]=0}static estimateBlackPoint(t){const i=t.length;let a=0,l=0,s=0;for(let y=0;y<i;y++)t[y]>s&&(l=y,s=t[y]),t[y]>a&&(a=t[y]);let u=0,c=0;for(let y=0;y<i;y++){const v=y-l,T=t[y]*v*v;T>c&&(u=y,c=T)}if(l>u){const y=l;l=u,u=y}if(u-l<=i/16)throw new J;let h=u-1,x=-1;for(let y=u-1;y>l;y--){const v=y-l,T=v*v*(u-y)*(a-t[y]);T>x&&(h=y,x=T)}return h<<$.LUMINANCE_SHIFT}}$.LUMINANCE_BITS=5,$.LUMINANCE_SHIFT=8-$.LUMINANCE_BITS,$.LUMINANCE_BUCKETS=1<<$.LUMINANCE_BITS,$.EMPTY=Uint8ClampedArray.from([0]);class G extends ${constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),a=t.getHeight();if(i>=G.MINIMUM_DIMENSION&&a>=G.MINIMUM_DIMENSION){const l=t.getMatrix();let s=i>>G.BLOCK_SIZE_POWER;(i&G.BLOCK_SIZE_MASK)!==0&&s++;let u=a>>G.BLOCK_SIZE_POWER;(a&G.BLOCK_SIZE_MASK)!==0&&u++;const c=G.calculateBlackPoints(l,s,u,i,a),h=new pt(i,a);G.calculateThresholdForBlock(l,s,u,i,a,c,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new G(t)}static calculateThresholdForBlock(t,i,a,l,s,u,c){const h=s-G.BLOCK_SIZE,x=l-G.BLOCK_SIZE;for(let y=0;y<a;y++){let v=y<<G.BLOCK_SIZE_POWER;v>h&&(v=h);const T=G.cap(y,2,a-3);for(let O=0;O<i;O++){let L=O<<G.BLOCK_SIZE_POWER;L>x&&(L=x);const F=G.cap(O,2,i-3);let V=0;for(let fe=-2;fe<=2;fe++){const ge=u[T+fe];V+=ge[F-2]+ge[F-1]+ge[F]+ge[F+1]+ge[F+2]}const q=V/25;G.thresholdBlock(t,L,v,q,l,c)}}}static cap(t,i,a){return t<i?i:t>a?a:t}static thresholdBlock(t,i,a,l,s,u){for(let c=0,h=a*s+i;c<G.BLOCK_SIZE;c++,h+=s)for(let x=0;x<G.BLOCK_SIZE;x++)(t[h+x]&255)<=l&&u.set(i+x,a+c)}static calculateBlackPoints(t,i,a,l,s){const u=s-G.BLOCK_SIZE,c=l-G.BLOCK_SIZE,h=new Array(a);for(let x=0;x<a;x++){h[x]=new Int32Array(i);let y=x<<G.BLOCK_SIZE_POWER;y>u&&(y=u);for(let v=0;v<i;v++){let T=v<<G.BLOCK_SIZE_POWER;T>c&&(T=c);let O=0,L=255,F=0;for(let q=0,fe=y*l+T;q<G.BLOCK_SIZE;q++,fe+=l){for(let ge=0;ge<G.BLOCK_SIZE;ge++){const ue=t[fe+ge]&255;O+=ue,ue<L&&(L=ue),ue>F&&(F=ue)}if(F-L>G.MIN_DYNAMIC_RANGE)for(q++,fe+=l;q<G.BLOCK_SIZE;q++,fe+=l)for(let ge=0;ge<G.BLOCK_SIZE;ge++)O+=t[fe+ge]&255}let V=O>>G.BLOCK_SIZE_POWER*2;if(F-L<=G.MIN_DYNAMIC_RANGE&&(V=L/2,x>0&&v>0)){const q=(h[x-1][v]+2*h[x][v-1]+h[x-1][v-1])/4;L<q&&(V=q)}h[x][v]=V}}return h}}G.BLOCK_SIZE_POWER=3,G.BLOCK_SIZE=1<<G.BLOCK_SIZE_POWER,G.BLOCK_SIZE_MASK=G.BLOCK_SIZE-1,G.MINIMUM_DIMENSION=G.BLOCK_SIZE*5,G.MIN_DYNAMIC_RANGE=24;class oe{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,a,l){throw new Gt("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Gt("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Gt("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new Qe;for(let a=0;a<this.height;a++){const l=this.getRow(a,t);for(let s=0;s<this.width;s++){const u=l[s]&255;let c;u<64?c="#":u<128?c="+":u<192?c=".":c=" ",i.append(c)}i.append(`
`)}return i.toString()}}class Fe extends oe{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const a=this.delegate.getRow(t,i),l=this.getWidth();for(let s=0;s<l;s++)a[s]=255-(a[s]&255);return a}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),a=new Uint8ClampedArray(i);for(let l=0;l<i;l++)a[l]=255-(t[l]&255);return a}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,a,l){return new Fe(this.delegate.crop(t,i,a,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Fe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Fe(this.delegate.rotateCounterClockwise45())}}class U extends oe{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=U.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return U.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,a){const l=new Uint8ClampedArray(i*a);for(let s=0,u=0,c=t.length;s<c;s+=4,u++){let h;if(t[s+3]===0)h=255;else{const y=t[s],v=t[s+1],T=t[s+2];h=306*y+601*v+117*T+512>>10}l[u]=h}return l}getRow(t,i){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const a=this.getWidth(),l=t*a;return i===null?i=this.buffer.slice(l,l+a):(i.length<a&&(i=new Uint8ClampedArray(a)),i.set(this.buffer.slice(l,l+a))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,a,l){return super.crop(t,i,a,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),a=i.getContext("2d"),l=t*U.DEGREE_TO_RADIANS,s=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*u),h=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*u);return i.width=c,i.height=h,a.translate(c/2,h/2),a.rotate(l),a.drawImage(this.canvas,s/-2,u/-2),this.buffer=U.makeBufferFromCanvasImageData(i),this}invert(){return new Fe(this)}}U.DEGREE_TO_RADIANS=Math.PI/180;class le{constructor(t,i,a){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=a||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||Mo||self||window||void 0)&&(globalThis||Mo||self||window||void 0).__awaiter||function(S,t,i,a){function l(s){return s instanceof i?s:new i(function(u){u(s)})}return new(i||(i=Promise))(function(s,u){function c(y){try{x(a.next(y))}catch(v){u(v)}}function h(y){try{x(a.throw(y))}catch(v){u(v)}}function x(y){y.done?s(y.value):l(y.value).then(c,h)}x((a=a.apply(S,t||[])).next())})};class Ee{constructor(t,i=500,a){this.reader=t,this.timeBetweenScansMillis=i,this._hints=a,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const a of t){const l=a.kind==="video"?"videoinput":a.kind;if(l!=="videoinput")continue;const s=a.deviceId||a.id,u=a.label||`Video device ${i.length+1}`,c=a.groupId,h={deviceId:s,label:u,kind:l,groupId:c};i.push(h)}return i})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new le(i.deviceId,i.label))})}findDeviceById(t){return xe(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(a=>a.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return xe(this,void 0,void 0,function*(){this.reset();let a;t?a={deviceId:{exact:t}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(t,i){return xe(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(a,i)})}decodeOnceFromStream(t,i){return xe(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(a)})}decodeFromInputVideoDeviceContinuously(t,i,a){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,a)})}decodeFromVideoDevice(t,i,a){return xe(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,i,a)})}decodeFromConstraints(t,i,a){return xe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,i,a)})}decodeFromStream(t,i,a){return xe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(l,a)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return xe(this,void 0,void 0,function*(){const a=this.prepareVideoElement(i);return this.addVideoSource(a,t),this.videoElement=a,this.stream=t,yield this.playVideoOnLoadAsync(a),a})}playVideoOnLoadAsync(t){return new Promise((i,a)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const a=document.getElementById(t);if(!a)throw new I(`element with id '${t}' not found`);if(a.nodeName.toLowerCase()!==i.toLowerCase())throw new I(`element with id '${t}' must be an ${i} element`);return a}decodeFromImage(t,i){if(!t&&!i)throw new I("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new I("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,a){if(t===void 0&&i===void 0)throw new I("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,a):this.decodeFromVideoElementContinuously(t,a)}decodeFromImageElement(t){if(!t)throw new I("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let a;return this.isImageLoaded(i)?a=this.decodeOnce(i,!1,!0):a=this._decodeOnLoadImage(i),a}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const a=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(a,i)}_decodeFromVideoElementSetup(t){if(!t)throw new I("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const a=this._decodeOnLoadImage(i);return i.src=t,a}decodeFromVideoUrl(t){if(!t)throw new I("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),a=this.decodeFromVideoElement(i);return i.src=t,a}decodeFromVideoUrlContinuously(t,i){if(!t)throw new I("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(a,i);return a.src=t,l}_decodeOnLoadImage(t){return new Promise((i,a)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,a),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,a=!0){this._stopAsyncDecode=!1;const l=(s,u)=>{if(this._stopAsyncDecode){u(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(t);s(c)}catch(c){const h=i&&c instanceof J,y=(c instanceof ce||c instanceof se)&&a;if(h||y)return setTimeout(l,this._timeBetweenDecodingAttempts,s,u);u(c)}};return new Promise((s,u)=>l(s,u))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const a=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);i(l,null),setTimeout(a,this.timeBetweenScansMillis)}catch(l){i(null,l);const s=l instanceof ce||l instanceof se,u=l instanceof J;(s||u)&&setTimeout(a,this._timeBetweenDecodingAttempts)}};a()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,a){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,a=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),a||(a=this.captureCanvasContext),a.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),a=new U(i),l=new G(a);return new re(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const a=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=a}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let a,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(a=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(a=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),i.style.width=a+"px",i.style.height=l+"px",i.width=a,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class be{constructor(t,i,a=i==null?0:8*i.length,l,s,u=Ae.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=a,this.resultPoints=l,this.format=s,this.timestamp=u,this.text=t,this.rawBytes=i,a==null?this.numBits=i==null?0:8*i.length:this.numBits=a,this.resultPoints=l,this.format=s,this.resultMetadata=null,u==null?this.timestamp=Ae.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const a=new Array(i.length+t.length);Ae.arraycopy(i,0,a,0,i.length),Ae.arraycopy(t,0,a,i.length,t.length),this.resultPoints=a}}getTimestamp(){return this.timestamp}toString(){return this.text}}var tt;(function(S){S[S.AZTEC=0]="AZTEC",S[S.CODABAR=1]="CODABAR",S[S.CODE_39=2]="CODE_39",S[S.CODE_93=3]="CODE_93",S[S.CODE_128=4]="CODE_128",S[S.DATA_MATRIX=5]="DATA_MATRIX",S[S.EAN_8=6]="EAN_8",S[S.EAN_13=7]="EAN_13",S[S.ITF=8]="ITF",S[S.MAXICODE=9]="MAXICODE",S[S.PDF_417=10]="PDF_417",S[S.QR_CODE=11]="QR_CODE",S[S.RSS_14=12]="RSS_14",S[S.RSS_EXPANDED=13]="RSS_EXPANDED",S[S.UPC_A=14]="UPC_A",S[S.UPC_E=15]="UPC_E",S[S.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(tt||(tt={}));var he=tt,pn;(function(S){S[S.OTHER=0]="OTHER",S[S.ORIENTATION=1]="ORIENTATION",S[S.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",S[S.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",S[S.ISSUE_NUMBER=4]="ISSUE_NUMBER",S[S.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",S[S.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",S[S.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",S[S.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",S[S.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",S[S.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pn||(pn={}));var je=pn;class Hn{constructor(t,i,a,l,s=-1,u=-1){this.rawBytes=t,this.text=i,this.byteSegments=a,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=u,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ji{exp(t){return this.expTable[t]}log(t){if(t===0)throw new k;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class ln{constructor(t,i){if(i.length===0)throw new k;this.field=t;const a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(a-l),Ae.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let a;if(t===1){a=0;for(let u=0,c=i.length;u!==c;u++){const h=i[u];a=ji.addOrSubtract(a,h)}return a}a=i[0];const l=i.length,s=this.field;for(let u=1;u<l;u++)a=ji.addOrSubtract(s.multiply(t,a),i[u]);return a}addOrSubtract(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){const u=i;i=a,a=u}let l=new Int32Array(a.length);const s=a.length-i.length;Ae.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=ji.addOrSubtract(i[u-s],a[u]);return new ln(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,a=i.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1),c=this.field;for(let h=0;h<a;h++){const x=i[h];for(let y=0;y<s;y++)u[h+y]=ji.addOrSubtract(u[h+y],c.multiply(x,l[y]))}return new ln(c,u)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,a=this.field,l=new Int32Array(i),s=this.coefficients;for(let u=0;u<i;u++)l[u]=a.multiply(s[u],t);return new ln(a,l)}multiplyByMonomial(t,i){if(t<0)throw new k;if(i===0)return this.field.getZero();const a=this.coefficients,l=a.length,s=new Int32Array(l+t),u=this.field;for(let c=0;c<l;c++)s[c]=u.multiply(a[c],i);return new ln(u,s)}divide(t){if(!this.field.equals(t.field))throw new k("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new k("Divide by 0");const i=this.field;let a=i.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),u=i.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const c=l.getDegree()-t.getDegree(),h=i.multiply(l.getCoefficient(l.getDegree()),u),x=t.multiplyByMonomial(c,h),y=i.buildMonomial(c,h);a=a.addOrSubtract(y),l=l.addOrSubtract(x)}return[a,l]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);if(a!==0){if(a<0?(t+=" - ",a=-a):t.length>0&&(t+=" + "),i===0||a!==1){const l=this.field.log(a);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class ma extends p{}ma.kind="ArithmeticException";class at extends ji{constructor(t,i,a){super(),this.primitive=t,this.size=i,this.generatorBase=a;const l=new Int32Array(i);let s=1;for(let c=0;c<i;c++)l[c]=s,s*=2,s>=i&&(s^=t,s&=i-1);this.expTable=l;const u=new Int32Array(i);for(let c=0;c<i-1;c++)u[l[c]]=c;this.logTable=u,this.zero=new ln(this,Int32Array.from([0])),this.one=new ln(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new k;if(i===0)return this.zero;const a=new Int32Array(t+1);return a[0]=i,new ln(this,a)}inverse(t){if(t===0)throw new ma;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+de.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}at.AZTEC_DATA_12=new at(4201,4096,1),at.AZTEC_DATA_10=new at(1033,1024,1),at.AZTEC_DATA_6=new at(67,64,1),at.AZTEC_PARAM=new at(19,16,1),at.QR_CODE_FIELD_256=new at(285,256,0),at.DATA_MATRIX_FIELD_256=new at(301,256,1),at.AZTEC_DATA_8=at.DATA_MATRIX_FIELD_256,at.MAXICODE_FIELD_64=at.AZTEC_DATA_6;class Ti extends p{}Ti.kind="ReedSolomonException";class ri extends p{}ri.kind="IllegalStateException";class Qa{constructor(t){this.field=t}decode(t,i){const a=this.field,l=new ln(a,t),s=new Int32Array(i);let u=!0;for(let O=0;O<i;O++){const L=l.evaluateAt(a.exp(O+a.getGeneratorBase()));s[s.length-1-O]=L,L!==0&&(u=!1)}if(u)return;const c=new ln(a,s),h=this.runEuclideanAlgorithm(a.buildMonomial(i,1),c,i),x=h[0],y=h[1],v=this.findErrorLocations(x),T=this.findErrorMagnitudes(y,v);for(let O=0;O<v.length;O++){const L=t.length-1-a.log(v[O]);if(L<0)throw new Ti("Bad error location");t[L]=at.addOrSubtract(t[L],T[O])}}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){const O=t;t=i,i=O}const l=this.field;let s=t,u=i,c=l.getZero(),h=l.getOne();for(;u.getDegree()>=(a/2|0);){let O=s,L=c;if(s=u,c=h,s.isZero())throw new Ti("r_{i-1} was zero");u=O;let F=l.getZero();const V=s.getCoefficient(s.getDegree()),q=l.inverse(V);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const fe=u.getDegree()-s.getDegree(),ge=l.multiply(u.getCoefficient(u.getDegree()),q);F=F.addOrSubtract(l.buildMonomial(fe,ge)),u=u.addOrSubtract(s.multiplyByMonomial(fe,ge))}if(h=F.multiply(c).addOrSubtract(L),u.getDegree()>=s.getDegree())throw new ri("Division algorithm failed to reduce polynomial?")}const x=h.getCoefficient(0);if(x===0)throw new Ti("sigmaTilde(0) was zero");const y=l.inverse(x),v=h.multiplyScalar(y),T=u.multiplyScalar(y);return[v,T]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const a=new Int32Array(i);let l=0;const s=this.field;for(let u=1;u<s.getSize()&&l<i;u++)t.evaluateAt(u)===0&&(a[l]=s.inverse(u),l++);if(l!==i)throw new Ti("Error locator degree does not match number of roots");return a}findErrorMagnitudes(t,i){const a=i.length,l=new Int32Array(a),s=this.field;for(let u=0;u<a;u++){const c=s.inverse(i[u]);let h=1;for(let x=0;x<a;x++)if(u!==x){const y=s.multiply(i[x],c),v=(y&1)===0?y|1:y&-2;h=s.multiply(h,v)}l[u]=s.multiply(t.evaluateAt(c),s.inverse(h)),s.getGeneratorBase()!==0&&(l[u]=s.multiply(l[u],c))}return l}}var Ct;(function(S){S[S.UPPER=0]="UPPER",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.DIGIT=3]="DIGIT",S[S.PUNCT=4]="PUNCT",S[S.BINARY=5]="BINARY"})(Ct||(Ct={}));class bt{decode(t){this.ddata=t;let i=t.getBits(),a=this.extractBits(i),l=this.correctBits(a),s=bt.convertBoolArrayToByteArray(l),u=bt.getEncodedData(l),c=new Hn(s,u,null,null);return c.setNumBits(l.length),c}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,a=Ct.UPPER,l=Ct.UPPER,s="",u=0;for(;u<i;)if(l===Ct.BINARY){if(i-u<5)break;let c=bt.readCode(t,u,5);if(u+=5,c===0){if(i-u<11)break;c=bt.readCode(t,u,11)+31,u+=11}for(let h=0;h<c;h++){if(i-u<8){u=i;break}const x=bt.readCode(t,u,8);s+=ve.castAsNonUtf8Char(x),u+=8}l=a}else{let c=l===Ct.DIGIT?4:5;if(i-u<c)break;let h=bt.readCode(t,u,c);u+=c;let x=bt.getCharacter(l,h);x.startsWith("CTRL_")?(a=l,l=bt.getTable(x.charAt(5)),x.charAt(6)==="L"&&(a=l)):(s+=x,l=a)}return s}static getTable(t){switch(t){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(t,i){switch(t){case Ct.UPPER:return bt.UPPER_TABLE[i];case Ct.LOWER:return bt.LOWER_TABLE[i];case Ct.MIXED:return bt.MIXED_TABLE[i];case Ct.PUNCT:return bt.PUNCT_TABLE[i];case Ct.DIGIT:return bt.DIGIT_TABLE[i];default:throw new ri("Bad table")}}correctBits(t){let i,a;this.ddata.getNbLayers()<=2?(a=6,i=at.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(a=8,i=at.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(a=10,i=at.AZTEC_DATA_10):(a=12,i=at.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/a;if(s<l)throw new se;let u=t.length%a,c=new Int32Array(s);for(let T=0;T<s;T++,u+=a)c[T]=bt.readCode(t,u,a);try{new Qa(i).decode(c,s-l)}catch(T){throw new se(T)}let h=(1<<a)-1,x=0;for(let T=0;T<l;T++){let O=c[T];if(O===0||O===h)throw new se;(O===1||O===h-1)&&x++}let y=new Array(l*a-x),v=0;for(let T=0;T<l;T++){let O=c[T];if(O===1||O===h-1)y.fill(O>1,v,v+a-1),v+=a-1;else for(let L=a-1;L>=0;--L)y[v++]=(O&1<<L)!==0}return y}extractBits(t){let i=this.ddata.isCompact(),a=this.ddata.getNbLayers(),l=(i?11:14)+a*4,s=new Int32Array(l),u=new Array(this.totalBitsInLayer(a,i));if(i)for(let c=0;c<s.length;c++)s[c]=c;else{let c=l+1+2*de.truncDivision(de.truncDivision(l,2)-1,15),h=l/2,x=de.truncDivision(c,2);for(let y=0;y<h;y++){let v=y+de.truncDivision(y,15);s[h-y-1]=x-v-1,s[h+y]=x+v+1}}for(let c=0,h=0;c<a;c++){let x=(a-c)*4+(i?9:12),y=c*2,v=l-1-y;for(let T=0;T<x;T++){let O=T*2;for(let L=0;L<2;L++)u[h+O+L]=t.get(s[y+L],s[y+T]),u[h+2*x+O+L]=t.get(s[y+T],s[v-L]),u[h+4*x+O+L]=t.get(s[v-L],s[v-T]),u[h+6*x+O+L]=t.get(s[v-T],s[y+L])}h+=x*8}return u}static readCode(t,i,a){let l=0;for(let s=i;s<i+a;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,i){let a=t.length-i;return a>=8?bt.readCode(t,i,8):bt.readCode(t,i,a)<<8-a}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let a=0;a<i.length;a++)i[a]=bt.readByte(t,8*a);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}bt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],bt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],bt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],bt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],bt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class nt{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,a,l){const s=t-a,u=i-l;return Math.sqrt(s*s+u*u)}static sum(t){let i=0;for(let a=0,l=t.length;a!==l;a++){const s=t[a];i+=s}return i}}class Ka{static floatToIntBits(t){return t}}Ka.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Te{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Te){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ka.floatToIntBits(this.x)+Ka.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),a=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,u,c;if(a>=i&&a>=l?(u=t[0],s=t[1],c=t[2]):l>=a&&l>=i?(u=t[1],s=t[0],c=t[2]):(u=t[2],s=t[0],c=t[1]),this.crossProductZ(s,u,c)<0){const h=s;s=c,c=h}t[0]=s,t[1]=u,t[2]=c}static distance(t,i){return nt.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,a){const l=i.x,s=i.y;return(a.x-l)*(t.y-s)-(a.y-s)*(t.x-l)}}class vr{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class El extends vr{constructor(t,i,a,l,s){super(t,i),this.compact=a,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class xi{constructor(t,i,a,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=xi.INIT_SIZE),a==null&&(a=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=i/2|0;if(this.leftInit=a-s,this.rightInit=a+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let t=this.leftInit,i=this.rightInit,a=this.upInit,l=this.downInit,s=!1,u=!0,c=!1,h=!1,x=!1,y=!1,v=!1;const T=this.width,O=this.height;for(;u;){u=!1;let L=!0;for(;(L||!h)&&i<T;)L=this.containsBlackPoint(a,l,i,!1),L?(i++,u=!0,h=!0):h||i++;if(i>=T){s=!0;break}let F=!0;for(;(F||!x)&&l<O;)F=this.containsBlackPoint(t,i,l,!0),F?(l++,u=!0,x=!0):x||l++;if(l>=O){s=!0;break}let V=!0;for(;(V||!y)&&t>=0;)V=this.containsBlackPoint(a,l,t,!1),V?(t--,u=!0,y=!0):y||t--;if(t<0){s=!0;break}let q=!0;for(;(q||!v)&&a>=0;)q=this.containsBlackPoint(t,i,a,!0),q?(a--,u=!0,v=!0):v||a--;if(a<0){s=!0;break}u&&(c=!0)}if(!s&&c){const L=i-t;let F=null;for(let ge=1;F===null&&ge<L;ge++)F=this.getBlackPointOnSegment(t,l-ge,t+ge,l);if(F==null)throw new J;let V=null;for(let ge=1;V===null&&ge<L;ge++)V=this.getBlackPointOnSegment(t,a+ge,t+ge,a);if(V==null)throw new J;let q=null;for(let ge=1;q===null&&ge<L;ge++)q=this.getBlackPointOnSegment(i,a+ge,i-ge,a);if(q==null)throw new J;let fe=null;for(let ge=1;fe===null&&ge<L;ge++)fe=this.getBlackPointOnSegment(i,l-ge,i-ge,l);if(fe==null)throw new J;return this.centerEdges(fe,F,q,V)}else throw new J}getBlackPointOnSegment(t,i,a,l){const s=nt.round(nt.distance(t,i,a,l)),u=(a-t)/s,c=(l-i)/s,h=this.image;for(let x=0;x<s;x++){const y=nt.round(t+x*u),v=nt.round(i+x*c);if(h.get(y,v))return new Te(y,v)}return null}centerEdges(t,i,a,l){const s=t.getX(),u=t.getY(),c=i.getX(),h=i.getY(),x=a.getX(),y=a.getY(),v=l.getX(),T=l.getY(),O=xi.CORR;return s<this.width/2?[new Te(v-O,T+O),new Te(c+O,h+O),new Te(x-O,y-O),new Te(s+O,u-O)]:[new Te(v+O,T+O),new Te(c+O,h-O),new Te(x-O,y+O),new Te(s-O,u-O)]}containsBlackPoint(t,i,a,l){const s=this.image;if(l){for(let u=t;u<=i;u++)if(s.get(u,a))return!0}else for(let u=t;u<=i;u++)if(s.get(a,u))return!0;return!1}}xi.INIT_SIZE=10,xi.CORR=1;class Al{static checkAndNudgePoints(t,i){const a=t.getWidth(),l=t.getHeight();let s=!0;for(let u=0;u<i.length&&s;u+=2){const c=Math.floor(i[u]),h=Math.floor(i[u+1]);if(c<-1||c>a||h<-1||h>l)throw new J;s=!1,c===-1?(i[u]=0,s=!0):c===a&&(i[u]=a-1,s=!0),h===-1?(i[u+1]=0,s=!0):h===l&&(i[u+1]=l-1,s=!0)}s=!0;for(let u=i.length-2;u>=0&&s;u-=2){const c=Math.floor(i[u]),h=Math.floor(i[u+1]);if(c<-1||c>a||h<-1||h>l)throw new J;s=!1,c===-1?(i[u]=0,s=!0):c===a&&(i[u]=a-1,s=!0),h===-1?(i[u+1]=0,s=!0):h===l&&(i[u+1]=l-1,s=!0)}}}class Cn{constructor(t,i,a,l,s,u,c,h,x){this.a11=t,this.a21=i,this.a31=a,this.a12=l,this.a22=s,this.a32=u,this.a13=c,this.a23=h,this.a33=x}static quadrilateralToQuadrilateral(t,i,a,l,s,u,c,h,x,y,v,T,O,L,F,V){const q=Cn.quadrilateralToSquare(t,i,a,l,s,u,c,h);return Cn.squareToQuadrilateral(x,y,v,T,O,L,F,V).times(q)}transformPoints(t){const i=t.length,a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,x=this.a31,y=this.a32,v=this.a33;for(let T=0;T<i;T+=2){const O=t[T],L=t[T+1],F=s*O+h*L+v;t[T]=(a*O+u*L+x)/F,t[T+1]=(l*O+c*L+y)/F}}transformPointsWithValues(t,i){const a=this.a11,l=this.a12,s=this.a13,u=this.a21,c=this.a22,h=this.a23,x=this.a31,y=this.a32,v=this.a33,T=t.length;for(let O=0;O<T;O++){const L=t[O],F=i[O],V=s*L+h*F+v;t[O]=(a*L+u*F+x)/V,i[O]=(l*L+c*F+y)/V}}static squareToQuadrilateral(t,i,a,l,s,u,c,h){const x=t-a+s-c,y=i-l+u-h;if(x===0&&y===0)return new Cn(a-t,s-a,t,l-i,u-l,i,0,0,1);{const v=a-s,T=c-s,O=l-u,L=h-u,F=v*L-T*O,V=(x*L-T*y)/F,q=(v*y-x*O)/F;return new Cn(a-t+V*a,c-t+q*c,t,l-i+V*l,h-i+q*h,i,V,q,1)}}static quadrilateralToSquare(t,i,a,l,s,u,c,h){return Cn.squareToQuadrilateral(t,i,a,l,s,u,c,h).buildAdjoint()}buildAdjoint(){return new Cn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Cn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Rn extends Al{sampleGrid(t,i,a,l,s,u,c,h,x,y,v,T,O,L,F,V,q,fe,ge){const ue=Cn.quadrilateralToQuadrilateral(l,s,u,c,h,x,y,v,T,O,L,F,V,q,fe,ge);return this.sampleGridWithTransform(t,i,a,ue)}sampleGridWithTransform(t,i,a,l){if(i<=0||a<=0)throw new J;const s=new pt(i,a),u=new Float32Array(2*i);for(let c=0;c<a;c++){const h=u.length,x=c+.5;for(let y=0;y<h;y+=2)u[y]=y/2+.5,u[y+1]=x;l.transformPoints(u),Al.checkAndNudgePoints(t,u);try{for(let y=0;y<h;y+=2)t.get(Math.floor(u[y]),Math.floor(u[y+1]))&&s.set(y/2,c)}catch{throw new J}}return s}}class bn{static setGridSampler(t){bn.gridSampler=t}static getInstance(){return bn.gridSampler}}bn.gridSampler=new Rn;class xt{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ps{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),a=this.getBullsEyeCorners(i);if(t){let u=a[0];a[0]=a[2],a[2]=u}this.extractParameters(a);let l=this.sampleGrid(this.image,a[this.shift%4],a[(this.shift+1)%4],a[(this.shift+2)%4],a[(this.shift+3)%4]),s=this.getMatrixCornerPoints(a);return new El(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new J;let i=2*this.nbCenterLayers,a=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(a,i);let l=0;for(let u=0;u<4;u++){let c=a[(this.shift+u)%4];this.compact?(l<<=7,l+=c>>1&127):(l<<=10,l+=(c>>2&992)+(c>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,i){let a=0;t.forEach((l,s,u)=>{let c=(l>>i-2<<1)+(l&1);a=(a<<3)+c}),a=((a&1)<<11)+(a>>1);for(let l=0;l<4;l++)if(de.bitCount(a^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new J}getCorrectedParameterData(t,i){let a,l;i?(a=7,l=2):(a=10,l=4);let s=a-l,u=new Int32Array(a);for(let h=a-1;h>=0;--h)u[h]=t&15,t>>=4;try{new Qa(at.AZTEC_PARAM).decode(u,s)}catch{throw new J}let c=0;for(let h=0;h<l;h++)c=(c<<4)+u[h];return c}getBullsEyeCorners(t){let i=t,a=t,l=t,s=t,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let v=this.getFirstDifferent(i,u,1,-1),T=this.getFirstDifferent(a,u,1,1),O=this.getFirstDifferent(l,u,-1,1),L=this.getFirstDifferent(s,u,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(L,v)*this.nbCenterLayers/(this.distancePoint(s,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(v,T,O,L))break}i=v,a=T,l=O,s=L,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let c=new Te(i.getX()+.5,i.getY()-.5),h=new Te(a.getX()+.5,a.getY()+.5),x=new Te(l.getX()-.5,l.getY()+.5),y=new Te(s.getX()-.5,s.getY()-.5);return this.expandSquare([c,h,x,y],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,a,l;try{let c=new xi(this.image).detect();t=c[0],i=c[1],a=c[2],l=c[3]}catch{let h=this.image.getWidth()/2,x=this.image.getHeight()/2;t=this.getFirstDifferent(new xt(h+7,x-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new xt(h+7,x+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new xt(h-7,x+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new xt(h-7,x-7),!1,-1,-1).toResultPoint()}let s=nt.round((t.getX()+l.getX()+i.getX()+a.getX())/4),u=nt.round((t.getY()+l.getY()+i.getY()+a.getY())/4);try{let c=new xi(this.image,15,s,u).detect();t=c[0],i=c[1],a=c[2],l=c[3]}catch{t=this.getFirstDifferent(new xt(s+7,u-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new xt(s+7,u+7),!1,1,1).toResultPoint(),a=this.getFirstDifferent(new xt(s-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new xt(s-7,u-7),!1,-1,-1).toResultPoint()}return s=nt.round((t.getX()+l.getX()+i.getX()+a.getX())/4),u=nt.round((t.getY()+l.getY()+i.getY()+a.getY())/4),new xt(s,u)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,a,l,s){let u=bn.getInstance(),c=this.getDimension(),h=c/2-this.nbCenterLayers,x=c/2+this.nbCenterLayers;return u.sampleGrid(t,c,c,h,h,x,h,x,x,h,x,i.getX(),i.getY(),a.getX(),a.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,i,a){let l=0,s=this.distanceResultPoint(t,i),u=s/a,c=t.getX(),h=t.getY(),x=u*(i.getX()-t.getX())/s,y=u*(i.getY()-t.getY())/s;for(let v=0;v<a;v++)this.image.get(nt.round(c+v*x),nt.round(h+v*y))&&(l|=1<<a-v-1);return l}isWhiteOrBlackRectangle(t,i,a,l){let s=3;t=new xt(t.getX()-s,t.getY()+s),i=new xt(i.getX()-s,i.getY()-s),a=new xt(a.getX()+s,a.getY()-s),l=new xt(l.getX()+s,l.getY()+s);let u=this.getColor(l,t);if(u===0)return!1;let c=this.getColor(t,i);return c!==u||(c=this.getColor(i,a),c!==u)?!1:(c=this.getColor(a,l),c===u)}getColor(t,i){let a=this.distancePoint(t,i),l=(i.getX()-t.getX())/a,s=(i.getY()-t.getY())/a,u=0,c=t.getX(),h=t.getY(),x=this.image.get(t.getX(),t.getY()),y=Math.ceil(a);for(let T=0;T<y;T++)c+=l,h+=s,this.image.get(nt.round(c),nt.round(h))!==x&&u++;let v=u/a;return v>.1&&v<.9?0:v<=.1===x?1:-1}getFirstDifferent(t,i,a,l){let s=t.getX()+a,u=t.getY()+l;for(;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=a,u+=l;for(s-=a,u-=l;this.isValid(s,u)&&this.image.get(s,u)===i;)s+=a;for(s-=a;this.isValid(s,u)&&this.image.get(s,u)===i;)u+=l;return u-=l,new xt(s,u)}expandSquare(t,i,a){let l=a/(2*i),s=t[0].getX()-t[2].getX(),u=t[0].getY()-t[2].getY(),c=(t[0].getX()+t[2].getX())/2,h=(t[0].getY()+t[2].getY())/2,x=new Te(c+l*s,h+l*u),y=new Te(c-l*s,h-l*u);s=t[1].getX()-t[3].getX(),u=t[1].getY()-t[3].getY(),c=(t[1].getX()+t[3].getX())/2,h=(t[1].getY()+t[3].getY())/2;let v=new Te(c+l*s,h+l*u),T=new Te(c-l*s,h-l*u);return[x,v,y,T]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=nt.round(t.getX()),a=nt.round(t.getY());return this.isValid(i,a)}distancePoint(t,i){return nt.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return nt.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(de.truncDivision(this.nbLayers-4,8)+1)+15}}class Tr{decode(t,i=null){let a=null,l=new ps(t.getBlackMatrix()),s=null,u=null;try{let y=l.detectMirror(!1);s=y.getPoints(),this.reportFoundResultPoints(i,s),u=new bt().decode(y)}catch(y){a=y}if(u==null)try{let y=l.detectMirror(!0);s=y.getPoints(),this.reportFoundResultPoints(i,s),u=new bt().decode(y)}catch(y){throw a??y}let c=new be(u.getText(),u.getRawBytes(),u.getNumBits(),s,he.AZTEC,Ae.currentTimeMillis()),h=u.getByteSegments();h!=null&&c.putMetadata(je.BYTE_SEGMENTS,h);let x=u.getECLevel();return x!=null&&c.putMetadata(je.ERROR_CORRECTION_LEVEL,x),c}reportFoundResultPoints(t,i){if(t!=null){let a=t.get(ke.NEED_RESULT_POINT_CALLBACK);a!=null&&i.forEach((l,s,u)=>{a.foundPossibleResultPoint(l)})}}reset(){}}class Xo extends Ee{constructor(t=500){super(new Tr,t)}}class Mt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(ke.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),u=this.doDecode(s,i),c=u.getResultMetadata();let h=270;c!==null&&c.get(je.ORIENTATION)===!0&&(h=h+c.get(je.ORIENTATION)%360),u.putMetadata(je.ORIENTATION,h);const x=u.getResultPoints();if(x!==null){const y=s.getHeight();for(let v=0;v<x.length;v++)x[v]=new Te(y-x[v].getY()-1,x[v].getX())}return u}else throw new J}}reset(){}doDecode(t,i){const a=t.getWidth(),l=t.getHeight();let s=new Oe(a);const u=i&&i.get(ke.TRY_HARDER)===!0,c=Math.max(1,l>>(u?8:5));let h;u?h=l:h=15;const x=Math.trunc(l/2);for(let y=0;y<h;y++){const v=Math.trunc((y+1)/2),T=(y&1)===0,O=x+c*(T?v:-v);if(O<0||O>=l)break;try{s=t.getBlackRow(O,s)}catch{continue}for(let L=0;L<2;L++){if(L===1&&(s.reverse(),i&&i.get(ke.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((V,q)=>F.set(q,V)),F.delete(ke.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(O,s,i);if(L===1){F.putMetadata(je.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new Te(a-V[0].getX()-1,V[0].getY()),V[1]=new Te(a-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new J}static recordPattern(t,i,a){const l=a.length;for(let x=0;x<l;x++)a[x]=0;const s=t.getSize();if(i>=s)throw new J;let u=!t.get(i),c=0,h=i;for(;h<s;){if(t.get(h)!==u)a[c]++;else{if(++c===l)break;a[c]=1,u=!u}h++}if(!(c===l||c===l-1&&h===s))throw new J}static recordPatternInReverse(t,i,a){let l=a.length,s=t.get(i);for(;i>0&&l>=0;)t.get(--i)!==s&&(l--,s=!s);if(l>=0)throw new J;Mt.recordPattern(t,i+1,a)}static patternMatchVariance(t,i,a){const l=t.length;let s=0,u=0;for(let x=0;x<l;x++)s+=t[x],u+=i[x];if(s<u)return Number.POSITIVE_INFINITY;const c=s/u;a*=c;let h=0;for(let x=0;x<l;x++){const y=t[x],v=i[x]*c,T=y>v?y-v:v-y;if(T>a)return Number.POSITIVE_INFINITY;h+=T}return h/s}}class ye extends Mt{static findStartPattern(t){const i=t.getSize(),a=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),u=a,c=!1;const h=6;for(let x=a;x<i;x++)if(t.get(x)!==c)s[l]++;else{if(l===h-1){let y=ye.MAX_AVG_VARIANCE,v=-1;for(let T=ye.CODE_START_A;T<=ye.CODE_START_C;T++){const O=Mt.patternMatchVariance(s,ye.CODE_PATTERNS[T],ye.MAX_INDIVIDUAL_VARIANCE);O<y&&(y=O,v=T)}if(v>=0&&t.isRange(Math.max(0,u-(x-u)/2),u,!1))return Int32Array.from([u,x,v]);u+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,c=!c}throw new J}static decodeCode(t,i,a){Mt.recordPattern(t,a,i);let l=ye.MAX_AVG_VARIANCE,s=-1;for(let u=0;u<ye.CODE_PATTERNS.length;u++){const c=ye.CODE_PATTERNS[u],h=this.patternMatchVariance(i,c,ye.MAX_INDIVIDUAL_VARIANCE);h<l&&(l=h,s=u)}if(s>=0)return s;throw new J}decodeRow(t,i,a){const l=a&&a.get(ke.ASSUME_GS1)===!0,s=ye.findStartPattern(i),u=s[2];let c=0;const h=new Uint8Array(20);h[c++]=u;let x;switch(u){case ye.CODE_START_A:x=ye.CODE_CODE_A;break;case ye.CODE_START_B:x=ye.CODE_CODE_B;break;case ye.CODE_START_C:x=ye.CODE_CODE_C;break;default:throw new se}let y=!1,v=!1,T="",O=s[0],L=s[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,q=0,fe=u,ge=0,ue=!0,Xe=!1,Ge=!1;for(;!y;){const Pi=v;switch(v=!1,V=q,q=ye.decodeCode(i,F,L),h[c++]=q,q!==ye.CODE_STOP&&(ue=!0),q!==ye.CODE_STOP&&(ge++,fe+=ge*q),O=L,L+=F.reduce((Kn,Is)=>Kn+Is,0),q){case ye.CODE_START_A:case ye.CODE_START_B:case ye.CODE_START_C:throw new se}switch(x){case ye.CODE_CODE_A:if(q<64)Ge===Xe?T+=String.fromCharCode(32+q):T+=String.fromCharCode(32+q+128),Ge=!1;else if(q<96)Ge===Xe?T+=String.fromCharCode(q-64):T+=String.fromCharCode(q+64),Ge=!1;else switch(q!==ye.CODE_STOP&&(ue=!1),q){case ye.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_A:!Xe&&Ge?(Xe=!0,Ge=!1):Xe&&Ge?(Xe=!1,Ge=!1):Ge=!0;break;case ye.CODE_SHIFT:v=!0,x=ye.CODE_CODE_B;break;case ye.CODE_CODE_B:x=ye.CODE_CODE_B;break;case ye.CODE_CODE_C:x=ye.CODE_CODE_C;break;case ye.CODE_STOP:y=!0;break}break;case ye.CODE_CODE_B:if(q<96)Ge===Xe?T+=String.fromCharCode(32+q):T+=String.fromCharCode(32+q+128),Ge=!1;else switch(q!==ye.CODE_STOP&&(ue=!1),q){case ye.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case ye.CODE_FNC_2:case ye.CODE_FNC_3:break;case ye.CODE_FNC_4_B:!Xe&&Ge?(Xe=!0,Ge=!1):Xe&&Ge?(Xe=!1,Ge=!1):Ge=!0;break;case ye.CODE_SHIFT:v=!0,x=ye.CODE_CODE_A;break;case ye.CODE_CODE_A:x=ye.CODE_CODE_A;break;case ye.CODE_CODE_C:x=ye.CODE_CODE_C;break;case ye.CODE_STOP:y=!0;break}break;case ye.CODE_CODE_C:if(q<100)q<10&&(T+="0"),T+=q;else switch(q!==ye.CODE_STOP&&(ue=!1),q){case ye.CODE_FNC_1:l&&(T.length===0?T+="]C1":T+="");break;case ye.CODE_CODE_A:x=ye.CODE_CODE_A;break;case ye.CODE_CODE_B:x=ye.CODE_CODE_B;break;case ye.CODE_STOP:y=!0;break}break}Pi&&(x=x===ye.CODE_CODE_A?ye.CODE_CODE_B:ye.CODE_CODE_A)}const Sn=L-O;if(L=i.getNextUnset(L),!i.isRange(L,Math.min(i.getSize(),L+(L-O)/2),!1))throw new J;if(fe-=ge*V,fe%103!==V)throw new ce;const Xn=T.length;if(Xn===0)throw new J;Xn>0&&ue&&(x===ye.CODE_CODE_C?T=T.substring(0,Xn-2):T=T.substring(0,Xn-1));const In=(s[1]+s[0])/2,At=O+Sn/2,hn=h.length,Mn=new Uint8Array(hn);for(let Pi=0;Pi<hn;Pi++)Mn[Pi]=h[Pi];const Ji=[new Te(In,t),new Te(At,t)];return new be(T,Mn,0,Ji,he.CODE_128,new Date().getTime())}}ye.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ye.MAX_AVG_VARIANCE=.25,ye.MAX_INDIVIDUAL_VARIANCE=.7,ye.CODE_SHIFT=98,ye.CODE_CODE_C=99,ye.CODE_CODE_B=100,ye.CODE_CODE_A=101,ye.CODE_FNC_1=102,ye.CODE_FNC_2=97,ye.CODE_FNC_3=96,ye.CODE_FNC_4_A=101,ye.CODE_FNC_4_B=100,ye.CODE_START_A=103,ye.CODE_START_B=104,ye.CODE_START_C=105,ye.CODE_STOP=106;class Rt extends Mt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,a){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Rt.findAsteriskPattern(i,l),u=i.getNextSet(s[1]),c=i.getSize(),h,x;do{Rt.recordPattern(i,u,l);let F=Rt.toNarrowWidePattern(l);if(F<0)throw new J;h=Rt.patternToChar(F),this.decodeRowResult+=h,x=u;for(let V of l)u+=V;u=i.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let y=0;for(let F of l)y+=F;let v=u-x-y;if(u!==c&&v*2<y)throw new J;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let q=0;q<F;q++)V+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(q));if(this.decodeRowResult.charAt(F)!==Rt.ALPHABET_STRING.charAt(V%43))throw new ce;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new J;let T;this.extendedMode?T=Rt.decodeExtended(this.decodeRowResult):T=this.decodeRowResult;let O=(s[1]+s[0])/2,L=x+y/2;return new be(T,null,0,[new Te(O,t),new Te(L,t)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let a=t.getSize(),l=t.getNextSet(0),s=0,u=l,c=!1,h=i.length;for(let x=l;x<a;x++)if(t.get(x)!==c)i[s]++;else{if(s===h-1){if(this.toNarrowWidePattern(i)===Rt.ASTERISK_ENCODING&&t.isRange(Math.max(0,u-Math.floor((x-u)/2)),u,!1))return[u,x];u+=i[0]+i[1],i.copyWithin(0,2,2+s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,c=!c}throw new J}static toNarrowWidePattern(t){let i=t.length,a=0,l;do{let s=2147483647;for(let h of t)h<s&&h>a&&(s=h);a=s,l=0;let u=0,c=0;for(let h=0;h<i;h++){let x=t[h];x>a&&(c|=1<<i-1-h,l++,u+=x)}if(l===3){for(let h=0;h<i&&l>0;h++){let x=t[h];if(x>a&&(l--,x*2>=u))return-1}return c}}while(l>3);return-1}static patternToChar(t){for(let i=0;i<Rt.CHARACTER_ENCODINGS.length;i++)if(Rt.CHARACTER_ENCODINGS[i]===t)return Rt.ALPHABET_STRING.charAt(i);if(t===Rt.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(t){let i=t.length,a="";for(let l=0;l<i;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let u=t.charAt(l+1),c="\0";switch(s){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new se;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new se;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new se;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new se;break}a+=c,l++}else a+=s}return a}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class ot extends Mt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,a){let l=this.decodeStart(i),s=this.decodeEnd(i),u=new Qe;ot.decodeMiddle(i,l[1],s[0],u);let c=u.toString(),h=null;a!=null&&(h=a.get(ke.ALLOWED_LENGTHS)),h==null&&(h=ot.DEFAULT_ALLOWED_LENGTHS);let x=c.length,y=!1,v=0;for(let L of h){if(x===L){y=!0;break}L>v&&(v=L)}if(!y&&x>v&&(y=!0),!y)throw new se;const T=[new Te(l[1],t),new Te(s[0],t)];return new be(c,null,0,T,he.ITF,new Date().getTime())}static decodeMiddle(t,i,a,l){let s=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(s.fill(0),u.fill(0),c.fill(0);i<a;){Mt.recordPattern(t,i,s);for(let x=0;x<5;x++){let y=2*x;u[x]=s[y],c[x]=s[y+1]}let h=ot.decodeDigit(u);l.append(h.toString()),h=this.decodeDigit(c),l.append(h.toString()),s.forEach(function(x){i+=x})}}decodeStart(t){let i=ot.skipWhiteSpace(t),a=ot.findGuardPattern(t,i,ot.START_PATTERN);return this.narrowLineWidth=(a[1]-a[0])/4,this.validateQuietZone(t,a[0]),a}validateQuietZone(t,i){let a=this.narrowLineWidth*10;a=a<i?a:i;for(let l=i-1;a>0&&l>=0&&!t.get(l);l--)a--;if(a!==0)throw new J}static skipWhiteSpace(t){const i=t.getSize(),a=t.getNextSet(0);if(a===i)throw new J;return a}decodeEnd(t){t.reverse();try{let i=ot.skipWhiteSpace(t),a;try{a=ot.findGuardPattern(t,i,ot.END_PATTERN_REVERSED[0])}catch(s){s instanceof J&&(a=ot.findGuardPattern(t,i,ot.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,a[0]);let l=a[0];return a[0]=t.getSize()-a[1],a[1]=t.getSize()-l,a}finally{t.reverse()}}static findGuardPattern(t,i,a){let l=a.length,s=new Int32Array(l),u=t.getSize(),c=!1,h=0,x=i;s.fill(0);for(let y=i;y<u;y++)if(t.get(y)!==c)s[h]++;else{if(h===l-1){if(Mt.patternMatchVariance(s,a,ot.MAX_INDIVIDUAL_VARIANCE)<ot.MAX_AVG_VARIANCE)return[x,y];x+=s[0]+s[1],Ae.arraycopy(s,2,s,0,h-1),s[h-1]=0,s[h]=0,h--}else h++;s[h]=1,c=!c}throw new J}static decodeDigit(t){let i=ot.MAX_AVG_VARIANCE,a=-1,l=ot.PATTERNS.length;for(let s=0;s<l;s++){let u=ot.PATTERNS[s],c=Mt.patternMatchVariance(t,u,ot.MAX_INDIVIDUAL_VARIANCE);c<i?(i=c,a=s):c===i&&(a=-1)}if(a>=0)return a%10;throw new J}}ot.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ot.MAX_AVG_VARIANCE=.38,ot.MAX_INDIVIDUAL_VARIANCE=.5,ot.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ot.START_PATTERN=Int32Array.from([1,1,1,1]),ot.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class St extends Mt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,a,l=0,s=Int32Array.from([0,0,0]);for(;!i;){s=Int32Array.from([0,0,0]),a=St.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let u=a[0];l=a[1];let c=u-(l-u);c>=0&&(i=t.isRange(c,u,!1))}return a}static checkChecksum(t){return St.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return St.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new se;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new se;a+=s}return(1e3-a)%10}static decodeEnd(t,i){return St.findGuardPattern(t,i,!1,St.START_END_PATTERN,new Int32Array(St.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,a,l){return this.findGuardPattern(t,i,a,l,new Int32Array(l.length))}static findGuardPattern(t,i,a,l,s){let u=t.getSize();i=a?t.getNextUnset(i):t.getNextSet(i);let c=0,h=i,x=l.length,y=a;for(let v=i;v<u;v++)if(t.get(v)!==y)s[c]++;else{if(c===x-1){if(Mt.patternMatchVariance(s,l,St.MAX_INDIVIDUAL_VARIANCE)<St.MAX_AVG_VARIANCE)return Int32Array.from([h,v]);h+=s[0]+s[1];let T=s.slice(2,s.length-1);for(let O=0;O<c-1;O++)s[O]=T[O];s[c-1]=0,s[c]=0,c--}else c++;s[c]=1,y=!y}throw new J}static decodeDigit(t,i,a,l){this.recordPattern(t,a,i);let s=this.MAX_AVG_VARIANCE,u=-1,c=l.length;for(let h=0;h<c;h++){let x=l[h],y=Mt.patternMatchVariance(i,x,St.MAX_INDIVIDUAL_VARIANCE);y<s&&(s=y,u=h)}if(u>=0)return u;throw new J}}St.MAX_AVG_VARIANCE=.48,St.MAX_INDIVIDUAL_VARIANCE=.7,St.START_END_PATTERN=Int32Array.from([1,1,1]),St.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),St.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),St.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ja{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),u=l.toString(),c=Ja.parseExtensionString(u),h=[new Te((a[0]+a[1])/2,t),new Te(s,t)],x=new be(u,null,0,h,he.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&x.putAllMetadata(c),x}decodeMiddle(t,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let x=0;x<5&&u<s;x++){let y=St.decodeDigit(t,l,u,St.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let v of l)u+=v;y>=10&&(c|=1<<4-x),x!==4&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==5)throw new J;let h=this.determineCheckDigit(c);if(Ja.extensionChecksum(a.toString())!==h)throw new J;return u}static extensionChecksum(t){let i=t.length,a=0;for(let l=i-2;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;a*=3;for(let l=i-1;l>=0;l-=2)a+=t.charAt(l).charCodeAt(0)-48;return a*=3,a%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new J}static parseExtensionString(t){if(t.length!==5)return null;let i=Ja.parseExtension5String(t);return i==null?null:new Map([[je.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let a=parseInt(t.substring(1)),l=(a/100).toString(),s=a%100,u=s<10?"0"+s:s.toString();return i+l+"."+u}}class Nr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,a){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,a,l),u=l.toString(),c=Nr.parseExtensionString(u),h=[new Te((a[0]+a[1])/2,t),new Te(s,t)],x=new be(u,null,0,h,he.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&x.putAllMetadata(c),x}decodeMiddle(t,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let h=0;h<2&&u<s;h++){let x=St.decodeDigit(t,l,u,St.L_AND_G_PATTERNS);a+=String.fromCharCode(48+x%10);for(let y of l)u+=y;x>=10&&(c|=1<<1-h),h!==1&&(u=t.getNextSet(u),u=t.getNextUnset(u))}if(a.length!==2)throw new J;if(parseInt(a.toString())%4!==c)throw new J;return u}static parseExtensionString(t){return t.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(t)]])}}class yl{static decodeRow(t,i,a){let l=St.findGuardPattern(i,a,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ja().decodeRow(t,i,l)}catch{return new Nr().decodeRow(t,i,l)}}}yl.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class rt extends St{constructor(){super(),this.decodeRowStringBuffer="",rt.L_AND_G_PATTERNS=rt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=rt.L_PATTERNS[t-10],a=new Int32Array(i.length);for(let l=0;l<i.length;l++)a[l]=i[i.length-l-1];rt.L_AND_G_PATTERNS[t]=a}}decodeRow(t,i,a){let l=rt.findStartGuardPattern(i),s=a==null?null:a.get(ke.NEED_RESULT_POINT_CALLBACK);if(s!=null){const ue=new Te((l[0]+l[1])/2,t);s.foundPossibleResultPoint(ue)}let u=this.decodeMiddle(i,l,this.decodeRowStringBuffer),c=u.rowOffset,h=u.resultString;if(s!=null){const ue=new Te(c,t);s.foundPossibleResultPoint(ue)}let x=this.decodeEnd(i,c);if(s!=null){const ue=new Te((x[0]+x[1])/2,t);s.foundPossibleResultPoint(ue)}let y=x[1],v=y+(y-x[0]);if(v>=i.getSize()||!i.isRange(y,v,!1))throw new J;let T=h.toString();if(T.length<8)throw new se;if(!rt.checkChecksum(T))throw new ce;let O=(l[1]+l[0])/2,L=(x[1]+x[0])/2,F=this.getBarcodeFormat(),V=[new Te(O,t),new Te(L,t)],q=new be(T,null,0,V,F,new Date().getTime()),fe=0;try{let ue=yl.decodeRow(t,i,x[1]);q.putMetadata(je.UPC_EAN_EXTENSION,ue.getText()),q.putAllMetadata(ue.getResultMetadata()),q.addResultPoints(ue.getResultPoints()),fe=ue.getText().length}catch{}let ge=a==null?null:a.get(ke.ALLOWED_EAN_EXTENSIONS);if(ge!=null){let ue=!1;for(let Xe in ge)if(fe.toString()===Xe){ue=!0;break}if(!ue)throw new J}return q}decodeEnd(t,i){return rt.findGuardPattern(t,i,!1,rt.START_END_PATTERN,new Int32Array(rt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return rt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let a=parseInt(t.charAt(i-1),10);return rt.getStandardUPCEANChecksum(t.substring(0,i-1))===a}static getStandardUPCEANChecksum(t){let i=t.length,a=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new se;a+=s}a*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new se;a+=s}return(1e3-a)%10}}class qn extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1],c=0;for(let x=0;x<6&&u<s;x++){let y=rt.decodeDigit(t,l,u,rt.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let v of l)u+=v;y>=10&&(c|=1<<5-x)}a=qn.determineFirstDigit(a,c),u=rt.findGuardPattern(t,u,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<6&&u<s;x++){let y=rt.decodeDigit(t,l,u,rt.L_PATTERNS);a+=String.fromCharCode(48+y);for(let v of l)u+=v}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(t,i){for(let a=0;a<10;a++)if(i===this.FIRST_DIGIT_ENCODINGS[a])return t=String.fromCharCode(48+a)+t,t;throw new J}}qn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Cs extends rt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,a){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u=i[1];for(let h=0;h<4&&u<s;h++){let x=rt.decodeDigit(t,l,u,rt.L_PATTERNS);a+=String.fromCharCode(48+x);for(let y of l)u+=y}u=rt.findGuardPattern(t,u,!0,rt.MIDDLE_PATTERN,new Int32Array(rt.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<s;h++){let x=rt.decodeDigit(t,l,u,rt.L_PATTERNS);a+=String.fromCharCode(48+x);for(let y of l)u+=y}return{rowOffset:u,resultString:a}}getBarcodeFormat(){return he.EAN_8}}class wl extends rt{constructor(){super(...arguments),this.ean13Reader=new qn}getBarcodeFormat(){return he.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,a){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,a))}decodeMiddle(t,i,a){return this.ean13Reader.decodeMiddle(t,i,a)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let a=new be(i.substring(1),null,null,t.getResultPoints(),he.UPC_A);return t.getResultMetadata()!=null&&a.putAllMetadata(t.getResultMetadata()),a}else throw new J}reset(){this.ean13Reader.reset()}}class zn extends rt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,a){const l=this.decodeMiddleCounters.map(x=>x);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let u=i[1],c=0;for(let x=0;x<6&&u<s;x++){const y=zn.decodeDigit(t,l,u,zn.L_AND_G_PATTERNS);a+=String.fromCharCode(48+y%10);for(let v of l)u+=v;y>=10&&(c|=1<<5-x)}let h=zn.determineNumSysAndCheckDigit(a,c);return{rowOffset:u,resultString:h}}decodeEnd(t,i){return zn.findGuardPatternWithoutCounters(t,i,!0,zn.MIDDLE_END_PATTERN)}checkChecksum(t){return rt.checkChecksum(zn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let a=0;a<=1;a++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[a][l]){let s=String.fromCharCode(48+a),u=String.fromCharCode(48+l);return s+t+u}throw J.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),a=new Qe;a.append(t.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:a.appendChars(i,0,2),a.append(l),a.append("0000"),a.appendChars(i,2,3);break;case 3:a.appendChars(i,0,3),a.append("00000"),a.appendChars(i,3,2);break;case 4:a.appendChars(i,0,4),a.append("00000"),a.append(i[4]);break;default:a.appendChars(i,0,5),a.append("0000"),a.append(l);break}return t.length>=8&&a.append(t.charAt(7)),a.toString()}}zn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),zn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $a extends Mt{constructor(t){super();let i=t==null?null:t.get(ke.POSSIBLE_FORMATS),a=[];A(i)?(a.push(new qn),a.push(new wl),a.push(new Cs),a.push(new zn)):(i.indexOf(he.EAN_13)>-1&&a.push(new qn),i.indexOf(he.UPC_A)>-1&&a.push(new wl),i.indexOf(he.EAN_8)>-1&&a.push(new Cs),i.indexOf(he.UPC_E)>-1&&a.push(new zn)),this.readers=a}decodeRow(t,i,a){for(let l of this.readers)try{const s=l.decodeRow(t,i,a),u=s.getBarcodeFormat()===he.EAN_13&&s.getText().charAt(0)==="0",c=a==null?null:a.get(ke.POSSIBLE_FORMATS),h=c==null||c.includes(he.UPC_A);if(u&&h){const x=s.getRawBytes(),y=new be(s.getText().substring(1),x,x?x.length:null,s.getResultPoints(),he.UPC_A);return y.putAllMetadata(s.getResultMetadata()),y}return s}catch{}throw new J}reset(){for(let t of this.readers)t.reset()}}class tn extends Mt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let a=0;a<i.length;a++)if(Mt.patternMatchVariance(t,i[a],tn.MAX_INDIVIDUAL_VARIANCE)<tn.MAX_AVG_VARIANCE)return a;throw new J}static count(t){return nt.sum(new Int32Array(t))}static increment(t,i){let a=0,l=i[0];for(let s=1;s<t.length;s++)i[s]>l&&(l=i[s],a=s);t[a]++}static decrement(t,i){let a=0,l=i[0];for(let s=1;s<t.length;s++)i[s]<l&&(l=i[s],a=s);t[a]--}static isFinderPattern(t){let i=t[0]+t[1],a=i+t[2]+t[3],l=i/a;if(l>=tn.MIN_FINDER_PATTERN_RATIO&&l<=tn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let c of t)c>u&&(u=c),c<s&&(s=c);return u<10*s}return!1}}tn.MAX_AVG_VARIANCE=.2,tn.MAX_INDIVIDUAL_VARIANCE=.45,tn.MIN_FINDER_PATTERN_RATIO=9.5/12,tn.MAX_FINDER_PATTERN_RATIO=12.5/14;class Yi{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof Yi))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Rr{constructor(t,i,a,l,s){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Te(a,s)),this.resultPoints.push(new Te(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Rr))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class sn{constructor(){}static getRSSvalue(t,i,a){let l=0;for(let h of t)l+=h;let s=0,u=0,c=t.length;for(let h=0;h<c-1;h++){let x;for(x=1,u|=1<<h;x<t[h];x++,u&=~(1<<h)){let y=sn.combins(l-x-1,c-h-2);if(a&&u===0&&l-x-(c-h-1)>=c-h-1&&(y-=sn.combins(l-x-(c-h),c-h-2)),c-h-1>1){let v=0;for(let T=l-x-(c-h-2);T>i;T--)v+=sn.combins(l-x-T-1,c-h-3);y-=v*(c-1-h)}else l-x>i&&y--;s+=y}l-=x}return s}static combins(t,i){let a,l;t-i>i?(l=i,a=t-i):(l=t-i,a=i);let s=1,u=1;for(let c=t;c>a;c--)s*=c,u<=l&&(s/=u,u++);for(;u<=l;)s/=u,u++;return s}}class xn{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let a=12*i,l=new Oe(a),s=0,c=t[0].getRightChar().getValue();for(let h=11;h>=0;--h)(c&1<<h)!=0&&l.set(s),s++;for(let h=1;h<t.length;++h){let x=t[h],y=x.getLeftChar().getValue();for(let v=11;v>=0;--v)(y&1<<v)!=0&&l.set(s),s++;if(x.getRightChar()!=null){let v=x.getRightChar().getValue();for(let T=11;T>=0;--T)(v&1<<T)!=0&&l.set(s),s++}}return l}}class Vt{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ni{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class mn extends Ni{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===mn.FNC1}}mn.FNC1="$";class Zi extends Ni{constructor(t,i,a){super(t),a?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Gn extends Ni{constructor(t,i,a){if(super(t),i<0||i>10||a<0||a>10)throw new se;this.firstDigit=i,this.secondDigit=a}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Gn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Gn.FNC1}isAnyFNC1(){return this.firstDigit===Gn.FNC1||this.secondDigit===Gn.FNC1}}Gn.FNC1=10;class Ce{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new J;let i=t.substring(0,2);for(let s of Ce.TWO_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(2,s[2],t):Ce.processFixedAI(2,s[1],t);if(t.length<3)throw new J;let a=t.substring(0,3);for(let s of Ce.THREE_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(3,s[2],t):Ce.processFixedAI(3,s[1],t);for(let s of Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===a)return s[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,s[2],t):Ce.processFixedAI(4,s[1],t);if(t.length<4)throw new J;let l=t.substring(0,4);for(let s of Ce.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===Ce.VARIABLE_LENGTH?Ce.processVariableAI(4,s[2],t):Ce.processFixedAI(4,s[1],t);throw new J}static processFixedAI(t,i,a){if(a.length<t)throw new J;let l=a.substring(0,t);if(a.length<t+i)throw new J;let s=a.substring(t,t+i),u=a.substring(t+i),c="("+l+")"+s,h=Ce.parseFieldsInGeneralPurpose(u);return h==null?c:c+h}static processVariableAI(t,i,a){let l=a.substring(0,t),s;a.length<t+i?s=a.length:s=t+i;let u=a.substring(t,s),c=a.substring(s),h="("+l+")"+u,x=Ce.parseFieldsInGeneralPurpose(c);return x==null?h:h+x}}Ce.VARIABLE_LENGTH=[],Ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Ce.VARIABLE_LENGTH,20],["22",Ce.VARIABLE_LENGTH,29],["30",Ce.VARIABLE_LENGTH,8],["37",Ce.VARIABLE_LENGTH,8],["90",Ce.VARIABLE_LENGTH,30],["91",Ce.VARIABLE_LENGTH,30],["92",Ce.VARIABLE_LENGTH,30],["93",Ce.VARIABLE_LENGTH,30],["94",Ce.VARIABLE_LENGTH,30],["95",Ce.VARIABLE_LENGTH,30],["96",Ce.VARIABLE_LENGTH,30],["97",Ce.VARIABLE_LENGTH,3],["98",Ce.VARIABLE_LENGTH,30],["99",Ce.VARIABLE_LENGTH,30]],Ce.THREE_DIGIT_DATA_LENGTH=[["240",Ce.VARIABLE_LENGTH,30],["241",Ce.VARIABLE_LENGTH,30],["242",Ce.VARIABLE_LENGTH,6],["250",Ce.VARIABLE_LENGTH,30],["251",Ce.VARIABLE_LENGTH,30],["253",Ce.VARIABLE_LENGTH,17],["254",Ce.VARIABLE_LENGTH,20],["400",Ce.VARIABLE_LENGTH,30],["401",Ce.VARIABLE_LENGTH,30],["402",17],["403",Ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Ce.VARIABLE_LENGTH,20],["421",Ce.VARIABLE_LENGTH,15],["422",3],["423",Ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Ce.VARIABLE_LENGTH,15],["391",Ce.VARIABLE_LENGTH,18],["392",Ce.VARIABLE_LENGTH,15],["393",Ce.VARIABLE_LENGTH,18],["703",Ce.VARIABLE_LENGTH,30]],Ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Ce.VARIABLE_LENGTH,20],["8003",Ce.VARIABLE_LENGTH,30],["8004",Ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Ce.VARIABLE_LENGTH,30],["8008",Ce.VARIABLE_LENGTH,12],["8018",18],["8020",Ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Ce.VARIABLE_LENGTH,70],["8200",Ce.VARIABLE_LENGTH,70]];class li{constructor(t){this.buffer=new Qe,this.information=t}decodeAllCodes(t,i){let a=i,l=null;do{let s=this.decodeGeneralPurposeField(a,l),u=Ce.parseFieldsInGeneralPurpose(s.getNewString());if(u!=null&&t.append(u),s.isRemaining()?l=""+s.getRemainingValue():l=null,a===s.getNewPosition())break;a=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new Gn(this.information.getSize(),Gn.FNC1,Gn.FNC1):new Gn(this.information.getSize(),s-1,Gn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),a=(i-8)/11,l=(i-8)%11;return new Gn(t+7,a,l)}extractNumericValueFromBitArray(t,i){return li.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,a){let l=0;for(let s=0;s<a;++s)t.get(i+s)&&(l|=1<<a-s-1);return l}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let a=this.parseBlocks();return a!=null&&a.isRemaining()?new Zi(this.current.getPosition(),this.buffer.toString(),a.getRemainingValue()):new Zi(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let a=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(a!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new Zi(this.current.getPosition(),this.buffer.toString()):i=new Zi(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Vt(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new Zi(this.current.getPosition(),this.buffer.toString());return new Vt(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Vt(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Zi(this.current.getPosition(),this.buffer.toString());return new Vt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Vt(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new Zi(this.current.getPosition(),this.buffer.toString());return new Vt(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Vt(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new mn(t+5,mn.FNC1);if(i>=5&&i<15)return new mn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,7);if(a>=64&&a<90)return new mn(t+7,""+(a+1));if(a>=90&&a<116)return new mn(t+7,""+(a+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new se}return new mn(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(t,6);return a>=16&&a<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new mn(t+5,mn.FNC1);if(i>=5&&i<15)return new mn(t+5,"0"+(i-5));let a=this.extractNumericValueFromBitArray(t,6);if(a>=32&&a<58)return new mn(t+6,""+(a+33));let l;switch(a){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new ri("Decoding invalid alphanumeric value: "+a)}return new mn(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class er{constructor(t){this.information=t,this.generalDecoder=new li(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Wt extends er{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let a=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,a)}encodeCompressedGtinWithoutAI(t,i,a){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Wt.appendCheckDigit(t,a)}static appendCheckDigit(t,i){let a=0;for(let l=0;l<13;l++){let s=t.charAt(l+i).charCodeAt(0)-48;a+=(l&1)===0?3*s:s}a=10-a%10,a===10&&(a=0),t.append(a)}}Wt.GTIN_SIZE=40;class Wn extends Wt{constructor(t){super(t)}parseInformation(){let t=new Qe;t.append("(01)");let i=t.length(),a=this.getGeneralDecoder().extractNumericValueFromBitArray(Wn.HEADER_SIZE,4);return t.append(a),this.encodeCompressedGtinWithoutAI(t,Wn.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,Wn.HEADER_SIZE+44)}}Wn.HEADER_SIZE=4;class Ri extends er{constructor(t){super(t)}parseInformation(){let t=new Qe;return this.getGeneralDecoder().decodeAllCodes(t,Ri.HEADER_SIZE)}}Ri.HEADER_SIZE=5;class mi extends Wt{constructor(t){super(t)}encodeCompressedWeight(t,i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,a);this.addWeightCode(t,l);let s=this.checkWeight(l),u=1e5;for(let c=0;c<5;++c)s/u===0&&t.append("0"),u/=10;t.append(s)}}class mt extends mi{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=mt.HEADER_SIZE+mi.GTIN_SIZE+mt.WEIGHT_SIZE)throw new J;let t=new Qe;return this.encodeCompressedGtin(t,mt.HEADER_SIZE),this.encodeCompressedWeight(t,mt.HEADER_SIZE+mi.GTIN_SIZE,mt.WEIGHT_SIZE),t.toString()}}mt.HEADER_SIZE=5,mt.WEIGHT_SIZE=15;class bs extends mt{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Ss extends mt{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class En extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<En.HEADER_SIZE+Wt.GTIN_SIZE)throw new J;let t=new Qe;this.encodeCompressedGtin(t,En.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(En.HEADER_SIZE+Wt.GTIN_SIZE,En.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let a=this.getGeneralDecoder().decodeGeneralPurposeField(En.HEADER_SIZE+Wt.GTIN_SIZE+En.LAST_DIGIT_SIZE,null);return t.append(a.getNewString()),t.toString()}}En.HEADER_SIZE=8,En.LAST_DIGIT_SIZE=2;class Xt extends Wt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Xt.HEADER_SIZE+Wt.GTIN_SIZE)throw new J;let t=new Qe;this.encodeCompressedGtin(t,Xt.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Wt.GTIN_SIZE,Xt.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Xt.HEADER_SIZE+Wt.GTIN_SIZE+Xt.LAST_DIGIT_SIZE,Xt.FIRST_THREE_DIGITS_SIZE);a/100==0&&t.append("0"),a/10==0&&t.append("0"),t.append(a);let l=this.getGeneralDecoder().decodeGeneralPurposeField(Xt.HEADER_SIZE+Wt.GTIN_SIZE+Xt.LAST_DIGIT_SIZE+Xt.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}Xt.HEADER_SIZE=8,Xt.LAST_DIGIT_SIZE=2,Xt.FIRST_THREE_DIGITS_SIZE=10;class Dt extends mi{constructor(t,i,a){super(t),this.dateCode=a,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE+Dt.DATE_SIZE)throw new J;let t=new Qe;return this.encodeCompressedGtin(t,Dt.HEADER_SIZE),this.encodeCompressedWeight(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE,Dt.WEIGHT_SIZE),this.encodeCompressedDate(t,Dt.HEADER_SIZE+Dt.GTIN_SIZE+Dt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Dt.DATE_SIZE);if(a==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=a%32;a/=32;let s=a%12+1;a/=12;let u=a;u/10==0&&t.append("0"),t.append(u),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Dt.HEADER_SIZE=8,Dt.WEIGHT_SIZE=20,Dt.DATE_SIZE=16;function pl(S){try{if(S.get(1))return new Wn(S);if(!S.get(2))return new Ri(S);switch(li.extractNumericValueFromBitArray(S,1,4)){case 4:return new bs(S);case 5:return new Ss(S)}switch(li.extractNumericValueFromBitArray(S,1,5)){case 12:return new En(S);case 13:return new Xt(S)}switch(li.extractNumericValueFromBitArray(S,1,7)){case 56:return new Dt(S,"310","11");case 57:return new Dt(S,"320","11");case 58:return new Dt(S,"310","13");case 59:return new Dt(S,"320","13");case 60:return new Dt(S,"310","15");case 61:return new Dt(S,"320","15");case 62:return new Dt(S,"310","17");case 63:return new Dt(S,"320","17")}}catch(t){throw console.log(t),new ri("unknown decoder: "+S)}}class Ei{constructor(t,i,a,l){this.leftchar=t,this.rightchar=i,this.finderpattern=a,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Ei?Ei.equalsOrNull(t.leftchar,i.leftchar)&&Ei.equalsOrNull(t.rightchar,i.rightchar)&&Ei.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Ei.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Cl{constructor(t,i,a){this.pairs=t,this.rowNumber=i,this.wasReversed=a}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof Cl?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let a;return t.forEach((l,s)=>{i.forEach(u=>{l.getLeftChar().getValue()===u.getLeftChar().getValue()&&l.getRightChar().getValue()===u.getRightChar().getValue()&&l.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(a=!0)})}),a}}class ae extends tn{constructor(t){super(...arguments),this.pairs=new Array(ae.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,a){this.pairs.length=0,this.startFromEven=!1;try{return ae.constructResult(this.decodeRow2pairs(t,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,ae.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let a=!1;for(;!a;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(s){if(s instanceof J){if(!this.pairs.length)throw new J;a=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new J}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(a){this.verbose&&console.log(a)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let a=i;a<this.rows.length;a++){let l=this.rows[a];this.pairs.length=0;for(let u of t)this.pairs.push(u.getPairs());if(this.pairs.push(l.getPairs()),!ae.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,a+1)}catch(u){this.verbose&&console.log(u)}}throw new J}static isValidSequence(t){for(let i of ae.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let a=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=i[l]){a=!1;break}if(a)return!0}return!1}storeRow(t,i){let a=0,l=!1,s=!1;for(;a<this.rows.length;){let u=this.rows[a];if(u.getRowNumber()>t){s=u.isEquivalent(this.pairs);break}l=u.isEquivalent(this.pairs),a++}s||l||ae.isPartialRow(this.pairs,this.rows)||(this.rows.push(a,new Cl(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let a of i)if(a.getPairs().length!==t.length){for(let l of a.getPairs())for(let s of t)if(Ei.equals(l,s))break}}static isPartialRow(t,i){for(let a of i){let l=!0;for(let s of t){let u=!1;for(let c of a.getPairs())if(s.equals(c)){u=!0;break}if(!u){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=xn.buildBitArray(t),l=pl(i).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),u=t[t.length-1].getFinderPattern().getResultPoints(),c=[s[0],s[1],u[0],u[1]];return new be(l,null,null,c,he.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),a=t.getRightChar();if(a==null)return!1;let l=a.getChecksumPortion(),s=2;for(let c=1;c<this.pairs.size();++c){let h=this.pairs.get(c);l+=h.getLeftChar().getChecksumPortion(),s++;let x=h.getRightChar();x!=null&&(l+=x.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==i.getValue()}static getNextSecondBar(t,i){let a;return t.get(i)?(a=t.getNextUnset(i),a=t.getNextSet(a)):(a=t.getNextSet(i),a=t.getNextUnset(a)),a}retrieveNextPair(t,i,a){let l=i.length%2==0;this.startFromEven&&(l=!l);let s,u=!0,c=-1;do this.findNextPair(t,i,c),s=this.parseFoundFinderPattern(t,a,l),s==null?c=ae.getNextSecondBar(t,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new J;let x;try{x=this.decodeDataCharacter(t,s,l,!1)}catch(y){x=null,this.verbose&&console.log(y)}return new Ei(h,x,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),u;a>=0?u=a:this.isEmptyPair(i)?u=0:u=i[i.length-1].getFinderPattern().getStartEnd()[1];let c=i.length%2!=0;this.startFromEven&&(c=!c);let h=!1;for(;u<s&&(h=!t.get(u),!!h);)u++;let x=0,y=u;for(let v=u;v<s;v++)if(t.get(v)!=h)l[x]++;else{if(x==3){if(c&&ae.reverseCounters(l),ae.isFinderPattern(l)){this.startEnd[0]=y,this.startEnd[1]=v;return}c&&ae.reverseCounters(l),y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,x--}else x++;l[x]=1,h=!h}throw new J}static reverseCounters(t){let i=t.length;for(let a=0;a<i/2;++a){let l=t[a];t[a]=t[i-a-1],t[i-a-1]=l}}parseFoundFinderPattern(t,i,a){let l,s,u;if(a){let x=this.startEnd[0]-1;for(;x>=0&&!t.get(x);)x--;x++,l=this.startEnd[0]-x,s=x,u=this.startEnd[1]}else s=this.startEnd[0],u=t.getNextUnset(this.startEnd[1]+1),l=u-this.startEnd[1];let c=this.getDecodeFinderCounters();Ae.arraycopy(c,0,c,1,c.length-1),c[0]=l;let h;try{h=this.parseFinderValue(c,ae.FINDER_PATTERNS)}catch{return null}return new Rr(h,[s,u],s,u,i)}decodeDataCharacter(t,i,a,l){let s=this.getDataCharacterCounters();for(let At=0;At<s.length;At++)s[At]=0;if(l)ae.recordPatternInReverse(t,i.getStartEnd()[0],s);else{ae.recordPattern(t,i.getStartEnd()[1],s);for(let At=0,hn=s.length-1;At<hn;At++,hn--){let Mn=s[At];s[At]=s[hn],s[hn]=Mn}}let u=17,c=nt.sum(new Int32Array(s))/u,h=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(c-h)/h>.3)throw new J;let x=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),T=this.getEvenRoundingErrors();for(let At=0;At<s.length;At++){let hn=1*s[At]/c,Mn=hn+.5;if(Mn<1){if(hn<.3)throw new J;Mn=1}else if(Mn>8){if(hn>8.7)throw new J;Mn=8}let Ji=At/2;(At&1)==0?(x[Ji]=Mn,v[Ji]=hn-Mn):(y[Ji]=Mn,T[Ji]=hn-Mn)}this.adjustOddEvenCounts(u);let O=4*i.getValue()+(a?0:2)+(l?0:1)-1,L=0,F=0;for(let At=x.length-1;At>=0;At--){if(ae.isNotA1left(i,a,l)){let hn=ae.WEIGHTS[O][2*At];F+=x[At]*hn}L+=x[At]}let V=0;for(let At=y.length-1;At>=0;At--)if(ae.isNotA1left(i,a,l)){let hn=ae.WEIGHTS[O][2*At+1];V+=y[At]*hn}let q=F+V;if((L&1)!=0||L>13||L<4)throw new J;let fe=(13-L)/2,ge=ae.SYMBOL_WIDEST[fe],ue=9-ge,Xe=sn.getRSSvalue(x,ge,!0),Ge=sn.getRSSvalue(y,ue,!1),Sn=ae.EVEN_TOTAL_SUBSET[fe],Xn=ae.GSUM[fe],In=Xe*Sn+Ge+Xn;return new Yi(In,q)}static isNotA1left(t,i,a){return!(t.getValue()==0&&i&&a)}adjustOddEvenCounts(t){let i=nt.sum(new Int32Array(this.getOddCounts())),a=nt.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;i>13?s=!0:i<4&&(l=!0);let u=!1,c=!1;a>13?c=!0:a<4&&(u=!0);let h=i+a-t,x=(i&1)==1,y=(a&1)==0;if(h==1)if(x){if(y)throw new J;s=!0}else{if(!y)throw new J;c=!0}else if(h==-1)if(x){if(y)throw new J;l=!0}else{if(!y)throw new J;u=!0}else if(h==0){if(x){if(!y)throw new J;i<a?(l=!0,c=!0):(s=!0,u=!0)}else if(y)throw new J}else throw new J;if(l){if(s)throw new J;ae.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&ae.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new J;ae.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&ae.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ae.SYMBOL_WIDEST=[7,5,4,3,1],ae.EVEN_TOTAL_SUBSET=[4,20,52,104,204],ae.GSUM=[0,348,1388,2948,3988],ae.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],ae.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],ae.FINDER_PAT_A=0,ae.FINDER_PAT_B=1,ae.FINDER_PAT_C=2,ae.FINDER_PAT_D=3,ae.FINDER_PAT_E=4,ae.FINDER_PAT_F=5,ae.FINDER_PATTERN_SEQUENCES=[[ae.FINDER_PAT_A,ae.FINDER_PAT_A],[ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B],[ae.FINDER_PAT_A,ae.FINDER_PAT_C,ae.FINDER_PAT_B,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_C],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_E,ae.FINDER_PAT_B,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F],[ae.FINDER_PAT_A,ae.FINDER_PAT_A,ae.FINDER_PAT_B,ae.FINDER_PAT_B,ae.FINDER_PAT_C,ae.FINDER_PAT_D,ae.FINDER_PAT_D,ae.FINDER_PAT_E,ae.FINDER_PAT_E,ae.FINDER_PAT_F,ae.FINDER_PAT_F]],ae.MAX_PAIRS=11;class _r extends Yi{constructor(t,i,a){super(t,i),this.count=0,this.finderPattern=a}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ut extends tn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,a){const l=this.decodePair(i,!1,t,a);ut.addOrTally(this.possibleLeftPairs,l),i.reverse();let s=this.decodePair(i,!0,t,a);ut.addOrTally(this.possibleRightPairs,s),i.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&ut.checkChecksum(u,c))return ut.constructResult(u,c)}throw new J}static addOrTally(t,i){if(i==null)return;let a=!1;for(let l of t)if(l.getValue()===i.getValue()){l.incrementCount(),a=!0;break}a||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let a=4537077*t.getValue()+i.getValue(),l=new String(a).toString(),s=new Qe;for(let x=13-l.length;x>0;x--)s.append("0");s.append(l);let u=0;for(let x=0;x<13;x++){let y=s.charAt(x).charCodeAt(0)-48;u+=(x&1)===0?3*y:y}u=10-u%10,u===10&&(u=0),s.append(u.toString());let c=t.getFinderPattern().getResultPoints(),h=i.getFinderPattern().getResultPoints();return new be(s.toString(),null,0,[c[0],c[1],h[0],h[1]],he.RSS_14,new Date().getTime())}static checkChecksum(t,i){let a=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,a===l}decodePair(t,i,a,l){try{let s=this.findFinderPattern(t,i),u=this.parseFoundFinderPattern(t,a,i,s),c=l==null?null:l.get(ke.NEED_RESULT_POINT_CALLBACK);if(c!=null){let y=(s[0]+s[1])/2;i&&(y=t.getSize()-1-y),c.foundPossibleResultPoint(new Te(y,a))}let h=this.decodeDataCharacter(t,u,!0),x=this.decodeDataCharacter(t,u,!1);return new _r(1597*h.getValue()+x.getValue(),h.getChecksumPortion()+4*x.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(t,i,a){let l=this.getDataCharacterCounters();for(let V=0;V<l.length;V++)l[V]=0;if(a)Mt.recordPatternInReverse(t,i.getStartEnd()[0],l);else{Mt.recordPattern(t,i.getStartEnd()[1]+1,l);for(let V=0,q=l.length-1;V<q;V++,q--){let fe=l[V];l[V]=l[q],l[q]=fe}}let s=a?16:15,u=nt.sum(new Int32Array(l))/s,c=this.getOddCounts(),h=this.getEvenCounts(),x=this.getOddRoundingErrors(),y=this.getEvenRoundingErrors();for(let V=0;V<l.length;V++){let q=l[V]/u,fe=Math.floor(q+.5);fe<1?fe=1:fe>8&&(fe=8);let ge=Math.floor(V/2);(V&1)===0?(c[ge]=fe,x[ge]=q-fe):(h[ge]=fe,y[ge]=q-fe)}this.adjustOddEvenCounts(a,s);let v=0,T=0;for(let V=c.length-1;V>=0;V--)T*=9,T+=c[V],v+=c[V];let O=0,L=0;for(let V=h.length-1;V>=0;V--)O*=9,O+=h[V],L+=h[V];let F=T+3*O;if(a){if((v&1)!==0||v>12||v<4)throw new J;let V=(12-v)/2,q=ut.OUTSIDE_ODD_WIDEST[V],fe=9-q,ge=sn.getRSSvalue(c,q,!1),ue=sn.getRSSvalue(h,fe,!0),Xe=ut.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ge=ut.OUTSIDE_GSUM[V];return new Yi(ge*Xe+ue+Ge,F)}else{if((L&1)!==0||L>10||L<4)throw new J;let V=(10-L)/2,q=ut.INSIDE_ODD_WIDEST[V],fe=9-q,ge=sn.getRSSvalue(c,q,!0),ue=sn.getRSSvalue(h,fe,!1),Xe=ut.INSIDE_ODD_TOTAL_SUBSET[V],Ge=ut.INSIDE_GSUM[V];return new Yi(ue*Xe+ge+Ge,F)}}findFinderPattern(t,i){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=t.getSize(),s=!1,u=0;for(;u<l&&(s=!t.get(u),i!==s);)u++;let c=0,h=u;for(let x=u;x<l;x++)if(t.get(x)!==s)a[c]++;else{if(c===3){if(tn.isFinderPattern(a))return[h,x];h+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,c--}else c++;a[c]=1,s=!s}throw new J}parseFoundFinderPattern(t,i,a,l){let s=t.get(l[0]),u=l[0]-1;for(;u>=0&&s!==t.get(u);)u--;u++;const c=l[0]-u,h=this.getDecodeFinderCounters(),x=new Int32Array(h.length);Ae.arraycopy(h,0,x,1,h.length-1),x[0]=c;const y=this.parseFinderValue(x,ut.FINDER_PATTERNS);let v=u,T=l[1];return a&&(v=t.getSize()-1-v,T=t.getSize()-1-T),new Rr(y,[u,l[1]],v,T,i)}adjustOddEvenCounts(t,i){let a=nt.sum(new Int32Array(this.getOddCounts())),l=nt.sum(new Int32Array(this.getEvenCounts())),s=!1,u=!1,c=!1,h=!1;t?(a>12?u=!0:a<4&&(s=!0),l>12?h=!0:l<4&&(c=!0)):(a>11?u=!0:a<5&&(s=!0),l>10?h=!0:l<4&&(c=!0));let x=a+l-i,y=(a&1)===(t?1:0),v=(l&1)===1;if(x===1)if(y){if(v)throw new J;u=!0}else{if(!v)throw new J;h=!0}else if(x===-1)if(y){if(v)throw new J;s=!0}else{if(!v)throw new J;c=!0}else if(x===0){if(y){if(!v)throw new J;a<l?(s=!0,h=!0):(u=!0,c=!0)}else if(v)throw new J}else throw new J;if(s){if(u)throw new J;tn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&tn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(h)throw new J;tn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&tn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ut.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ut.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ut.OUTSIDE_GSUM=[0,161,961,2015,2715],ut.INSIDE_GSUM=[0,336,1036,1516],ut.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ut.INSIDE_ODD_WIDEST=[2,4,6,8],ut.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _i extends Mt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const a=t?t.get(ke.POSSIBLE_FORMATS):null,l=t&&t.get(ke.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;a?((a.includes(he.EAN_13)||a.includes(he.UPC_A)||a.includes(he.EAN_8)||a.includes(he.UPC_E))&&this.readers.push(new $a(t)),a.includes(he.CODE_39)&&this.readers.push(new Rt(l)),a.includes(he.CODE_128)&&this.readers.push(new ye),a.includes(he.ITF)&&this.readers.push(new ot),a.includes(he.RSS_14)&&this.readers.push(new ut),a.includes(he.RSS_EXPANDED)&&this.readers.push(new ae(this.verbose))):(this.readers.push(new $a(t)),this.readers.push(new Rt),this.readers.push(new $a(t)),this.readers.push(new ye),this.readers.push(new ot),this.readers.push(new ut),this.readers.push(new ae(this.verbose)))}decodeRow(t,i,a){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,i,a)}catch{}throw new J}reset(){this.readers.forEach(t=>t.reset())}}class vs extends Ee{constructor(t=500,i){super(new _i(i),t,i)}}class Je{constructor(t,i,a){this.ecCodewords=t,this.ecBlocks=[i],a&&this.ecBlocks.push(a)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class lt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class qe{constructor(t,i,a,l,s,u){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=a,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=u;let c=0;const h=u.getECCodewords(),x=u.getECBlocks();for(let y of x)c+=y.getCount()*(y.getDataCodewords()+h);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new se;for(let a of qe.VERSIONS)if(a.symbolSizeRows===t&&a.symbolSizeColumns===i)return a;throw new se}toString(){return""+this.versionNumber}static buildVersions(){return[new qe(1,10,10,8,8,new Je(5,new lt(1,3))),new qe(2,12,12,10,10,new Je(7,new lt(1,5))),new qe(3,14,14,12,12,new Je(10,new lt(1,8))),new qe(4,16,16,14,14,new Je(12,new lt(1,12))),new qe(5,18,18,16,16,new Je(14,new lt(1,18))),new qe(6,20,20,18,18,new Je(18,new lt(1,22))),new qe(7,22,22,20,20,new Je(20,new lt(1,30))),new qe(8,24,24,22,22,new Je(24,new lt(1,36))),new qe(9,26,26,24,24,new Je(28,new lt(1,44))),new qe(10,32,32,14,14,new Je(36,new lt(1,62))),new qe(11,36,36,16,16,new Je(42,new lt(1,86))),new qe(12,40,40,18,18,new Je(48,new lt(1,114))),new qe(13,44,44,20,20,new Je(56,new lt(1,144))),new qe(14,48,48,22,22,new Je(68,new lt(1,174))),new qe(15,52,52,24,24,new Je(42,new lt(2,102))),new qe(16,64,64,14,14,new Je(56,new lt(2,140))),new qe(17,72,72,16,16,new Je(36,new lt(4,92))),new qe(18,80,80,18,18,new Je(48,new lt(4,114))),new qe(19,88,88,20,20,new Je(56,new lt(4,144))),new qe(20,96,96,22,22,new Je(68,new lt(4,174))),new qe(21,104,104,24,24,new Je(56,new lt(6,136))),new qe(22,120,120,18,18,new Je(68,new lt(6,175))),new qe(23,132,132,20,20,new Je(62,new lt(8,163))),new qe(24,144,144,22,22,new Je(62,new lt(8,156),new lt(2,155))),new qe(25,8,18,6,16,new Je(7,new lt(1,5))),new qe(26,8,32,6,14,new Je(11,new lt(1,10))),new qe(27,12,26,10,24,new Je(14,new lt(1,16))),new qe(28,12,36,10,16,new Je(18,new lt(1,22))),new qe(29,16,36,14,16,new Je(24,new lt(1,32))),new qe(30,16,48,14,22,new Je(28,new lt(1,49)))]}}qe.VERSIONS=qe.buildVersions();class bl{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new se;this.version=bl.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new pt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),a=t.getWidth();return qe.getVersionForDimensions(i,a)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,a=4,l=0;const s=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let c=!1,h=!1,x=!1,y=!1;do if(a===s&&l===0&&!c)t[i++]=this.readCorner1(s,u)&255,a-=2,l+=2,c=!0;else if(a===s-2&&l===0&&(u&3)!==0&&!h)t[i++]=this.readCorner2(s,u)&255,a-=2,l+=2,h=!0;else if(a===s+4&&l===2&&(u&7)===0&&!x)t[i++]=this.readCorner3(s,u)&255,a-=2,l+=2,x=!0;else if(a===s-2&&l===0&&(u&7)===4&&!y)t[i++]=this.readCorner4(s,u)&255,a-=2,l+=2,y=!0;else{do a<s&&l>=0&&!this.readMappingMatrix.get(l,a)&&(t[i++]=this.readUtah(a,l,s,u)&255),a-=2,l+=2;while(a>=0&&l<u);a+=1,l+=3;do a>=0&&l<u&&!this.readMappingMatrix.get(l,a)&&(t[i++]=this.readUtah(a,l,s,u)&255),a+=2,l-=2;while(a<s&&l>=0);a+=3,l+=1}while(a<s||l<u);if(i!==this.version.getTotalCodewords())throw new se;return t}readModule(t,i,a,l){return t<0&&(t+=a,i+=4-(a+4&7)),i<0&&(i+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,a,l){let s=0;return this.readModule(t-2,i-2,a,l)&&(s|=1),s<<=1,this.readModule(t-2,i-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,i-2,a,l)&&(s|=1),s<<=1,this.readModule(t-1,i-1,a,l)&&(s|=1),s<<=1,this.readModule(t-1,i,a,l)&&(s|=1),s<<=1,this.readModule(t,i-2,a,l)&&(s|=1),s<<=1,this.readModule(t,i-1,a,l)&&(s|=1),s<<=1,this.readModule(t,i,a,l)&&(s|=1),s}readCorner1(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,1,t,i)&&(a|=1),a<<=1,this.readModule(t-1,2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}readCorner2(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-4,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner3(t,i){let a=0;return this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(0,i-3,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-3,t,i)&&(a|=1),a<<=1,this.readModule(1,i-2,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a}readCorner4(t,i){let a=0;return this.readModule(t-3,0,t,i)&&(a|=1),a<<=1,this.readModule(t-2,0,t,i)&&(a|=1),a<<=1,this.readModule(t-1,0,t,i)&&(a|=1),a<<=1,this.readModule(0,i-2,t,i)&&(a|=1),a<<=1,this.readModule(0,i-1,t,i)&&(a|=1),a<<=1,this.readModule(1,i-1,t,i)&&(a|=1),a<<=1,this.readModule(2,i-1,t,i)&&(a|=1),a<<=1,this.readModule(3,i-1,t,i)&&(a|=1),a}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),a=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new k("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),u=i/l|0,c=a/s|0,h=u*l,x=c*s,y=new pt(x,h);for(let v=0;v<u;++v){const T=v*l;for(let O=0;O<c;++O){const L=O*s;for(let F=0;F<l;++F){const V=v*(l+2)+1+F,q=T+F;for(let fe=0;fe<s;++fe){const ge=O*(s+2)+1+fe;if(t.get(ge,V)){const ue=L+fe;y.set(ue,q)}}}}}return y}}class Or{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const a=i.getECBlocks();let l=0;const s=a.getECBlocks();for(let F of s)l+=F.getCount();const u=new Array(l);let c=0;for(let F of s)for(let V=0;V<F.getCount();V++){const q=F.getDataCodewords(),fe=a.getECCodewords()+q;u[c++]=new Or(q,new Uint8Array(fe))}const x=u[0].codewords.length-a.getECCodewords(),y=x-1;let v=0;for(let F=0;F<y;F++)for(let V=0;V<c;V++)u[V].codewords[F]=t[v++];const T=i.getVersionNumber()===24,O=T?8:c;for(let F=0;F<O;F++)u[F].codewords[x-1]=t[v++];const L=u[0].codewords.length;for(let F=x;F<L;F++)for(let V=0;V<c;V++){const q=T?(V+8)%c:V,fe=T&&q>7?F-1:F;u[q].codewords[fe]=t[v++]}if(v!==t.length)throw new k;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class _n{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new k(""+t);let i=0,a=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(a>0){const u=8-a,c=t<u?t:u,h=u-c,x=255>>8-c<<h;i=(s[l]&x)>>h,t-=c,a+=c,a===8&&(a=0,l++)}if(t>0){for(;t>=8;)i=i<<8|s[l]&255,l++,t-=8;if(t>0){const u=8-t,c=255>>u<<u;i=i<<t|(s[l]&c)>>u,a+=t}}return this.bitOffset=a,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var jt;(function(S){S[S.PAD_ENCODE=0]="PAD_ENCODE",S[S.ASCII_ENCODE=1]="ASCII_ENCODE",S[S.C40_ENCODE=2]="C40_ENCODE",S[S.TEXT_ENCODE=3]="TEXT_ENCODE",S[S.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",S[S.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",S[S.BASE256_ENCODE=6]="BASE256_ENCODE"})(jt||(jt={}));class Oi{static decode(t){const i=new _n(t),a=new Qe,l=new Qe,s=new Array;let u=jt.ASCII_ENCODE;do if(u===jt.ASCII_ENCODE)u=this.decodeAsciiSegment(i,a,l);else{switch(u){case jt.C40_ENCODE:this.decodeC40Segment(i,a);break;case jt.TEXT_ENCODE:this.decodeTextSegment(i,a);break;case jt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,a);break;case jt.EDIFACT_ENCODE:this.decodeEdifactSegment(i,a);break;case jt.BASE256_ENCODE:this.decodeBase256Segment(i,a,s);break;default:throw new se}u=jt.ASCII_ENCODE}while(u!==jt.PAD_ENCODE&&i.available()>0);return l.length()>0&&a.append(l.toString()),new Hn(t,a.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,i,a){let l=!1;do{let s=t.readBits(8);if(s===0)throw new se;if(s<=128)return l&&(s+=128),i.append(String.fromCharCode(s-1)),jt.ASCII_ENCODE;if(s===129)return jt.PAD_ENCODE;if(s<=229){const u=s-130;u<10&&i.append("0"),i.append(""+u)}else switch(s){case 230:return jt.C40_ENCODE;case 231:return jt.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),a.insert(0,"");break;case 237:i.append("[)>06"),a.insert(0,"");break;case 238:return jt.ANSIX12_ENCODE;case 239:return jt.TEXT_ENCODE;case 240:return jt.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new se;break}}while(t.available()>0);return jt.ASCII_ENCODE}static decodeC40Segment(t,i){let a=!1;const l=[];let s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const x=this.C40_BASIC_SET_CHARS[h];a?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):i.append(x)}else throw new se;break;case 1:a?(i.append(String.fromCharCode(h+128)),a=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const x=this.C40_SHIFT2_SET_CHARS[h];a?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):i.append(x)}else switch(h){case 27:i.append("");break;case 30:a=!0;break;default:throw new se}s=0;break;case 3:a?(i.append(String.fromCharCode(h+224)),a=!1):i.append(String.fromCharCode(h+96)),s=0;break;default:throw new se}}}while(t.available()>0)}static decodeTextSegment(t,i){let a=!1,l=[],s=0;do{if(t.available()===8)return;const u=t.readBits(8);if(u===254)return;this.parseTwoBytes(u,t.readBits(8),l);for(let c=0;c<3;c++){const h=l[c];switch(s){case 0:if(h<3)s=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const x=this.TEXT_BASIC_SET_CHARS[h];a?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):i.append(x)}else throw new se;break;case 1:a?(i.append(String.fromCharCode(h+128)),a=!1):i.append(String.fromCharCode(h)),s=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const x=this.TEXT_SHIFT2_SET_CHARS[h];a?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):i.append(x)}else switch(h){case 27:i.append("");break;case 30:a=!0;break;default:throw new se}s=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const x=this.TEXT_SHIFT3_SET_CHARS[h];a?(i.append(String.fromCharCode(x.charCodeAt(0)+128)),a=!1):i.append(x),s=0}else throw new se;break;default:throw new se}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const a=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),a);for(let s=0;s<3;s++){const u=a[s];switch(u){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(u<14)i.append(String.fromCharCode(u+44));else if(u<40)i.append(String.fromCharCode(u+51));else throw new se;break}}}while(t.available()>0)}static parseTwoBytes(t,i,a){let l=(t<<8)+i-1,s=Math.floor(l/1600);a[0]=s,l-=s*1600,s=Math.floor(l/40),a[1]=s,a[2]=l-s*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let a=0;a<4;a++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,i,a){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let u;if(s===0?u=t.available()/8|0:s<250?u=s:u=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),u<0)throw new se;const c=new Uint8Array(u);for(let h=0;h<u;h++){if(t.available()<8)throw new se;c[h]=this.unrandomize255State(t.readBits(8),l++)}a.push(c);try{i.append(gt.decode(c,ve.ISO88591))}catch(h){throw new ri("Platform does not support required encoding: "+h.message)}}static unrandomize255State(t,i){const a=149*i%255+1,l=t-a;return l>=0?l:l+256}}Oi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Oi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Oi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Oi.TEXT_SHIFT2_SET_CHARS=Oi.C40_SHIFT2_SET_CHARS,Oi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Dr{constructor(){this.rsDecoder=new Qa(at.DATA_MATRIX_FIELD_256)}decode(t){const i=new bl(t),a=i.getVersion(),l=i.readCodewords(),s=Or.getDataBlocks(l,a);let u=0;for(let x of s)u+=x.getNumDataCodewords();const c=new Uint8Array(u),h=s.length;for(let x=0;x<h;x++){const y=s[x],v=y.getCodewords(),T=y.getNumDataCodewords();this.correctErrors(v,T);for(let O=0;O<T;O++)c[O*h+x]=v[O]}return Oi.decode(c)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new ce}for(let l=0;l<i;l++)t[l]=a[l]}}class Ut{constructor(t){this.image=t,this.rectangleDetector=new xi(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new J;i=this.shiftToModuleCenter(i);const a=i[0],l=i[1],s=i[2],u=i[3];let c=this.transitionsBetween(a,u)+1,h=this.transitionsBetween(s,u)+1;(c&1)===1&&(c+=1),(h&1)===1&&(h+=1),4*c<7*h&&4*h<7*c&&(c=h=Math.max(c,h));let x=Ut.sampleGrid(this.image,a,l,s,u,c,h);return new vr(x,[a,l,s,u])}static shiftPoint(t,i,a){let l=(i.getX()-t.getX())/(a+1),s=(i.getY()-t.getY())/(a+1);return new Te(t.getX()+l,t.getY()+s)}static moveAway(t,i,a){let l=t.getX(),s=t.getY();return l<i?l-=1:l+=1,s<a?s-=1:s+=1,new Te(l,s)}detectSolid1(t){let i=t[0],a=t[1],l=t[3],s=t[2],u=this.transitionsBetween(i,a),c=this.transitionsBetween(a,l),h=this.transitionsBetween(l,s),x=this.transitionsBetween(s,i),y=u,v=[s,i,a,l];return y>c&&(y=c,v[0]=i,v[1]=a,v[2]=l,v[3]=s),y>h&&(y=h,v[0]=a,v[1]=l,v[2]=s,v[3]=i),y>x&&(v[0]=l,v[1]=s,v[2]=i,v[3]=a),v}detectSolid2(t){let i=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s),c=Ut.shiftPoint(a,l,(u+1)*4),h=Ut.shiftPoint(l,a,(u+1)*4),x=this.transitionsBetween(c,i),y=this.transitionsBetween(h,s);return x<y?(t[0]=i,t[1]=a,t[2]=l,t[3]=s):(t[0]=a,t[1]=l,t[2]=s,t[3]=i),t}correctTopRight(t){let i=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s),c=this.transitionsBetween(a,s),h=Ut.shiftPoint(i,a,(c+1)*4),x=Ut.shiftPoint(l,a,(u+1)*4);u=this.transitionsBetween(h,s),c=this.transitionsBetween(x,s);let y=new Te(s.getX()+(l.getX()-a.getX())/(u+1),s.getY()+(l.getY()-a.getY())/(u+1)),v=new Te(s.getX()+(i.getX()-a.getX())/(c+1),s.getY()+(i.getY()-a.getY())/(c+1));if(!this.isValid(y))return this.isValid(v)?v:null;if(!this.isValid(v))return y;let T=this.transitionsBetween(h,y)+this.transitionsBetween(x,y),O=this.transitionsBetween(h,v)+this.transitionsBetween(x,v);return T>O?y:v}shiftToModuleCenter(t){let i=t[0],a=t[1],l=t[2],s=t[3],u=this.transitionsBetween(i,s)+1,c=this.transitionsBetween(l,s)+1,h=Ut.shiftPoint(i,a,c*4),x=Ut.shiftPoint(l,a,u*4);u=this.transitionsBetween(h,s)+1,c=this.transitionsBetween(x,s)+1,(u&1)===1&&(u+=1),(c&1)===1&&(c+=1);let y=(i.getX()+a.getX()+l.getX()+s.getX())/4,v=(i.getY()+a.getY()+l.getY()+s.getY())/4;i=Ut.moveAway(i,y,v),a=Ut.moveAway(a,y,v),l=Ut.moveAway(l,y,v),s=Ut.moveAway(s,y,v);let T,O;return h=Ut.shiftPoint(i,a,c*4),h=Ut.shiftPoint(h,s,u*4),T=Ut.shiftPoint(a,i,c*4),T=Ut.shiftPoint(T,l,u*4),x=Ut.shiftPoint(l,s,c*4),x=Ut.shiftPoint(x,a,u*4),O=Ut.shiftPoint(s,l,c*4),O=Ut.shiftPoint(O,i,u*4),[h,T,x,O]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,a,l,s,u,c){return bn.getInstance().sampleGrid(t,u,c,.5,.5,u-.5,.5,u-.5,c-.5,.5,c-.5,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),a.getX(),a.getY())}transitionsBetween(t,i){let a=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(i.getX()),u=Math.trunc(i.getY()),c=Math.abs(u-l)>Math.abs(s-a);if(c){let F=a;a=l,l=F,F=s,s=u,u=F}let h=Math.abs(s-a),x=Math.abs(u-l),y=-h/2,v=l<u?1:-1,T=a<s?1:-1,O=0,L=this.image.get(c?l:a,c?a:l);for(let F=a,V=l;F!==s;F+=T){let q=this.image.get(c?V:F,c?F:V);if(q!==L&&(O++,L=q),y+=x,y>0){if(V===u)break;V+=v,y-=h}}return O}}class Qn{constructor(){this.decoder=new Dr}decode(t,i=null){let a,l;if(i!=null&&i.has(ke.PURE_BARCODE)){const x=Qn.extractPureBits(t.getBlackMatrix());a=this.decoder.decode(x),l=Qn.NO_POINTS}else{const x=new Ut(t.getBlackMatrix()).detect();a=this.decoder.decode(x.getBits()),l=x.getPoints()}const s=a.getRawBytes(),u=new be(a.getText(),s,8*s.length,l,he.DATA_MATRIX,Ae.currentTimeMillis()),c=a.getByteSegments();c!=null&&u.putMetadata(je.BYTE_SEGMENTS,c);const h=a.getECLevel();return h!=null&&u.putMetadata(je.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i==null||a==null)throw new J;const l=this.moduleSize(i,t);let s=i[1];const u=a[1];let c=i[0];const x=(a[0]-c+1)/l,y=(u-s+1)/l;if(x<=0||y<=0)throw new J;const v=l/2;s+=v,c+=v;const T=new pt(x,y);for(let O=0;O<y;O++){const L=s+O*l;for(let F=0;F<x;F++)t.get(c+F*l,L)&&T.set(F,O)}return T}static moduleSize(t,i){const a=i.getWidth();let l=t[0];const s=t[1];for(;l<a&&i.get(l,s);)l++;if(l===a)throw new J;const u=l-t[0];if(u===0)throw new J;return u}}Qn.NO_POINTS=[];class jo extends Ee{constructor(t=500){super(new Qn,t)}}var on;(function(S){S[S.L=0]="L",S[S.M=1]="M",S[S.Q=2]="Q",S[S.H=3]="H"})(on||(on={}));class ht{constructor(t,i,a){this.value=t,this.stringValue=i,this.bits=a,ht.FOR_BITS.set(a,this),ht.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ht.L;case"M":return ht.M;case"Q":return ht.Q;case"H":return ht.H;default:throw new I(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ht))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=ht.FOR_BITS.size)throw new k;return ht.FOR_BITS.get(t)}}ht.FOR_BITS=new Map,ht.FOR_VALUE=new Map,ht.L=new ht(on.L,"L",1),ht.M=new ht(on.M,"M",0),ht.Q=new ht(on.Q,"Q",3),ht.H=new ht(on.H,"H",2);class un{constructor(t){this.errorCorrectionLevel=ht.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return de.bitCount(t^i)}static decodeFormatInformation(t,i){const a=un.doDecodeFormatInformation(t,i);return a!==null?a:un.doDecodeFormatInformation(t^un.FORMAT_INFO_MASK_QR,i^un.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let a=Number.MAX_SAFE_INTEGER,l=0;for(const s of un.FORMAT_INFO_DECODE_LOOKUP){const u=s[0];if(u===t||u===i)return new un(s[1]);let c=un.numBitsDiffering(t,u);c<a&&(l=s[1],a=c),t!==i&&(c=un.numBitsDiffering(i,u),c<a&&(l=s[1],a=c))}return a<=3?new un(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof un))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}un.FORMAT_INFO_MASK_QR=21522,un.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const a of i)t+=a.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class R{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class _e{constructor(t,i,...a){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=a;let l=0;const s=a[0].getECCodewordsPerBlock(),u=a[0].getECBlocks();for(const c of u)l+=c.getCount()*(c.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new se;try{return this.getVersionForNumber((t-17)/4)}catch{throw new se}}static getVersionForNumber(t){if(t<1||t>40)throw new k;return _e.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,a=0;for(let l=0;l<_e.VERSION_DECODE_INFO.length;l++){const s=_e.VERSION_DECODE_INFO[l];if(s===t)return _e.getVersionForNumber(l+7);const u=un.numBitsDiffering(t,s);u<i&&(a=l+7,i=u)}return i<=3?_e.getVersionForNumber(a):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new pt(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const a=this.alignmentPatternCenters.length;for(let l=0;l<a;l++){const s=this.alignmentPatternCenters[l]-2;for(let u=0;u<a;u++)l===0&&(u===0||u===a-1)||l===a-1&&u===0||i.setRegion(this.alignmentPatternCenters[u]-2,s,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}_e.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),_e.VERSIONS=[new _e(1,new Int32Array(0),new X(7,new R(1,19)),new X(10,new R(1,16)),new X(13,new R(1,13)),new X(17,new R(1,9))),new _e(2,Int32Array.from([6,18]),new X(10,new R(1,34)),new X(16,new R(1,28)),new X(22,new R(1,22)),new X(28,new R(1,16))),new _e(3,Int32Array.from([6,22]),new X(15,new R(1,55)),new X(26,new R(1,44)),new X(18,new R(2,17)),new X(22,new R(2,13))),new _e(4,Int32Array.from([6,26]),new X(20,new R(1,80)),new X(18,new R(2,32)),new X(26,new R(2,24)),new X(16,new R(4,9))),new _e(5,Int32Array.from([6,30]),new X(26,new R(1,108)),new X(24,new R(2,43)),new X(18,new R(2,15),new R(2,16)),new X(22,new R(2,11),new R(2,12))),new _e(6,Int32Array.from([6,34]),new X(18,new R(2,68)),new X(16,new R(4,27)),new X(24,new R(4,19)),new X(28,new R(4,15))),new _e(7,Int32Array.from([6,22,38]),new X(20,new R(2,78)),new X(18,new R(4,31)),new X(18,new R(2,14),new R(4,15)),new X(26,new R(4,13),new R(1,14))),new _e(8,Int32Array.from([6,24,42]),new X(24,new R(2,97)),new X(22,new R(2,38),new R(2,39)),new X(22,new R(4,18),new R(2,19)),new X(26,new R(4,14),new R(2,15))),new _e(9,Int32Array.from([6,26,46]),new X(30,new R(2,116)),new X(22,new R(3,36),new R(2,37)),new X(20,new R(4,16),new R(4,17)),new X(24,new R(4,12),new R(4,13))),new _e(10,Int32Array.from([6,28,50]),new X(18,new R(2,68),new R(2,69)),new X(26,new R(4,43),new R(1,44)),new X(24,new R(6,19),new R(2,20)),new X(28,new R(6,15),new R(2,16))),new _e(11,Int32Array.from([6,30,54]),new X(20,new R(4,81)),new X(30,new R(1,50),new R(4,51)),new X(28,new R(4,22),new R(4,23)),new X(24,new R(3,12),new R(8,13))),new _e(12,Int32Array.from([6,32,58]),new X(24,new R(2,92),new R(2,93)),new X(22,new R(6,36),new R(2,37)),new X(26,new R(4,20),new R(6,21)),new X(28,new R(7,14),new R(4,15))),new _e(13,Int32Array.from([6,34,62]),new X(26,new R(4,107)),new X(22,new R(8,37),new R(1,38)),new X(24,new R(8,20),new R(4,21)),new X(22,new R(12,11),new R(4,12))),new _e(14,Int32Array.from([6,26,46,66]),new X(30,new R(3,115),new R(1,116)),new X(24,new R(4,40),new R(5,41)),new X(20,new R(11,16),new R(5,17)),new X(24,new R(11,12),new R(5,13))),new _e(15,Int32Array.from([6,26,48,70]),new X(22,new R(5,87),new R(1,88)),new X(24,new R(5,41),new R(5,42)),new X(30,new R(5,24),new R(7,25)),new X(24,new R(11,12),new R(7,13))),new _e(16,Int32Array.from([6,26,50,74]),new X(24,new R(5,98),new R(1,99)),new X(28,new R(7,45),new R(3,46)),new X(24,new R(15,19),new R(2,20)),new X(30,new R(3,15),new R(13,16))),new _e(17,Int32Array.from([6,30,54,78]),new X(28,new R(1,107),new R(5,108)),new X(28,new R(10,46),new R(1,47)),new X(28,new R(1,22),new R(15,23)),new X(28,new R(2,14),new R(17,15))),new _e(18,Int32Array.from([6,30,56,82]),new X(30,new R(5,120),new R(1,121)),new X(26,new R(9,43),new R(4,44)),new X(28,new R(17,22),new R(1,23)),new X(28,new R(2,14),new R(19,15))),new _e(19,Int32Array.from([6,30,58,86]),new X(28,new R(3,113),new R(4,114)),new X(26,new R(3,44),new R(11,45)),new X(26,new R(17,21),new R(4,22)),new X(26,new R(9,13),new R(16,14))),new _e(20,Int32Array.from([6,34,62,90]),new X(28,new R(3,107),new R(5,108)),new X(26,new R(3,41),new R(13,42)),new X(30,new R(15,24),new R(5,25)),new X(28,new R(15,15),new R(10,16))),new _e(21,Int32Array.from([6,28,50,72,94]),new X(28,new R(4,116),new R(4,117)),new X(26,new R(17,42)),new X(28,new R(17,22),new R(6,23)),new X(30,new R(19,16),new R(6,17))),new _e(22,Int32Array.from([6,26,50,74,98]),new X(28,new R(2,111),new R(7,112)),new X(28,new R(17,46)),new X(30,new R(7,24),new R(16,25)),new X(24,new R(34,13))),new _e(23,Int32Array.from([6,30,54,78,102]),new X(30,new R(4,121),new R(5,122)),new X(28,new R(4,47),new R(14,48)),new X(30,new R(11,24),new R(14,25)),new X(30,new R(16,15),new R(14,16))),new _e(24,Int32Array.from([6,28,54,80,106]),new X(30,new R(6,117),new R(4,118)),new X(28,new R(6,45),new R(14,46)),new X(30,new R(11,24),new R(16,25)),new X(30,new R(30,16),new R(2,17))),new _e(25,Int32Array.from([6,32,58,84,110]),new X(26,new R(8,106),new R(4,107)),new X(28,new R(8,47),new R(13,48)),new X(30,new R(7,24),new R(22,25)),new X(30,new R(22,15),new R(13,16))),new _e(26,Int32Array.from([6,30,58,86,114]),new X(28,new R(10,114),new R(2,115)),new X(28,new R(19,46),new R(4,47)),new X(28,new R(28,22),new R(6,23)),new X(30,new R(33,16),new R(4,17))),new _e(27,Int32Array.from([6,34,62,90,118]),new X(30,new R(8,122),new R(4,123)),new X(28,new R(22,45),new R(3,46)),new X(30,new R(8,23),new R(26,24)),new X(30,new R(12,15),new R(28,16))),new _e(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new R(3,117),new R(10,118)),new X(28,new R(3,45),new R(23,46)),new X(30,new R(4,24),new R(31,25)),new X(30,new R(11,15),new R(31,16))),new _e(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new R(7,116),new R(7,117)),new X(28,new R(21,45),new R(7,46)),new X(30,new R(1,23),new R(37,24)),new X(30,new R(19,15),new R(26,16))),new _e(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new R(5,115),new R(10,116)),new X(28,new R(19,47),new R(10,48)),new X(30,new R(15,24),new R(25,25)),new X(30,new R(23,15),new R(25,16))),new _e(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new R(13,115),new R(3,116)),new X(28,new R(2,46),new R(29,47)),new X(30,new R(42,24),new R(1,25)),new X(30,new R(23,15),new R(28,16))),new _e(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new R(17,115)),new X(28,new R(10,46),new R(23,47)),new X(30,new R(10,24),new R(35,25)),new X(30,new R(19,15),new R(35,16))),new _e(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new R(17,115),new R(1,116)),new X(28,new R(14,46),new R(21,47)),new X(30,new R(29,24),new R(19,25)),new X(30,new R(11,15),new R(46,16))),new _e(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new R(13,115),new R(6,116)),new X(28,new R(14,46),new R(23,47)),new X(30,new R(44,24),new R(7,25)),new X(30,new R(59,16),new R(1,17))),new _e(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new R(12,121),new R(7,122)),new X(28,new R(12,47),new R(26,48)),new X(30,new R(39,24),new R(14,25)),new X(30,new R(22,15),new R(41,16))),new _e(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new R(6,121),new R(14,122)),new X(28,new R(6,47),new R(34,48)),new X(30,new R(46,24),new R(10,25)),new X(30,new R(2,15),new R(64,16))),new _e(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new R(17,122),new R(4,123)),new X(28,new R(29,46),new R(14,47)),new X(30,new R(49,24),new R(10,25)),new X(30,new R(24,15),new R(46,16))),new _e(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new R(4,122),new R(18,123)),new X(28,new R(13,46),new R(32,47)),new X(30,new R(48,24),new R(14,25)),new X(30,new R(42,15),new R(32,16))),new _e(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new R(20,117),new R(4,118)),new X(28,new R(40,47),new R(7,48)),new X(30,new R(43,24),new R(22,25)),new X(30,new R(10,15),new R(67,16))),new _e(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new R(19,118),new R(6,119)),new X(28,new R(18,47),new R(31,48)),new X(30,new R(34,24),new R(34,25)),new X(30,new R(20,15),new R(61,16)))];var Qt;(function(S){S[S.DATA_MASK_000=0]="DATA_MASK_000",S[S.DATA_MASK_001=1]="DATA_MASK_001",S[S.DATA_MASK_010=2]="DATA_MASK_010",S[S.DATA_MASK_011=3]="DATA_MASK_011",S[S.DATA_MASK_100=4]="DATA_MASK_100",S[S.DATA_MASK_101=5]="DATA_MASK_101",S[S.DATA_MASK_110=6]="DATA_MASK_110",S[S.DATA_MASK_111=7]="DATA_MASK_111"})(Qt||(Qt={}));class cn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let a=0;a<i;a++)for(let l=0;l<i;l++)this.isMasked(a,l)&&t.flip(l,a)}}cn.values=new Map([[Qt.DATA_MASK_000,new cn(Qt.DATA_MASK_000,(S,t)=>(S+t&1)===0)],[Qt.DATA_MASK_001,new cn(Qt.DATA_MASK_001,(S,t)=>(S&1)===0)],[Qt.DATA_MASK_010,new cn(Qt.DATA_MASK_010,(S,t)=>t%3===0)],[Qt.DATA_MASK_011,new cn(Qt.DATA_MASK_011,(S,t)=>(S+t)%3===0)],[Qt.DATA_MASK_100,new cn(Qt.DATA_MASK_100,(S,t)=>(Math.floor(S/2)+Math.floor(t/3)&1)===0)],[Qt.DATA_MASK_101,new cn(Qt.DATA_MASK_101,(S,t)=>S*t%6===0)],[Qt.DATA_MASK_110,new cn(Qt.DATA_MASK_110,(S,t)=>S*t%6<3)],[Qt.DATA_MASK_111,new cn(Qt.DATA_MASK_111,(S,t)=>(S+t+S*t%3&1)===0)]]);class Yo{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new se;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const i=this.bitMatrix.getHeight();let a=0;const l=i-7;for(let s=i-1;s>=l;s--)a=this.copyBit(8,s,a);for(let s=i-8;s<i;s++)a=this.copyBit(s,8,a);if(this.parsedFormatInfo=un.decodeFormatInformation(t,a),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new se}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return _e.getVersionForNumber(i);let a=0;const l=t-11;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)a=this.copyBit(c,u,a);let s=_e.decodeVersionInformation(a);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;a=0;for(let u=5;u>=0;u--)for(let c=t-9;c>=l;c--)a=this.copyBit(u,c,a);if(s=_e.decodeVersionInformation(a),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new se}copyBit(t,i,a){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?a<<1|1:a<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),a=cn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l);const s=i.buildFunctionPattern();let u=!0;const c=new Uint8Array(i.getTotalCodewords());let h=0,x=0,y=0;for(let v=l-1;v>0;v-=2){v===6&&v--;for(let T=0;T<l;T++){const O=u?l-1-T:T;for(let L=0;L<2;L++)s.get(v-L,O)||(y++,x<<=1,this.bitMatrix.get(v-L,O)&&(x|=1),y===8&&(c[h++]=x,y=0,x=0))}u=!u}if(h!==i.getTotalCodewords())throw new se;return c}remask(){if(this.parsedFormatInfo===null)return;const t=cn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,a=t.getWidth();i<a;i++)for(let l=i+1,s=t.getHeight();l<s;l++)t.get(i,l)!==t.get(l,i)&&(t.flip(l,i),t.flip(i,l))}}class Ir{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,a){if(t.length!==i.getTotalCodewords())throw new k;const l=i.getECBlocksForLevel(a);let s=0;const u=l.getECBlocks();for(const L of u)s+=L.getCount();const c=new Array(s);let h=0;for(const L of u)for(let F=0;F<L.getCount();F++){const V=L.getDataCodewords(),q=l.getECCodewordsPerBlock()+V;c[h++]=new Ir(V,new Uint8Array(q))}const x=c[0].codewords.length;let y=c.length-1;for(;y>=0&&c[y].codewords.length!==x;)y--;y++;const v=x-l.getECCodewordsPerBlock();let T=0;for(let L=0;L<v;L++)for(let F=0;F<h;F++)c[F].codewords[L]=t[T++];for(let L=y;L<h;L++)c[L].codewords[v]=t[T++];const O=c[0].codewords.length;for(let L=v;L<O;L++)for(let F=0;F<h;F++){const V=F<y?L:L+1;c[F].codewords[V]=t[T++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Un;(function(S){S[S.TERMINATOR=0]="TERMINATOR",S[S.NUMERIC=1]="NUMERIC",S[S.ALPHANUMERIC=2]="ALPHANUMERIC",S[S.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",S[S.BYTE=4]="BYTE",S[S.ECI=5]="ECI",S[S.KANJI=6]="KANJI",S[S.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",S[S.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",S[S.HANZI=9]="HANZI"})(Un||(Un={}));class De{constructor(t,i,a,l){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=a,this.bits=l,De.FOR_BITS.set(l,this),De.FOR_VALUE.set(t,this)}static forBits(t){const i=De.FOR_BITS.get(t);if(i===void 0)throw new k;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let a;return i<=9?a=0:i<=26?a=1:a=2,this.characterCountBitsForVersions[a]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof De))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(Un.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(Un.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(Un.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(Un.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(Un.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(Un.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(Un.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(Un.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(Un.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(Un.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Bt{static decode(t,i,a,l){const s=new _n(t);let u=new Qe;const c=new Array;let h=-1,x=-1;try{let y=null,v=!1,T;do{if(s.available()<4)T=De.TERMINATOR;else{const O=s.readBits(4);T=De.forBits(O)}switch(T){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:v=!0;break;case De.STRUCTURED_APPEND:if(s.available()<16)throw new se;h=s.readBits(8),x=s.readBits(8);break;case De.ECI:const O=Bt.parseECIValue(s);if(y=ie.getCharacterSetECIByValue(O),y===null)throw new se;break;case De.HANZI:const L=s.readBits(4),F=s.readBits(T.getCharacterCountBits(i));L===Bt.GB2312_SUBSET&&Bt.decodeHanziSegment(s,u,F);break;default:const V=s.readBits(T.getCharacterCountBits(i));switch(T){case De.NUMERIC:Bt.decodeNumericSegment(s,u,V);break;case De.ALPHANUMERIC:Bt.decodeAlphanumericSegment(s,u,V,v);break;case De.BYTE:Bt.decodeByteSegment(s,u,V,y,c,l);break;case De.KANJI:Bt.decodeKanjiSegment(s,u,V);break;default:throw new se}break}}while(T!==De.TERMINATOR)}catch{throw new se}return new Hn(t,u.toString(),c.length===0?null:c,a===null?null:a.toString(),h,x)}static decodeHanziSegment(t,i,a){if(a*13>t.available())throw new se;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let c=u/96<<8&4294967295|u%96;c<959?c+=41377:c+=42657,l[s]=c>>8&255,l[s+1]=c&255,s+=2,a--}try{i.append(gt.decode(l,ve.GB2312))}catch(u){throw new se(u)}}static decodeKanjiSegment(t,i,a){if(a*13>t.available())throw new se;const l=new Uint8Array(2*a);let s=0;for(;a>0;){const u=t.readBits(13);let c=u/192<<8&4294967295|u%192;c<7936?c+=33088:c+=49472,l[s]=c>>8,l[s+1]=c,s+=2,a--}try{i.append(gt.decode(l,ve.SHIFT_JIS))}catch(u){throw new se(u)}}static decodeByteSegment(t,i,a,l,s,u){if(8*a>t.available())throw new se;const c=new Uint8Array(a);for(let x=0;x<a;x++)c[x]=t.readBits(8);let h;l===null?h=ve.guessEncoding(c,u):h=l.getName();try{i.append(gt.decode(c,h))}catch(x){throw new se(x)}s.push(c)}static toAlphaNumericChar(t){if(t>=Bt.ALPHANUMERIC_CHARS.length)throw new se;return Bt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,a,l){const s=i.length();for(;a>1;){if(t.available()<11)throw new se;const u=t.readBits(11);i.append(Bt.toAlphaNumericChar(Math.floor(u/45))),i.append(Bt.toAlphaNumericChar(u%45)),a-=2}if(a===1){if(t.available()<6)throw new se;i.append(Bt.toAlphaNumericChar(t.readBits(6)))}if(l)for(let u=s;u<i.length();u++)i.charAt(u)==="%"&&(u<i.length()-1&&i.charAt(u+1)==="%"?i.deleteCharAt(u+1):i.setCharAt(u,""))}static decodeNumericSegment(t,i,a){for(;a>=3;){if(t.available()<10)throw new se;const l=t.readBits(10);if(l>=1e3)throw new se;i.append(Bt.toAlphaNumericChar(Math.floor(l/100))),i.append(Bt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Bt.toAlphaNumericChar(l%10)),a-=3}if(a===2){if(t.available()<7)throw new se;const l=t.readBits(7);if(l>=100)throw new se;i.append(Bt.toAlphaNumericChar(Math.floor(l/10))),i.append(Bt.toAlphaNumericChar(l%10))}else if(a===1){if(t.available()<4)throw new se;const l=t.readBits(4);if(l>=10)throw new se;i.append(Bt.toAlphaNumericChar(l))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const a=t.readBits(8);return(i&63)<<8&4294967295|a}if((i&224)===192){const a=t.readBits(16);return(i&31)<<16&4294967295|a}throw new se}}Bt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Bt.GB2312_SUBSET=1;class Ts{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Mr{constructor(){this.rsDecoder=new Qa(at.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(pt.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const a=new Yo(t);let l=null;try{return this.decodeBitMatrixParser(a,i)}catch(s){l=s}try{a.remask(),a.setMirror(!0),a.readVersion(),a.readFormatInformation(),a.mirror();const s=this.decodeBitMatrixParser(a,i);return s.setOther(new Ts(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,i){const a=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),u=Ir.getDataBlocks(s,a,l);let c=0;for(const y of u)c+=y.getNumDataCodewords();const h=new Uint8Array(c);let x=0;for(const y of u){const v=y.getCodewords(),T=y.getNumDataCodewords();this.correctErrors(v,T);for(let O=0;O<T;O++)h[x++]=v[O]}return Bt.decode(h,a,l,i)}correctErrors(t,i){const a=new Int32Array(t);try{this.rsDecoder.decode(a,t.length-i)}catch{throw new ce}for(let l=0;l<i;l++)t[l]=a[l]}}class tr extends Te{constructor(t,i,a){super(t,i),this.estimatedModuleSize=a}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const l=(this.getX()+i)/2,s=(this.getY()+t)/2,u=(this.estimatedModuleSize+a)/2;return new tr(l,s,u)}}class Ea{constructor(t,i,a,l,s,u,c){this.image=t,this.startX=i,this.startY=a,this.width=l,this.height=s,this.moduleSize=u,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,a=this.width,l=t+a,s=this.startY+i/2,u=new Int32Array(3),c=this.image;for(let h=0;h<i;h++){const x=s+((h&1)===0?Math.floor((h+1)/2):-Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let y=t;for(;y<l&&!c.get(y,x);)y++;let v=0;for(;y<l;){if(c.get(y,x))if(v===1)u[1]++;else if(v===2){if(this.foundPatternCross(u)){const T=this.handlePossibleCenter(u,x,y);if(T!==null)return T}u[0]=u[2],u[1]=1,u[2]=0,v=1}else u[++v]++;else v===1&&v++,u[v]++;y++}if(this.foundPatternCross(u)){const T=this.handlePossibleCenter(u,x,l);if(T!==null)return T}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,a=i/2;for(let l=0;l<3;l++)if(Math.abs(i-t[l])>=a)return!1;return!0}crossCheckVertical(t,i,a,l){const s=this.image,u=s.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let h=t;for(;h>=0&&s.get(i,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&!s.get(i,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=t+1;h<u&&s.get(i,h)&&c[1]<=a;)c[1]++,h++;if(h===u||c[1]>a)return NaN;for(;h<u&&!s.get(i,h)&&c[2]<=a;)c[2]++,h++;if(c[2]>a)return NaN;const x=c[0]+c[1]+c[2];return 5*Math.abs(x-l)>=2*l?NaN:this.foundPatternCross(c)?Ea.centerFromEnd(c,h):NaN}handlePossibleCenter(t,i,a){const l=t[0]+t[1]+t[2],s=Ea.centerFromEnd(t,a),u=this.crossCheckVertical(i,s,2*t[1],l);if(!isNaN(u)){const c=(t[0]+t[1]+t[2])/3;for(const x of this.possibleCenters)if(x.aboutEquals(c,u,s))return x.combineEstimate(u,s,c);const h=new tr(s,u,c);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class Di extends Te{constructor(t,i,a,l){super(t,i),this.estimatedModuleSize=a,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,a){if(Math.abs(i-this.getY())<=t&&Math.abs(a-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,a){const l=this.count+1,s=(this.count*this.getX()+i)/l,u=(this.count*this.getY()+t)/l,c=(this.count*this.estimatedModuleSize+a)/l;return new Di(s,u,c,l)}}class Aa{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Kt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(ke.TRY_HARDER)!==void 0,a=t!=null&&t.get(ke.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),u=l.getWidth();let c=Math.floor(3*s/(4*Kt.MAX_MODULES));(c<Kt.MIN_SKIP||i)&&(c=Kt.MIN_SKIP);let h=!1;const x=new Int32Array(5);for(let v=c-1;v<s&&!h;v+=c){x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0;let T=0;for(let O=0;O<u;O++)if(l.get(O,v))(T&1)===1&&T++,x[T]++;else if((T&1)===0)if(T===4)if(Kt.foundPatternCross(x)){if(this.handlePossibleCenter(x,v,O,a)===!0)if(c=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>x[2]&&(v+=F-x[2]-c,O=u-1)}else{x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;continue}T=0,x[0]=0,x[1]=0,x[2]=0,x[3]=0,x[4]=0}else x[0]=x[2],x[1]=x[3],x[2]=x[4],x[3]=1,x[4]=0,T=3;else x[++T]++;else x[T]++;Kt.foundPatternCross(x)&&this.handlePossibleCenter(x,v,u,a)===!0&&(c=x[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const y=this.selectBestPatterns();return Te.orderBestPatterns(y),new Aa(y)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let s=0;s<5;s++){const u=t[s];if(u===0)return!1;i+=u}if(i<7)return!1;const a=i/7,l=a/2;return Math.abs(a-t[0])<l&&Math.abs(a-t[1])<l&&Math.abs(3*a-t[2])<3*l&&Math.abs(a-t[3])<l&&Math.abs(a-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,a,l){const s=this.getCrossCheckStateCount();let u=0;const c=this.image;for(;t>=u&&i>=u&&c.get(i-u,t-u);)s[2]++,u++;if(t<u||i<u)return!1;for(;t>=u&&i>=u&&!c.get(i-u,t-u)&&s[1]<=a;)s[1]++,u++;if(t<u||i<u||s[1]>a)return!1;for(;t>=u&&i>=u&&c.get(i-u,t-u)&&s[0]<=a;)s[0]++,u++;if(s[0]>a)return!1;const h=c.getHeight(),x=c.getWidth();for(u=1;t+u<h&&i+u<x&&c.get(i+u,t+u);)s[2]++,u++;if(t+u>=h||i+u>=x)return!1;for(;t+u<h&&i+u<x&&!c.get(i+u,t+u)&&s[3]<a;)s[3]++,u++;if(t+u>=h||i+u>=x||s[3]>=a)return!1;for(;t+u<h&&i+u<x&&c.get(i+u,t+u)&&s[4]<a;)s[4]++,u++;if(s[4]>=a)return!1;const y=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(y-l)<2*l&&Kt.foundPatternCross(s)}crossCheckVertical(t,i,a,l){const s=this.image,u=s.getHeight(),c=this.getCrossCheckStateCount();let h=t;for(;h>=0&&s.get(i,h);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(i,h)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(i,h)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=t+1;h<u&&s.get(i,h);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(i,h)&&c[3]<a;)c[3]++,h++;if(h===u||c[3]>=a)return NaN;for(;h<u&&s.get(i,h)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const x=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(x-l)>=2*l?NaN:Kt.foundPatternCross(c)?Kt.centerFromEnd(c,h):NaN}crossCheckHorizontal(t,i,a,l){const s=this.image,u=s.getWidth(),c=this.getCrossCheckStateCount();let h=t;for(;h>=0&&s.get(h,i);)c[2]++,h--;if(h<0)return NaN;for(;h>=0&&!s.get(h,i)&&c[1]<=a;)c[1]++,h--;if(h<0||c[1]>a)return NaN;for(;h>=0&&s.get(h,i)&&c[0]<=a;)c[0]++,h--;if(c[0]>a)return NaN;for(h=t+1;h<u&&s.get(h,i);)c[2]++,h++;if(h===u)return NaN;for(;h<u&&!s.get(h,i)&&c[3]<a;)c[3]++,h++;if(h===u||c[3]>=a)return NaN;for(;h<u&&s.get(h,i)&&c[4]<a;)c[4]++,h++;if(c[4]>=a)return NaN;const x=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(x-l)>=l?NaN:Kt.foundPatternCross(c)?Kt.centerFromEnd(c,h):NaN}handlePossibleCenter(t,i,a,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let u=Kt.centerFromEnd(t,a),c=this.crossCheckVertical(i,Math.floor(u),t[2],s);if(!isNaN(c)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(c),t[2],s),!isNaN(u)&&(!l||this.crossCheckDiagonal(Math.floor(c),Math.floor(u),t[2],s)))){const h=s/7;let x=!1;const y=this.possibleCenters;for(let v=0,T=y.length;v<T;v++){const O=y[v];if(O.aboutEquals(h,c,u)){y[v]=O.combineEstimate(c,u,h),x=!0;break}}if(!x){const v=new Di(u,c,h);y.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const a of this.possibleCenters)if(a.getCount()>=Kt.CENTER_QUORUM)if(i==null)i=a;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-a.getX())-Math.abs(i.getY()-a.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const a=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=Kt.CENTER_QUORUM&&(t++,i+=u.getEstimatedModuleSize());if(t<3)return!1;const l=i/a;let s=0;for(const u of this.possibleCenters)s+=Math.abs(u.getEstimatedModuleSize()-l);return s<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new J;const i=this.possibleCenters;let a;if(t>3){let l=0,s=0;for(const h of this.possibleCenters){const x=h.getEstimatedModuleSize();l+=x,s+=x*x}a=l/t;let u=Math.sqrt(s/t-a*a);i.sort((h,x)=>{const y=Math.abs(x.getEstimatedModuleSize()-a),v=Math.abs(h.getEstimatedModuleSize()-a);return y<v?-1:y>v?1:0});const c=Math.max(.2*a,u);for(let h=0;h<i.length&&i.length>3;h++){const x=i[h];Math.abs(x.getEstimatedModuleSize()-a)>c&&(i.splice(h,1),h--)}}if(i.length>3){let l=0;for(const s of i)l+=s.getEstimatedModuleSize();a=l/i.length,i.sort((s,u)=>{if(u.getCount()===s.getCount()){const c=Math.abs(u.getEstimatedModuleSize()-a),h=Math.abs(s.getEstimatedModuleSize()-a);return c<h?1:c>h?-1:0}else return u.getCount()-s.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}Kt.CENTER_QUORUM=2,Kt.MIN_SKIP=3,Kt.MAX_MODULES=57;class qi{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(ke.NEED_RESULT_POINT_CALLBACK);const a=new Kt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(a)}processFinderPatternInfo(t){const i=t.getTopLeft(),a=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(i,a,l);if(s<1)throw new J("No pattern found in proccess finder.");const u=qi.computeDimension(i,a,l,s),c=_e.getProvisionalVersionForDimension(u),h=c.getDimensionForVersion()-7;let x=null;if(c.getAlignmentPatternCenters().length>0){const O=a.getX()-i.getX()+l.getX(),L=a.getY()-i.getY()+l.getY(),F=1-3/h,V=Math.floor(i.getX()+F*(O-i.getX())),q=Math.floor(i.getY()+F*(L-i.getY()));for(let fe=4;fe<=16;fe<<=1)try{x=this.findAlignmentInRegion(s,V,q,fe);break}catch(ge){if(!(ge instanceof J))throw ge}}const y=qi.createTransform(i,a,l,x,u),v=qi.sampleGrid(this.image,y,u);let T;return x===null?T=[l,i,a]:T=[l,i,a,x],new vr(v,T)}static createTransform(t,i,a,l,s){const u=s-3.5;let c,h,x,y;return l!==null?(c=l.getX(),h=l.getY(),x=u-3,y=x):(c=i.getX()-t.getX()+a.getX(),h=i.getY()-t.getY()+a.getY(),x=u,y=u),Cn.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,x,y,3.5,u,t.getX(),t.getY(),i.getX(),i.getY(),c,h,a.getX(),a.getY())}static sampleGrid(t,i,a){return bn.getInstance().sampleGridWithTransform(t,a,a,i)}static computeDimension(t,i,a,l){const s=nt.round(Te.distance(t,i)/l),u=nt.round(Te.distance(t,a)/l);let c=Math.floor((s+u)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new J("Dimensions could be not found.")}return c}calculateModuleSize(t,i,a){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,a))/2}calculateModuleSizeOneWay(t,i){const a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(a)?l/7:isNaN(l)?a/7:(a+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,a,l){let s=this.sizeOfBlackWhiteBlackRun(t,i,a,l),u=1,c=t-(a-t);c<0?(u=t/(t-c),c=0):c>=this.image.getWidth()&&(u=(this.image.getWidth()-1-t)/(c-t),c=this.image.getWidth()-1);let h=Math.floor(i-(l-i)*u);return u=1,h<0?(u=i/(i-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-i)/(h-i),h=this.image.getHeight()-1),c=Math.floor(t+(c-t)*u),s+=this.sizeOfBlackWhiteBlackRun(t,i,c,h),s-1}sizeOfBlackWhiteBlackRun(t,i,a,l){const s=Math.abs(l-i)>Math.abs(a-t);if(s){let O=t;t=i,i=O,O=a,a=l,l=O}const u=Math.abs(a-t),c=Math.abs(l-i);let h=-u/2;const x=t<a?1:-1,y=i<l?1:-1;let v=0;const T=a+x;for(let O=t,L=i;O!==T;O+=x){const F=s?L:O,V=s?O:L;if(v===1===this.image.get(F,V)){if(v===2)return nt.distance(O,L,t,i);v++}if(h+=c,h>0){if(L===l)break;L+=y,h-=u}}return v===2?nt.distance(a+x,l,t,i):NaN}findAlignmentInRegion(t,i,a,l){const s=Math.floor(l*t),u=Math.max(0,i-s),c=Math.min(this.image.getWidth()-1,i+s);if(c-u<t*3)throw new J("Alignment top exceeds estimated module size.");const h=Math.max(0,a-s),x=Math.min(this.image.getHeight()-1,a+s);if(x-h<t*3)throw new J("Alignment bottom exceeds estimated module size.");return new Ea(this.image,u,h,c-u,x-h,t,this.resultPointCallback).find()}}class Ai{constructor(){this.decoder=new Mr}getDecoder(){return this.decoder}decode(t,i){let a,l;if(i!=null&&i.get(ke.PURE_BARCODE)!==void 0){const h=Ai.extractPureBits(t.getBlackMatrix());a=this.decoder.decodeBitMatrix(h,i),l=Ai.NO_POINTS}else{const h=new qi(t.getBlackMatrix()).detect(i);a=this.decoder.decodeBitMatrix(h.getBits(),i),l=h.getPoints()}a.getOther()instanceof Ts&&a.getOther().applyMirroredCorrection(l);const s=new be(a.getText(),a.getRawBytes(),void 0,l,he.QR_CODE,void 0),u=a.getByteSegments();u!==null&&s.putMetadata(je.BYTE_SEGMENTS,u);const c=a.getECLevel();return c!==null&&s.putMetadata(je.ERROR_CORRECTION_LEVEL,c),a.hasStructuredAppend()&&(s.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,a.getStructuredAppendSequenceNumber()),s.putMetadata(je.STRUCTURED_APPEND_PARITY,a.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),a=t.getBottomRightOnBit();if(i===null||a===null)throw new J;const l=this.moduleSize(i,t);let s=i[1],u=a[1],c=i[0],h=a[0];if(c>=h||s>=u)throw new J;if(u-s!==h-c&&(h=c+(u-s),h>=t.getWidth()))throw new J;const x=Math.round((h-c+1)/l),y=Math.round((u-s+1)/l);if(x<=0||y<=0)throw new J;if(y!==x)throw new J;const v=Math.floor(l/2);s+=v,c+=v;const T=c+Math.floor((x-1)*l)-h;if(T>0){if(T>v)throw new J;c-=T}const O=s+Math.floor((y-1)*l)-u;if(O>0){if(O>v)throw new J;s-=O}const L=new pt(x,y);for(let F=0;F<y;F++){const V=s+Math.floor(F*l);for(let q=0;q<x;q++)t.get(c+Math.floor(q*l),V)&&L.set(q,F)}return L}static moduleSize(t,i){const a=i.getHeight(),l=i.getWidth();let s=t[0],u=t[1],c=!0,h=0;for(;s<l&&u<a;){if(c!==i.get(s,u)){if(++h===5)break;c=!c}s++,u++}if(s===l||u===a)throw new J;return(s-t[0])/7}}Ai.NO_POINTS=new Array;class Le{PDF417Common(){}static getBitCountSum(t){return nt.sum(t)}static toIntArray(t){if(t==null||!t.length)return Le.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let a=0;for(const l of t)i[a++]=l;return i}static getCodeword(t){const i=me.binarySearch(Le.SYMBOL_TABLE,t&262143);return i<0?-1:(Le.CODEWORD_TABLE[i]-1)%Le.NUMBER_OF_CODEWORDS}}Le.NUMBER_OF_CODEWORDS=929,Le.MAX_CODEWORDS_IN_BARCODE=Le.NUMBER_OF_CODEWORDS-1,Le.MIN_ROWS_IN_BARCODE=3,Le.MAX_ROWS_IN_BARCODE=90,Le.MODULES_IN_CODEWORD=17,Le.MODULES_IN_STOP_PATTERN=18,Le.BARS_IN_MODULE=8,Le.EMPTY_INT_ARRAY=new Int32Array([]),Le.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Le.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class yi{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(t,i,a){let l=t.getBlackMatrix(),s=Ve.detect(a,l);return s.length||(l=l.clone(),l.rotate180(),s=Ve.detect(a,l)),new yi(l,s)}static detect(t,i){const a=new Array;let l=0,s=0,u=!1;for(;l<i.getHeight();){const c=Ve.findVertices(i,l,s);if(c[0]==null&&c[3]==null){if(!u)break;u=!1,s=0;for(const h of a)h[1]!=null&&(l=Math.trunc(Math.max(l,h[1].getY()))),h[3]!=null&&(l=Math.max(l,Math.trunc(h[3].getY())));l+=Ve.ROW_STEP;continue}if(u=!0,a.push(c),!t)break;c[2]!=null?(s=Math.trunc(c[2].getX()),l=Math.trunc(c[2].getY())):(s=Math.trunc(c[4].getX()),l=Math.trunc(c[4].getY()))}return a}static findVertices(t,i,a){const l=t.getHeight(),s=t.getWidth(),u=new Array(8);return Ve.copyToResult(u,Ve.findRowsWithPattern(t,l,s,i,a,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),u[4]!=null&&(a=Math.trunc(u[4].getX()),i=Math.trunc(u[4].getY())),Ve.copyToResult(u,Ve.findRowsWithPattern(t,l,s,i,a,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),u}static copyToResult(t,i,a){for(let l=0;l<a.length;l++)t[a[l]]=i[l]}static findRowsWithPattern(t,i,a,l,s,u){const c=new Array(4);let h=!1;const x=new Int32Array(u.length);for(;l<i;l+=Ve.ROW_STEP){let v=Ve.findGuardPattern(t,s,l,a,!1,u,x);if(v!=null){for(;l>0;){const T=Ve.findGuardPattern(t,s,--l,a,!1,u,x);if(T!=null)v=T;else{l++;break}}c[0]=new Te(v[0],l),c[1]=new Te(v[1],l),h=!0;break}}let y=l+1;if(h){let v=0,T=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;y<i;y++){const O=Ve.findGuardPattern(t,T[0],y,a,!1,u,x);if(O!=null&&Math.abs(T[0]-O[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(T[1]-O[1])<Ve.MAX_PATTERN_DRIFT)T=O,v=0;else{if(v>Ve.SKIPPED_ROW_COUNT_MAX)break;v++}}y-=v+1,c[2]=new Te(T[0],y),c[3]=new Te(T[1],y)}return y-l<Ve.BARCODE_MIN_HEIGHT&&me.fill(c,null),c}static findGuardPattern(t,i,a,l,s,u,c){me.fillWithin(c,0,c.length,0);let h=i,x=0;for(;t.get(h,a)&&h>0&&x++<Ve.MAX_PIXEL_DRIFT;)h--;let y=h,v=0,T=u.length;for(let O=s;y<l;y++)if(t.get(y,a)!==O)c[v]++;else{if(v===T-1){if(Ve.patternMatchVariance(c,u,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([h,y]);h+=c[0]+c[1],Ae.arraycopy(c,2,c,0,v-1),c[v-1]=0,c[v]=0,v--}else v++;c[v]=1,O=!O}return v===T-1&&Ve.patternMatchVariance(c,u,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([h,y-1]):null}static patternMatchVariance(t,i,a){let l=t.length,s=0,u=0;for(let x=0;x<l;x++)s+=t[x],u+=i[x];if(s<u)return 1/0;let c=s/u;a*=c;let h=0;for(let x=0;x<l;x++){let y=t[x],v=i[x]*c,T=y>v?y-v:v-y;if(T>a)return 1/0;h+=T}return h/s}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class Ht{constructor(t,i){if(i.length===0)throw new k;this.field=t;let a=i.length;if(a>1&&i[0]===0){let l=1;for(;l<a&&i[l]===0;)l++;l===a?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(a-l),Ae.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let i=this.coefficients[0],a=this.coefficients.length;for(let l=1;l<a;l++)i=this.field.add(this.field.multiply(t,i),this.coefficients[l]);return i}add(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,a=t.coefficients;if(i.length>a.length){let u=i;i=a,a=u}let l=new Int32Array(a.length),s=a.length-i.length;Ae.arraycopy(a,0,l,0,s);for(let u=s;u<a.length;u++)l[u]=this.field.add(i[u-s],a[u]);return new Ht(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Ht?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new k("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Ht(this.field,new Int32Array([0]));let i=this.coefficients,a=i.length,l=t.coefficients,s=l.length,u=new Int32Array(a+s-1);for(let c=0;c<a;c++){let h=i[c];for(let x=0;x<s;x++)u[c+x]=this.field.add(u[c+x],this.field.multiply(h,l[x]))}return new Ht(this.field,u)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let a=0;a<t;a++)i[a]=this.field.subtract(0,this.coefficients[a]);return new Ht(this.field,i)}multiplyScalar(t){if(t===0)return new Ht(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.multiply(this.coefficients[l],t);return new Ht(this.field,a)}multiplyByMonomial(t,i){if(t<0)throw new k;if(i===0)return new Ht(this.field,new Int32Array([0]));let a=this.coefficients.length,l=new Int32Array(a+t);for(let s=0;s<a;s++)l[s]=this.field.multiply(this.coefficients[s],i);return new Ht(this.field,l)}toString(){let t=new Qe;for(let i=this.getDegree();i>=0;i--){let a=this.getCoefficient(i);a!==0&&(a<0?(t.append(" - "),a=-a):t.length()>0&&t.append(" + "),(i===0||a!==1)&&t.append(a),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Ii{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new k;return this.logTable[t]}inverse(t){if(t===0)throw new ma;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class nr extends Ii{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let a=1;for(let l=0;l<t;l++)this.expTable[l]=a,a=a*i%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new k;if(i===0)return this.zero;let a=new Int32Array(t+1);return a[0]=i,new Ht(this,a)}}nr.PDF417_GF=new nr(Le.NUMBER_OF_CODEWORDS,3);class ir{constructor(){this.field=nr.PDF417_GF}decode(t,i,a){let l=new Ht(this.field,t),s=new Int32Array(i),u=!1;for(let L=i;L>0;L--){let F=l.evaluateAt(this.field.exp(L));s[i-L]=F,F!==0&&(u=!0)}if(!u)return 0;let c=this.field.getOne();if(a!=null)for(const L of a){let F=this.field.exp(t.length-1-L),V=new Ht(this.field,new Int32Array([this.field.subtract(0,F),1]));c=c.multiply(V)}let h=new Ht(this.field,s),x=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),h,i),y=x[0],v=x[1],T=this.findErrorLocations(y),O=this.findErrorMagnitudes(v,y,T);for(let L=0;L<T.length;L++){let F=t.length-1-this.field.log(T[L]);if(F<0)throw ce.getChecksumInstance();t[F]=this.field.subtract(t[F],O[L])}return T.length}runEuclideanAlgorithm(t,i,a){if(t.getDegree()<i.getDegree()){let T=t;t=i,i=T}let l=t,s=i,u=this.field.getZero(),c=this.field.getOne();for(;s.getDegree()>=Math.round(a/2);){let T=l,O=u;if(l=s,u=c,l.isZero())throw ce.getChecksumInstance();s=T;let L=this.field.getZero(),F=l.getCoefficient(l.getDegree()),V=this.field.inverse(F);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let q=s.getDegree()-l.getDegree(),fe=this.field.multiply(s.getCoefficient(s.getDegree()),V);L=L.add(this.field.buildMonomial(q,fe)),s=s.subtract(l.multiplyByMonomial(q,fe))}c=L.multiply(u).subtract(O).negative()}let h=c.getCoefficient(0);if(h===0)throw ce.getChecksumInstance();let x=this.field.inverse(h),y=c.multiply(x),v=s.multiply(x);return[y,v]}findErrorLocations(t){let i=t.getDegree(),a=new Int32Array(i),l=0;for(let s=1;s<this.field.getSize()&&l<i;s++)t.evaluateAt(s)===0&&(a[l]=this.field.inverse(s),l++);if(l!==i)throw ce.getChecksumInstance();return a}findErrorMagnitudes(t,i,a){let l=i.getDegree(),s=new Int32Array(l);for(let x=1;x<=l;x++)s[l-x]=this.field.multiply(x,i.getCoefficient(x));let u=new Ht(this.field,s),c=a.length,h=new Int32Array(c);for(let x=0;x<c;x++){let y=this.field.inverse(a[x]),v=this.field.subtract(0,t.evaluateAt(y)),T=this.field.inverse(u.evaluateAt(y));h[x]=this.field.multiply(v,T)}return h}}class Mi{constructor(t,i,a,l,s){t instanceof Mi?this.constructor_2(t):this.constructor_1(t,i,a,l,s)}constructor_1(t,i,a,l,s){const u=i==null||a==null,c=l==null||s==null;if(u&&c)throw new J;u?(i=new Te(0,l.getY()),a=new Te(0,s.getY())):c&&(l=new Te(t.getWidth()-1,i.getY()),s=new Te(t.getWidth()-1,a.getY())),this.image=t,this.topLeft=i,this.bottomLeft=a,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(i.getX(),a.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(a.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Mi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,a){let l=this.topLeft,s=this.bottomLeft,u=this.topRight,c=this.bottomRight;if(t>0){let h=a?this.topLeft:this.topRight,x=Math.trunc(h.getY()-t);x<0&&(x=0);let y=new Te(h.getX(),x);a?l=y:u=y}if(i>0){let h=a?this.bottomLeft:this.bottomRight,x=Math.trunc(h.getY()+i);x>=this.image.getHeight()&&(x=this.image.getHeight()-1);let y=new Te(h.getX(),x);a?s=y:c=y}return new Mi(this.image,l,s,u,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Br{constructor(t,i,a,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=a,this.rowCount=i+a}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Bi{constructor(){this.buffer=""}static form(t,i){let a=-1;function l(u,c,h,x,y,v){if(u==="%%")return"%";if(i[++a]===void 0)return;u=x?parseInt(x.substr(1)):void 0;let T=y?parseInt(y.substr(1)):void 0,O;switch(v){case"s":O=i[a];break;case"c":O=i[a][0];break;case"f":O=parseFloat(i[a]).toFixed(u);break;case"p":O=parseFloat(i[a]).toPrecision(u);break;case"e":O=parseFloat(i[a]).toExponential(u);break;case"x":O=parseInt(i[a]).toString(T||16);break;case"d":O=parseFloat(parseInt(i[a],T||10).toPrecision(u)).toFixed(0);break}O=typeof O=="object"?JSON.stringify(O):(+O).toString(T);let L=parseInt(h),F=h&&h[0]+""=="0"?"0":" ";for(;O.length<L;)O=c!==void 0?O+F:F+O;return O}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...i){this.buffer+=Bi.form(t,i)}toString(){return this.buffer}}class ya{constructor(t){this.boundingBox=new Mi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let a=1;a<ya.MAX_NEARBY_DISTANCE;a++){let l=this.imageRowToCodewordIndex(t)-a;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(t)+a,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Bi;let i=0;for(const a of this.codewords){if(a==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,a.getRowNumber(),a.getValue())}return t.toString()}}ya.MAX_NEARBY_DISTANCE=5;class nn{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[a,l]of this.values.entries()){const s={getKey:()=>a,getValue:()=>l};s.getValue()>t?(t=s.getValue(),i=[],i.push(s.getKey())):s.getValue()===t&&i.push(s.getKey())}return Le.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Li extends ya{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),s=this._isLeft?a.getBottomLeft():a.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.imageRowToCodewordIndex(Math.trunc(s.getY())),h=-1,x=1,y=0;for(let v=u;v<c;v++){if(i[v]==null)continue;let T=i[v],O=T.getRowNumber()-h;if(O===0)y++;else if(O===1)x=Math.max(x,y),y=1,h=T.getRowNumber();else if(O<0||T.getRowNumber()>=t.getRowCount()||O>v)i[v]=null;else{let L;x>2?L=(x-2)*O:L=O;let F=L>=v;for(let V=1;V<=L&&!F;V++)F=i[v-V]!=null;F?i[v]=null:(h=T.getRowNumber(),y=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let a of this.getCodewords())if(a!=null){let l=a.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),a=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(a.getY())),u=this.imageRowToCodewordIndex(Math.trunc(l.getY())),c=this.getCodewords(),h=-1;for(let x=s;x<u;x++){if(c[x]==null)continue;let y=c[x];y.setRowNumberAsRowIndicatorColumn();let v=y.getRowNumber()-h;v===0||(v===1?h=y.getRowNumber():y.getRowNumber()>=t.getRowCount()?c[x]=null:h=y.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new nn,a=new nn,l=new nn,s=new nn;for(let c of t){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let h=c.getValue()%30,x=c.getRowNumber();switch(this._isLeft||(x+=2),x%3){case 0:a.setValue(h*3+1);break;case 1:s.setValue(h/3),l.setValue(h%3);break;case 2:i.setValue(h+1);break}}if(i.getValue().length===0||a.getValue().length===0||l.getValue().length===0||s.getValue().length===0||i.getValue()[0]<1||a.getValue()[0]+l.getValue()[0]<Le.MIN_ROWS_IN_BARCODE||a.getValue()[0]+l.getValue()[0]>Le.MAX_ROWS_IN_BARCODE)return null;let u=new Br(i.getValue()[0],a.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,u),u}removeIncorrectCodewords(t,i){for(let a=0;a<t.length;a++){let l=t[a];if(t[a]==null)continue;let s=l.getValue()%30,u=l.getRowNumber();if(u>i.getRowCount()){t[a]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:s*3+1!==i.getRowCountUpperPart()&&(t[a]=null);break;case 1:(Math.trunc(s/3)!==i.getErrorCorrectionLevel()||s%3!==i.getRowCountLowerPart())&&(t[a]=null);break;case 2:s+1!==i.getColumnCount()&&(t[a]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ui{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Le.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let a=this.detectionResultColumns[i].getCodewords();for(let l=0;l<a.length;l++)a[l]!=null&&(a[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,a))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<t.length;a++)if(t[a]!=null&&i[a]!=null&&t[a].getRowNumber()===i[a].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[a];s!=null&&(s.setRowNumber(t[a].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[a]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let u=this.barcodeColumnCount+1;u>0&&s<this.ADJUST_ROW_NUMBER_SKIP;u--){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=Ui.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let a=0;a<i.length;a++){if(i[a]==null)continue;let l=i[a].getRowNumber(),s=0;for(let u=1;u<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;u++){let c=this.detectionResultColumns[u].getCodewords()[a];c!=null&&(s=Ui.adjustRowNumberIfValid(l,s,c),c.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,a){return a==null||a.hasValidRowNumber()||(a.isValidRowNumber(t)?(a.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,a){if(!this.detectionResultColumns[t-1])return;let l=a[i],s=this.detectionResultColumns[t-1].getCodewords(),u=s;this.detectionResultColumns[t+1]!=null&&(u=this.detectionResultColumns[t+1].getCodewords());let c=new Array(14);c[2]=s[i],c[3]=u[i],i>0&&(c[0]=a[i-1],c[4]=s[i-1],c[5]=u[i-1]),i>1&&(c[8]=a[i-2],c[10]=s[i-2],c[11]=u[i-2]),i<a.length-1&&(c[1]=a[i+1],c[6]=s[i+1],c[7]=u[i+1]),i<a.length-2&&(c[9]=a[i+2],c[12]=s[i+2],c[13]=u[i+2]);for(let h of c)if(Ui.adjustRowNumber(l,h))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Bi;for(let a=0;a<t.getCodewords().length;a++){i.format("CW %3d:",a);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[a];if(s==null){i.format("    |   ");continue}i.format(" %3d|%3d",s.getRowNumber(),s.getValue())}i.format("%n")}return i.toString()}}class wi{constructor(t,i,a,l){this.rowNumber=wi.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(a),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==wi.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}wi.BARCODE_ROW_UNKNOWN=-1;class On{static initialize(){for(let t=0;t<Le.SYMBOL_TABLE.length;t++){let i=Le.SYMBOL_TABLE[t],a=i&1;for(let l=0;l<Le.BARS_IN_MODULE;l++){let s=0;for(;(i&1)===a;)s+=1,i>>=1;a=i&1,On.RATIOS_TABLE[t]||(On.RATIOS_TABLE[t]=new Array(Le.BARS_IN_MODULE)),On.RATIOS_TABLE[t][Le.BARS_IN_MODULE-l-1]=Math.fround(s/Le.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=On.getDecodedCodewordValue(On.sampleBitCounts(t));return i!==-1?i:On.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=nt.sum(t),a=new Int32Array(Le.BARS_IN_MODULE),l=0,s=0;for(let u=0;u<Le.MODULES_IN_CODEWORD;u++){let c=i/(2*Le.MODULES_IN_CODEWORD)+u*i/Le.MODULES_IN_CODEWORD;s+t[l]<=c&&(s+=t[l],l++),a[l]++}return a}static getDecodedCodewordValue(t){let i=On.getBitValue(t);return Le.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let a=0;a<t.length;a++)for(let l=0;l<t[a];l++)i=i<<1|(a%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=nt.sum(t),a=new Array(Le.BARS_IN_MODULE);if(i>1)for(let u=0;u<a.length;u++)a[u]=Math.fround(t[u]/i);let l=Ka.MAX_VALUE,s=-1;this.bSymbolTableReady||On.initialize();for(let u=0;u<On.RATIOS_TABLE.length;u++){let c=0,h=On.RATIOS_TABLE[u];for(let x=0;x<Le.BARS_IN_MODULE;x++){let y=Math.fround(h[x]-a[x]);if(c+=Math.fround(y*y),c>=l)break}c<l&&(l=c,s=Le.SYMBOL_TABLE[u])}return s}}On.bSymbolTableReady=!1,On.RATIOS_TABLE=new Array(Le.SYMBOL_TABLE.length).map(S=>new Array(Le.BARS_IN_MODULE));class Lr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Ur{static parseLong(t,i=void 0){return parseInt(t,i)}}class wa extends p{}wa.kind="NullPointerException";class kr{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,a){if(t==null)throw new wa;if(i<0||i>t.length||a<0||i+a>t.length||i+a<0)throw new we;if(a===0)return;for(let l=0;l<a;l++)this.write(t[i+l])}flush(){}close(){}}class Ns extends p{}class Zo extends kr{constructor(t=32){if(super(),this.count=0,t<0)throw new k("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let a=this.buf.length<<1;if(a-t<0&&(a=t),a<0){if(t<0)throw new Ns;a=de.MAX_VALUE}this.buf=me.copyOfUint8Array(this.buf,a)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,a){if(i<0||i>t.length||a<0||i+a-t.length>0)throw new we;this.ensureCapacity(this.count+a),Ae.arraycopy(t,i,this.buf,this.count,a),this.count+=a}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return me.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var dt;(function(S){S[S.ALPHA=0]="ALPHA",S[S.LOWER=1]="LOWER",S[S.MIXED=2]="MIXED",S[S.PUNCT=3]="PUNCT",S[S.ALPHA_SHIFT=4]="ALPHA_SHIFT",S[S.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(dt||(dt={}));function Rs(){if(typeof window<"u")return window.BigInt||null;if(typeof Mo<"u")return Mo.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let pa;function ki(S){if(typeof pa>"u"&&(pa=Rs()),pa===null)throw new Error("BigInt is not supported!");return pa(S)}function qo(){let S=[];S[0]=ki(1);let t=ki(900);S[1]=t;for(let i=2;i<16;i++)S[i]=S[i-1]*t;return S}class Q{static decode(t,i){let a=new Qe(""),l=ie.ISO8859_1;a.enableDecoding(l);let s=1,u=t[s++],c=new Lr;for(;s<t[0];){switch(u){case Q.TEXT_COMPACTION_MODE_LATCH:s=Q.textCompaction(t,s,a);break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:s=Q.byteCompaction(u,t,l,s,a);break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(t[s++]);break;case Q.NUMERIC_COMPACTION_MODE_LATCH:s=Q.numericCompaction(t,s,a);break;case Q.ECI_CHARSET:ie.getCharacterSetECIByValue(t[s++]);break;case Q.ECI_GENERAL_PURPOSE:s+=2;break;case Q.ECI_USER_DEFINED:s++;break;case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=Q.decodeMacroBlock(t,s,c);break;case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:throw new se;default:s--,s=Q.textCompaction(t,s,a);break}if(s<t.length)u=t[s++];else throw se.getFormatInstance()}if(a.length()===0)throw se.getFormatInstance();let h=new Hn(null,a.toString(),null,i);return h.setOther(c),h}static decodeMacroBlock(t,i,a){if(i+Q.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw se.getFormatInstance();let l=new Int32Array(Q.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<Q.NUMBER_OF_SEQUENCE_CODEWORDS;c++,i++)l[c]=t[i];a.setSegmentIndex(de.parseInt(Q.decodeBase900toBase10(l,Q.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new Qe;i=Q.textCompaction(t,i,s),a.setFileId(s.toString());let u=-1;for(t[i]===Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=i+1);i<t[0];)switch(t[i]){case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Qe;i=Q.textCompaction(t,i+1,c),a.setFileName(c.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new Qe;i=Q.textCompaction(t,i+1,h),a.setSender(h.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let x=new Qe;i=Q.textCompaction(t,i+1,x),a.setAddressee(x.toString());break;case Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let y=new Qe;i=Q.numericCompaction(t,i+1,y),a.setSegmentCount(de.parseInt(y.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let v=new Qe;i=Q.numericCompaction(t,i+1,v),a.setTimestamp(Ur.parseLong(v.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let T=new Qe;i=Q.numericCompaction(t,i+1,T),a.setChecksum(de.parseInt(T.toString()));break;case Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let O=new Qe;i=Q.numericCompaction(t,i+1,O),a.setFileSize(Ur.parseLong(O.toString()));break;default:throw se.getFormatInstance()}break;case Q.MACRO_PDF417_TERMINATOR:i++,a.setLastSegment(!0);break;default:throw se.getFormatInstance()}if(u!==-1){let c=i-u;a.isLastSegment()&&c--,a.setOptionalData(me.copyOfRange(t,u,u+c))}return i}static textCompaction(t,i,a){let l=new Int32Array((t[0]-i)*2),s=new Int32Array((t[0]-i)*2),u=0,c=!1;for(;i<t[0]&&!c;){let h=t[i++];if(h<Q.TEXT_COMPACTION_MODE_LATCH)l[u]=h/30,l[u+1]=h%30,u+=2;else switch(h){case Q.TEXT_COMPACTION_MODE_LATCH:l[u++]=Q.TEXT_COMPACTION_MODE_LATCH;break;case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,c=!0;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[u]=Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=t[i++],s[u]=h,u++;break}}return Q.decodeTextCompaction(l,s,u,a),i}static decodeTextCompaction(t,i,a,l){let s=dt.ALPHA,u=dt.ALPHA,c=0;for(;c<a;){let h=t[c],x="";switch(s){case dt.ALPHA:if(h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case Q.LL:s=dt.LOWER;break;case Q.ML:s=dt.MIXED;break;case Q.PS:u=s,s=dt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.LOWER:if(h<26)x=String.fromCharCode(97+h);else switch(h){case 26:x=" ";break;case Q.AS:u=s,s=dt.ALPHA_SHIFT;break;case Q.ML:s=dt.MIXED;break;case Q.PS:u=s,s=dt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.MIXED:if(h<Q.PL)x=Q.MIXED_CHARS[h];else switch(h){case Q.PL:s=dt.PUNCT;break;case 26:x=" ";break;case Q.LL:s=dt.LOWER;break;case Q.AL:s=dt.ALPHA;break;case Q.PS:u=s,s=dt.PUNCT_SHIFT;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.PUNCT:if(h<Q.PAL)x=Q.PUNCT_CHARS[h];else switch(h){case Q.PAL:s=dt.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.ALPHA_SHIFT:if(s=u,h<26)x=String.fromCharCode(65+h);else switch(h){case 26:x=" ";break;case Q.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break;case dt.PUNCT_SHIFT:if(s=u,h<Q.PAL)x=Q.PUNCT_CHARS[h];else switch(h){case Q.PAL:s=dt.ALPHA;break;case Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[c]);break;case Q.TEXT_COMPACTION_MODE_LATCH:s=dt.ALPHA;break}break}x!==""&&l.append(x),c++}}static byteCompaction(t,i,a,l,s){let u=new Zo,c=0,h=0,x=!1;switch(t){case Q.BYTE_COMPACTION_MODE_LATCH:let y=new Int32Array(6),v=i[l++];for(;l<i[0]&&!x;)switch(y[c++]=v,h=900*h+v,v=i[l++],v){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,x=!0;break;default:if(c%5===0&&c>0){for(let T=0;T<6;++T)u.write(Number(ki(h)>>ki(8*(5-T))));h=0,c=0}break}l===i[0]&&v<Q.TEXT_COMPACTION_MODE_LATCH&&(y[c++]=v);for(let T=0;T<c;T++)u.write(y[T]);break;case Q.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!x;){let T=i[l++];if(T<Q.TEXT_COMPACTION_MODE_LATCH)c++,h=900*h+T;else switch(T){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.NUMERIC_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:l--,x=!0;break}if(c%5===0&&c>0){for(let O=0;O<6;++O)u.write(Number(ki(h)>>ki(8*(5-O))));h=0,c=0}}break}return s.append(gt.decode(u.toByteArray(),a)),l}static numericCompaction(t,i,a){let l=0,s=!1,u=new Int32Array(Q.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!s;){let c=t[i++];if(i===t[0]&&(s=!0),c<Q.TEXT_COMPACTION_MODE_LATCH)u[l]=c,l++;else switch(c){case Q.TEXT_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH:case Q.BYTE_COMPACTION_MODE_LATCH_6:case Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Q.MACRO_PDF417_TERMINATOR:i--,s=!0;break}(l%Q.MAX_NUMERIC_CODEWORDS===0||c===Q.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(a.append(Q.decodeBase900toBase10(u,l)),l=0)}return i}static decodeBase900toBase10(t,i){let a=ki(0);for(let s=0;s<i;s++)a+=Q.EXP900[i-s-1]*ki(t[s]);let l=a.toString();if(l.charAt(0)!=="1")throw new se;return l.substring(1)}}Q.TEXT_COMPACTION_MODE_LATCH=900,Q.BYTE_COMPACTION_MODE_LATCH=901,Q.NUMERIC_COMPACTION_MODE_LATCH=902,Q.BYTE_COMPACTION_MODE_LATCH_6=924,Q.ECI_USER_DEFINED=925,Q.ECI_GENERAL_PURPOSE=926,Q.ECI_CHARSET=927,Q.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Q.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Q.MACRO_PDF417_TERMINATOR=922,Q.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Q.MAX_NUMERIC_CODEWORDS=15,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Q.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Q.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Q.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Q.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Q.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Q.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Q.PL=25,Q.LL=27,Q.AS=27,Q.ML=28,Q.AL=28,Q.PS=29,Q.PAL=29,Q.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Q.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Q.EXP900=Rs()?qo():[],Q.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ye{constructor(){}static decode(t,i,a,l,s,u,c){let h=new Mi(t,i,a,l,s),x=null,y=null,v;for(let L=!0;;L=!1){if(i!=null&&(x=Ye.getRowIndicatorColumn(t,h,i,!0,u,c)),l!=null&&(y=Ye.getRowIndicatorColumn(t,h,l,!1,u,c)),v=Ye.merge(x,y),v==null)throw J.getNotFoundInstance();let F=v.getBoundingBox();if(L&&F!=null&&(F.getMinY()<h.getMinY()||F.getMaxY()>h.getMaxY()))h=F;else break}v.setBoundingBox(h);let T=v.getBarcodeColumnCount()+1;v.setDetectionResultColumn(0,x),v.setDetectionResultColumn(T,y);let O=x!=null;for(let L=1;L<=T;L++){let F=O?L:T-L;if(v.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===T?V=new Li(h,F===0):V=new ya(h),v.setDetectionResultColumn(F,V);let q=-1,fe=q;for(let ge=h.getMinY();ge<=h.getMaxY();ge++){if(q=Ye.getStartColumn(v,F,ge,O),q<0||q>h.getMaxX()){if(fe===-1)continue;q=fe}let ue=Ye.detectCodeword(t,h.getMinX(),h.getMaxX(),O,q,ge,u,c);ue!=null&&(V.setCodeword(ge,ue),fe=q,u=Math.min(u,ue.getWidth()),c=Math.max(c,ue.getWidth()))}}return Ye.createDecoderResult(v)}static merge(t,i){if(t==null&&i==null)return null;let a=Ye.getBarcodeMetadata(t,i);if(a==null)return null;let l=Mi.merge(Ye.adjustBoundingBox(t),Ye.adjustBoundingBox(i));return new Ui(a,l)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let a=Ye.getMax(i),l=0;for(let c of i)if(l+=a-c,c>0)break;let s=t.getCodewords();for(let c=0;l>0&&s[c]==null;c++)l--;let u=0;for(let c=i.length-1;c>=0&&(u+=a-i[c],!(i[c]>0));c--);for(let c=s.length-1;u>0&&s[c]==null;c--)u--;return t.getBoundingBox().addMissingRows(l,u,t.isLeft())}static getMax(t){let i=-1;for(let a of t)i=Math.max(i,a);return i}static getBarcodeMetadata(t,i){let a;if(t==null||(a=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?a:a.getColumnCount()!==l.getColumnCount()&&a.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&a.getRowCount()!==l.getRowCount()?null:a}static getRowIndicatorColumn(t,i,a,l,s,u){let c=new Li(i,l);for(let h=0;h<2;h++){let x=h===0?1:-1,y=Math.trunc(Math.trunc(a.getX()));for(let v=Math.trunc(Math.trunc(a.getY()));v<=i.getMaxY()&&v>=i.getMinY();v+=x){let T=Ye.detectCodeword(t,0,t.getWidth(),l,y,v,s,u);T!=null&&(c.setCodeword(v,T),l?y=T.getStartX():y=T.getEndX())}}return c}static adjustCodewordCount(t,i){let a=i[0][1],l=a.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-Ye.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Le.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();a.setValue(s)}else l[0]!==s&&a.setValue(s)}static createDecoderResult(t){let i=Ye.createBarcodeMatrix(t);Ye.adjustCodewordCount(t,i);let a=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],u=new Array;for(let h=0;h<t.getBarcodeRowCount();h++)for(let x=0;x<t.getBarcodeColumnCount();x++){let y=i[h][x+1].getValue(),v=h*t.getBarcodeColumnCount()+x;y.length===0?a.push(v):y.length===1?l[v]=y[0]:(u.push(v),s.push(y))}let c=new Array(s.length);for(let h=0;h<c.length;h++)c[h]=s[h];return Ye.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Le.toIntArray(a),Le.toIntArray(u),c)}static createDecoderResultFromAmbiguousValues(t,i,a,l,s){let u=new Int32Array(l.length),c=100;for(;c-- >0;){for(let h=0;h<u.length;h++)i[l[h]]=s[h][u[h]];try{return Ye.decodeCodewords(i,t,a)}catch(h){if(!(h instanceof ce))throw h}if(u.length===0)throw ce.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<s[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw ce.getChecksumInstance()}throw ce.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let s=0;s<i[l].length;s++)i[l][s]=new nn;let a=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let u=s.getRowNumber();if(u>=0){if(u>=i.length)continue;i[u][a].setValue(s.getValue())}}}a++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,a,l){let s=l?1:-1,u=null;if(Ye.isValidBarcodeColumn(t,i-s)&&(u=t.getDetectionResultColumn(i-s).getCodeword(a)),u!=null)return l?u.getEndX():u.getStartX();if(u=t.getDetectionResultColumn(i).getCodewordNearby(a),u!=null)return l?u.getStartX():u.getEndX();if(Ye.isValidBarcodeColumn(t,i-s)&&(u=t.getDetectionResultColumn(i-s).getCodewordNearby(a)),u!=null)return l?u.getEndX():u.getStartX();let c=0;for(;Ye.isValidBarcodeColumn(t,i-s);){i-=s;for(let h of t.getDetectionResultColumn(i).getCodewords())if(h!=null)return(l?h.getEndX():h.getStartX())+s*c*(h.getEndX()-h.getStartX());c++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,a,l,s,u,c,h){s=Ye.adjustCodewordStartColumn(t,i,a,l,s,u);let x=Ye.getModuleBitCount(t,i,a,l,s,u);if(x==null)return null;let y,v=nt.sum(x);if(l)y=s+v;else{for(let L=0;L<x.length/2;L++){let F=x[L];x[L]=x[x.length-1-L],x[x.length-1-L]=F}y=s,s=y-v}if(!Ye.checkCodewordSkew(v,c,h))return null;let T=On.getDecodedValue(x),O=Le.getCodeword(T);return O===-1?null:new wi(s,y,Ye.getCodewordBucketNumber(T),O)}static getModuleBitCount(t,i,a,l,s,u){let c=s,h=new Int32Array(8),x=0,y=l?1:-1,v=l;for(;(l?c<a:c>=i)&&x<h.length;)t.get(c,u)===v?(h[x]++,c+=y):(x++,v=!v);return x===h.length||c===(l?a:i)&&x===h.length-1?h:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,a,l,s,u){let c=s,h=l?-1:1;for(let x=0;x<2;x++){for(;(l?c>=i:c<a)&&l===t.get(c,u);){if(Math.abs(s-c)>Ye.CODEWORD_SKEW_SIZE)return s;c+=h}h=-h,l=!l}return c}static checkCodewordSkew(t,i,a){return i-Ye.CODEWORD_SKEW_SIZE<=t&&t<=a+Ye.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,a){if(t.length===0)throw se.getFormatInstance();let l=1<<i+1,s=Ye.correctErrors(t,a,l);Ye.verifyCodewordCount(t,l);let u=Q.decode(t,""+i);return u.setErrorsCorrected(s),u.setErasures(a.length),u}static correctErrors(t,i,a){if(i!=null&&i.length>a/2+Ye.MAX_ERRORS||a<0||a>Ye.MAX_EC_CODEWORDS)throw ce.getChecksumInstance();return Ye.errorCorrection.decode(t,a,i)}static verifyCodewordCount(t,i){if(t.length<4)throw se.getFormatInstance();let a=t[0];if(a>t.length)throw se.getFormatInstance();if(a===0)if(i<t.length)t[0]=t.length-i;else throw se.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),a=0,l=i.length-1;for(;!((t&1)!==a&&(a=t&1,l--,l<0));)i[l]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return Ye.getCodewordBucketNumber(Ye.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Bi;for(let a=0;a<t.length;a++){i.format("Row %2d: ",a);for(let l=0;l<t[a].length;l++){let s=t[a][l];s.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}i.format("%n")}return i.toString()}}Ye.CODEWORD_SKEW_SIZE=2,Ye.MAX_ERRORS=3,Ye.MAX_EC_CODEWORDS=512,Ye.errorCorrection=new ir;class fn{decode(t,i=null){let a=fn.decode(t,i,!1);if(a==null||a.length===0||a[0]==null)throw J.getNotFoundInstance();return a[0]}decodeMultiple(t,i=null){try{return fn.decode(t,i,!0)}catch(a){throw a instanceof se||a instanceof ce?J.getNotFoundInstance():a}}static decode(t,i,a){const l=new Array,s=Ve.detectMultiple(t,i,a);for(const u of s.getPoints()){const c=Ye.decode(s.getBits(),u[4],u[5],u[6],u[7],fn.getMinCodewordWidth(u),fn.getMaxCodewordWidth(u)),h=new be(c.getText(),c.getRawBytes(),void 0,u,he.PDF_417);h.putMetadata(je.ERROR_CORRECTION_LEVEL,c.getECLevel());const x=c.getOther();x!=null&&h.putMetadata(je.PDF417_EXTRA_METADATA,x),l.push(h)}return l.map(u=>u)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?de.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(fn.getMaxWidth(t[0],t[4]),fn.getMaxWidth(t[6],t[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.max(fn.getMaxWidth(t[1],t[5]),fn.getMaxWidth(t[7],t[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(fn.getMinWidth(t[0],t[4]),fn.getMinWidth(t[6],t[2])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN),Math.min(fn.getMinWidth(t[1],t[5]),fn.getMinWidth(t[7],t[3])*Le.MODULES_IN_CODEWORD/Le.MODULES_IN_STOP_PATTERN)))}reset(){}}class ar extends p{}ar.kind="ReaderException";class _s{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!A(t)&&t.get(ke.TRY_HARDER)===!0,a=A(t)?null:t.get(ke.POSSIBLE_FORMATS),l=new Array;if(!A(a)){const s=a.some(u=>u===he.UPC_A||u===he.UPC_E||u===he.EAN_13||u===he.EAN_8||u===he.CODABAR||u===he.CODE_39||u===he.CODE_93||u===he.CODE_128||u===he.ITF||u===he.RSS_14||u===he.RSS_EXPANDED);s&&!i&&l.push(new _i(t,this.verbose)),a.includes(he.QR_CODE)&&l.push(new Ai),a.includes(he.DATA_MATRIX)&&l.push(new Qn),a.includes(he.AZTEC)&&l.push(new Tr),a.includes(he.PDF_417)&&l.push(new fn),s&&i&&l.push(new _i(t,this.verbose))}l.length===0&&(i||l.push(new _i(t,this.verbose)),l.push(new Ai),l.push(new Qn),l.push(new Tr),l.push(new fn),i&&l.push(new _i(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new ar("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(a){if(a instanceof ar)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class Wo extends Ee{constructor(t=null,i=500){const a=new _s;a.setHints(t),super(a,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Qo extends Ee{constructor(t=500){super(new fn,t)}}class Ko extends Ee{constructor(t=500){super(new Ai,t)}}var rr;(function(S){S[S.ERROR_CORRECTION=0]="ERROR_CORRECTION",S[S.CHARACTER_SET=1]="CHARACTER_SET",S[S.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",S[S.MIN_SIZE=3]="MIN_SIZE",S[S.MAX_SIZE=4]="MAX_SIZE",S[S.MARGIN=5]="MARGIN",S[S.PDF417_COMPACT=6]="PDF417_COMPACT",S[S.PDF417_COMPACTION=7]="PDF417_COMPACTION",S[S.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",S[S.AZTEC_LAYERS=9]="AZTEC_LAYERS",S[S.QR_VERSION=10]="QR_VERSION"})(rr||(rr={}));var Jt=rr;class Sl{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new ln(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let a=i[i.length-1];const l=this.field;for(let s=i.length;s<=t;s++){const u=a.multiply(new ln(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));i.push(u),a=u}}return i[t]}encode(t,i){if(i===0)throw new k("No error correction bytes");const a=t.length-i;if(a<=0)throw new k("No data bytes provided");const l=this.buildGenerator(i),s=new Int32Array(a);Ae.arraycopy(t,0,s,0,a);let u=new ln(this.field,s);u=u.multiplyByMonomial(i,1);const h=u.divide(l)[1].getCoefficients(),x=i-h.length;for(let y=0;y<x;y++)t[a+y]=0;Ae.arraycopy(h,0,t,a+x,h.length)}}class kt{constructor(){}static applyMaskPenaltyRule1(t){return kt.applyMaskPenaltyRule1Internal(t,!0)+kt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s-1;u++){const c=a[u];for(let h=0;h<l-1;h++){const x=c[h];x===c[h+1]&&x===a[u+1][h]&&x===a[u+1][h+1]&&i++}}return kt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let u=0;u<s;u++)for(let c=0;c<l;c++){const h=a[u];c+6<l&&h[c]===1&&h[c+1]===0&&h[c+2]===1&&h[c+3]===1&&h[c+4]===1&&h[c+5]===0&&h[c+6]===1&&(kt.isWhiteHorizontal(h,c-4,c)||kt.isWhiteHorizontal(h,c+7,c+11))&&i++,u+6<s&&a[u][c]===1&&a[u+1][c]===0&&a[u+2][c]===1&&a[u+3][c]===1&&a[u+4][c]===1&&a[u+5][c]===0&&a[u+6][c]===1&&(kt.isWhiteVertical(a,c,u-4,u)||kt.isWhiteVertical(a,c,u+7,u+11))&&i++}return i*kt.N3}static isWhiteHorizontal(t,i,a){i=Math.max(i,0),a=Math.min(a,t.length);for(let l=i;l<a;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,i,a,l){a=Math.max(a,0),l=Math.min(l,t.length);for(let s=a;s<l;s++)if(t[s][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const a=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let h=0;h<s;h++){const x=a[h];for(let y=0;y<l;y++)x[y]===1&&i++}const u=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-u)*10/u)*kt.N4}static getDataMaskBit(t,i,a){let l,s;switch(t){case 0:l=a+i&1;break;case 1:l=a&1;break;case 2:l=i%3;break;case 3:l=(a+i)%3;break;case 4:l=Math.floor(a/2)+Math.floor(i/3)&1;break;case 5:s=a*i,l=(s&1)+s%3;break;case 6:s=a*i,l=(s&1)+s%3&1;break;case 7:s=a*i,l=s%3+(a+i&1)&1;break;default:throw new k("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,i){let a=0;const l=i?t.getHeight():t.getWidth(),s=i?t.getWidth():t.getHeight(),u=t.getArray();for(let c=0;c<l;c++){let h=0,x=-1;for(let y=0;y<s;y++){const v=i?u[c][y]:u[y][c];v===x?h++:(h>=5&&(a+=kt.N1+(h-5)),h=1,x=v)}h>=5&&(a+=kt.N1+(h-5))}return a}}kt.N1=3,kt.N2=3,kt.N3=40,kt.N4=10;class lr{constructor(t,i){this.width=t,this.height=i;const a=new Array(i);for(let l=0;l!==i;l++)a[l]=new Uint8Array(t);this.bytes=a}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,a){this.bytes[i][t]=a}setBoolean(t,i,a){this.bytes[i][t]=a?1:0}clear(t){for(const i of this.bytes)me.fill(i,t)}equals(t){if(!(t instanceof lr))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let a=0,l=this.height;a<l;++a){const s=this.bytes[a],u=i.bytes[a];for(let c=0,h=this.width;c<h;++c)if(s[c]!==u[c])return!1}return!0}toString(){const t=new Qe;for(let i=0,a=this.height;i<a;++i){const l=this.bytes[i];for(let s=0,u=this.width;s<u;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class Wi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new Qe;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<Wi.NUM_MASK_PATTERNS}}Wi.NUM_MASK_PATTERNS=8;class Et extends p{}Et.kind="WriterException";class Ue{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,a,l,s){Ue.clearMatrix(s),Ue.embedBasicPatterns(a,s),Ue.embedTypeInfo(i,l,s),Ue.maybeEmbedVersionInfo(a,s),Ue.embedDataBits(t,l,s)}static embedBasicPatterns(t,i){Ue.embedPositionDetectionPatternsAndSeparators(i),Ue.embedDarkDotAtLeftBottomCorner(i),Ue.maybeEmbedPositionAdjustmentPatterns(t,i),Ue.embedTimingPatterns(i)}static embedTypeInfo(t,i,a){const l=new Oe;Ue.makeTypeInfoBits(t,i,l);for(let s=0,u=l.getSize();s<u;++s){const c=l.get(l.getSize()-1-s),h=Ue.TYPE_INFO_COORDINATES[s],x=h[0],y=h[1];if(a.setBoolean(x,y,c),s<8){const v=a.getWidth()-s-1;a.setBoolean(v,8,c)}else{const T=a.getHeight()-7+(s-8);a.setBoolean(8,T,c)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const a=new Oe;Ue.makeVersionInfoBits(t,a);let l=17;for(let s=0;s<6;++s)for(let u=0;u<3;++u){const c=a.get(l);l--,i.setBoolean(s,i.getHeight()-11+u,c),i.setBoolean(i.getHeight()-11+u,s,c)}}static embedDataBits(t,i,a){let l=0,s=-1,u=a.getWidth()-1,c=a.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);c>=0&&c<a.getHeight();){for(let h=0;h<2;++h){const x=u-h;if(!Ue.isEmpty(a.get(x,c)))continue;let y;l<t.getSize()?(y=t.get(l),++l):y=!1,i!==255&&kt.getDataMaskBit(i,x,c)&&(y=!y),a.setBoolean(x,c,y)}c+=s}s=-s,c+=s,u-=2}if(l!==t.getSize())throw new Et("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-de.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new k("0 polynomial");const a=Ue.findMSBSet(i);for(t<<=a-1;Ue.findMSBSet(t)>=a;)t^=i<<Ue.findMSBSet(t)-a;return t}static makeTypeInfoBits(t,i,a){if(!Wi.isValidMaskPattern(i))throw new Et("Invalid mask pattern");const l=t.getBits()<<3|i;a.appendBits(l,5);const s=Ue.calculateBCHCode(l,Ue.TYPE_INFO_POLY);a.appendBits(s,10);const u=new Oe;if(u.appendBits(Ue.TYPE_INFO_MASK_PATTERN,15),a.xor(u),a.getSize()!==15)throw new Et("should not happen but we got: "+a.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const a=Ue.calculateBCHCode(t.getVersionNumber(),Ue.VERSION_INFO_POLY);if(i.appendBits(a,12),i.getSize()!==18)throw new Et("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const a=(i+1)%2;Ue.isEmpty(t.get(i,6))&&t.setNumber(i,6,a),Ue.isEmpty(t.get(6,i))&&t.setNumber(6,i,a)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new Et;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,a){for(let l=0;l<8;++l){if(!Ue.isEmpty(a.get(t+l,i)))throw new Et;a.setNumber(t+l,i,0)}}static embedVerticalSeparationPattern(t,i,a){for(let l=0;l<7;++l){if(!Ue.isEmpty(a.get(t,i+l)))throw new Et;a.setNumber(t,i+l,0)}}static embedPositionAdjustmentPattern(t,i,a){for(let l=0;l<5;++l){const s=Ue.POSITION_ADJUSTMENT_PATTERN[l];for(let u=0;u<5;++u)a.setNumber(t+u,i+l,s[u])}}static embedPositionDetectionPattern(t,i,a){for(let l=0;l<7;++l){const s=Ue.POSITION_DETECTION_PATTERN[l];for(let u=0;u<7;++u)a.setNumber(t+u,i+l,s[u])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Ue.POSITION_DETECTION_PATTERN[0].length;Ue.embedPositionDetectionPattern(0,0,t),Ue.embedPositionDetectionPattern(t.getWidth()-i,0,t),Ue.embedPositionDetectionPattern(0,t.getWidth()-i,t);const a=8;Ue.embedHorizontalSeparationPattern(0,a-1,t),Ue.embedHorizontalSeparationPattern(t.getWidth()-a,a-1,t),Ue.embedHorizontalSeparationPattern(0,t.getWidth()-a,t);const l=7;Ue.embedVerticalSeparationPattern(l,0,t),Ue.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Ue.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const a=t.getVersionNumber()-1,l=Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[a];for(let s=0,u=l.length;s!==u;s++){const c=l[s];if(c>=0)for(let h=0;h!==u;h++){const x=l[h];x>=0&&Ue.isEmpty(i.get(x,c))&&Ue.embedPositionAdjustmentPattern(x-2,c-2,i)}}}}Ue.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ue.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ue.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ue.VERSION_INFO_POLY=7973,Ue.TYPE_INFO_POLY=1335,Ue.TYPE_INFO_MASK_PATTERN=21522;class Jo{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class _t{constructor(){}static calculateMaskPenalty(t){return kt.applyMaskPenaltyRule1(t)+kt.applyMaskPenaltyRule2(t)+kt.applyMaskPenaltyRule3(t)+kt.applyMaskPenaltyRule4(t)}static encode(t,i,a=null){let l=_t.DEFAULT_BYTE_MODE_ENCODING;const s=a!==null&&a.get(Jt.CHARACTER_SET)!==void 0;s&&(l=a.get(Jt.CHARACTER_SET).toString());const u=this.chooseMode(t,l),c=new Oe;if(u===De.BYTE&&(s||_t.DEFAULT_BYTE_MODE_ENCODING!==l)){const ge=ie.getCharacterSetECIByName(l);ge!==void 0&&this.appendECI(ge,c)}this.appendModeInfo(u,c);const h=new Oe;this.appendBytes(t,u,h,l);let x;if(a!==null&&a.get(Jt.QR_VERSION)!==void 0){const ge=Number.parseInt(a.get(Jt.QR_VERSION).toString(),10);x=_e.getVersionForNumber(ge);const ue=this.calculateBitsNeeded(u,c,h,x);if(!this.willFit(ue,x,i))throw new Et("Data too big for requested version")}else x=this.recommendVersion(i,u,c,h);const y=new Oe;y.appendBitArray(c);const v=u===De.BYTE?h.getSizeInBytes():t.length;this.appendLengthInfo(v,x,u,y),y.appendBitArray(h);const T=x.getECBlocksForLevel(i),O=x.getTotalCodewords()-T.getTotalECCodewords();this.terminateBits(O,y);const L=this.interleaveWithECBytes(y,x.getTotalCodewords(),O,T.getNumBlocks()),F=new Wi;F.setECLevel(i),F.setMode(u),F.setVersion(x);const V=x.getDimensionForVersion(),q=new lr(V,V),fe=this.chooseMaskPattern(L,i,x,q);return F.setMaskPattern(fe),Ue.buildMatrix(L,i,x,fe,q),F.setMatrix(q),F}static recommendVersion(t,i,a,l){const s=this.calculateBitsNeeded(i,a,l,_e.getVersionForNumber(1)),u=this.chooseVersion(s,t),c=this.calculateBitsNeeded(i,a,l,u);return this.chooseVersion(c,t)}static calculateBitsNeeded(t,i,a,l){return i.getSize()+t.getCharacterCountBits(l)+a.getSize()}static getAlphanumericCode(t){return t<_t.ALPHANUMERIC_TABLE.length?_t.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(ie.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return De.KANJI;let a=!1,l=!1;for(let s=0,u=t.length;s<u;++s){const c=t.charAt(s);if(_t.isDigit(c))a=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)l=!0;else return De.BYTE}return l?De.ALPHANUMERIC:a?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=gt.encode(t,ie.SJIS)}catch{return!1}const a=i.length;if(a%2!==0)return!1;for(let l=0;l<a;l+=2){const s=i[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,i,a,l){let s=Number.MAX_SAFE_INTEGER,u=-1;for(let c=0;c<Wi.NUM_MASK_PATTERNS;c++){Ue.buildMatrix(t,i,a,c,l);let h=this.calculateMaskPenalty(l);h<s&&(s=h,u=c)}return u}static chooseVersion(t,i){for(let a=1;a<=40;a++){const l=_e.getVersionForNumber(a);if(_t.willFit(t,l,i))return l}throw new Et("Data too big")}static willFit(t,i,a){const l=i.getTotalCodewords(),u=i.getECBlocksForLevel(a).getTotalECCodewords(),c=l-u,h=(t+7)/8;return c>=h}static terminateBits(t,i){const a=t*8;if(i.getSize()>a)throw new Et("data bits cannot fit in the QR Code"+i.getSize()+" > "+a);for(let u=0;u<4&&i.getSize()<a;++u)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let u=l;u<8;u++)i.appendBit(!1);const s=t-i.getSizeInBytes();for(let u=0;u<s;++u)i.appendBits((u&1)===0?236:17,8);if(i.getSize()!==a)throw new Et("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,a,l,s,u){if(l>=a)throw new Et("Block ID too large");const c=t%a,h=a-c,x=Math.floor(t/a),y=x+1,v=Math.floor(i/a),T=v+1,O=x-v,L=y-T;if(O!==L)throw new Et("EC bytes mismatch");if(a!==h+c)throw new Et("RS blocks mismatch");if(t!==(v+O)*h+(T+L)*c)throw new Et("Total bytes mismatch");l<h?(s[0]=v,u[0]=O):(s[0]=T,u[0]=L)}static interleaveWithECBytes(t,i,a,l){if(t.getSizeInBytes()!==a)throw new Et("Number of bits and data bytes does not match");let s=0,u=0,c=0;const h=new Array;for(let y=0;y<l;++y){const v=new Int32Array(1),T=new Int32Array(1);_t.getNumDataBytesAndNumECBytesForBlockID(i,a,l,y,v,T);const O=v[0],L=new Uint8Array(O);t.toBytes(8*s,L,0,O);const F=_t.generateECBytes(L,T[0]);h.push(new Jo(L,F)),u=Math.max(u,O),c=Math.max(c,F.length),s+=v[0]}if(a!==s)throw new Et("Data bytes does not match offset");const x=new Oe;for(let y=0;y<u;++y)for(const v of h){const T=v.getDataBytes();y<T.length&&x.appendBits(T[y],8)}for(let y=0;y<c;++y)for(const v of h){const T=v.getErrorCorrectionBytes();y<T.length&&x.appendBits(T[y],8)}if(i!==x.getSizeInBytes())throw new Et("Interleaving error: "+i+" and "+x.getSizeInBytes()+" differ.");return x}static generateECBytes(t,i){const a=t.length,l=new Int32Array(a+i);for(let u=0;u<a;u++)l[u]=t[u]&255;new Sl(at.QR_CODE_FIELD_256).encode(l,i);const s=new Uint8Array(i);for(let u=0;u<i;u++)s[u]=l[a+u];return s}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,a,l){const s=a.getCharacterCountBits(i);if(t>=1<<s)throw new Et(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,i,a,l){switch(i){case De.NUMERIC:_t.appendNumericBytes(t,a);break;case De.ALPHANUMERIC:_t.appendAlphanumericBytes(t,a);break;case De.BYTE:_t.append8BitBytes(t,a,l);break;case De.KANJI:_t.appendKanjiBytes(t,a);break;default:throw new Et("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=_t.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const a=t.length;let l=0;for(;l<a;){const s=_t.getDigit(t.charAt(l));if(l+2<a){const u=_t.getDigit(t.charAt(l+1)),c=_t.getDigit(t.charAt(l+2));i.appendBits(s*100+u*10+c,10),l+=3}else if(l+1<a){const u=_t.getDigit(t.charAt(l+1));i.appendBits(s*10+u,7),l+=2}else i.appendBits(s,4),l++}}static appendAlphanumericBytes(t,i){const a=t.length;let l=0;for(;l<a;){const s=_t.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new Et;if(l+1<a){const u=_t.getAlphanumericCode(t.charCodeAt(l+1));if(u===-1)throw new Et;i.appendBits(s*45+u,11),l+=2}else i.appendBits(s,6),l++}}static append8BitBytes(t,i,a){let l;try{l=gt.encode(t,a)}catch(s){throw new Et(s)}for(let s=0,u=l.length;s!==u;s++){const c=l[s];i.appendBits(c,8)}}static appendKanjiBytes(t,i){let a;try{a=gt.encode(t,ie.SJIS)}catch(s){throw new Et(s)}const l=a.length;for(let s=0;s<l;s+=2){const u=a[s]&255,c=a[s+1]&255,h=u<<8&4294967295|c;let x=-1;if(h>=33088&&h<=40956?x=h-33088:h>=57408&&h<=60351&&(x=h-49472),x===-1)throw new Et("Invalid byte sequence");const y=(x>>8)*192+(x&255);i.appendBits(y,13)}}static appendECI(t,i){i.appendBits(De.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}_t.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),_t.DEFAULT_BYTE_MODE_ENCODING=ie.UTF8.getName();class Qi{write(t,i,a,l=null){if(t.length===0)throw new k("Found empty contents");if(i<0||a<0)throw new k("Requested dimensions are too small: "+i+"x"+a);let s=ht.L,u=Qi.QUIET_ZONE_SIZE;l!==null&&(l.get(Jt.ERROR_CORRECTION)!==void 0&&(s=ht.fromString(l.get(Jt.ERROR_CORRECTION).toString())),l.get(Jt.MARGIN)!==void 0&&(u=Number.parseInt(l.get(Jt.MARGIN).toString(),10)));const c=_t.encode(t,s,l);return this.renderResult(c,i,a,u)}writeToDom(t,i,a,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const u=this.write(i,a,l,s);t&&t.appendChild(u)}renderResult(t,i,a,l){const s=t.getMatrix();if(s===null)throw new ri;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,x=c+l*2,y=Math.max(i,h),v=Math.max(a,x),T=Math.min(Math.floor(y/h),Math.floor(v/x)),O=Math.floor((y-u*T)/2),L=Math.floor((v-c*T)/2),F=this.createSVGElement(y,v);for(let V=0,q=L;V<c;V++,q+=T)for(let fe=0,ge=O;fe<u;fe++,ge+=T)if(s.get(fe,V)===1){const ue=this.createSvgRectElement(ge,q,T,T);F.appendChild(ue)}return F}createSVGElement(t,i){const a=document.createElementNS(Qi.SVG_NS,"svg");return a.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width",i.toString()),a}createSvgRectElement(t,i,a,l){const s=document.createElementNS(Qi.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"height",a.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}Qi.QUIET_ZONE_SIZE=4,Qi.SVG_NS="http://www.w3.org/2000/svg";class Ca{encode(t,i,a,l,s){if(t.length===0)throw new k("Found empty contents");if(i!==he.QR_CODE)throw new k("Can only encode QR_CODE, but got "+i);if(a<0||l<0)throw new k(`Requested dimensions are too small: ${a}x${l}`);let u=ht.L,c=Ca.QUIET_ZONE_SIZE;s!==null&&(s.get(Jt.ERROR_CORRECTION)!==void 0&&(u=ht.fromString(s.get(Jt.ERROR_CORRECTION).toString())),s.get(Jt.MARGIN)!==void 0&&(c=Number.parseInt(s.get(Jt.MARGIN).toString(),10)));const h=_t.encode(t,u,s);return Ca.renderResult(h,a,l,c)}static renderResult(t,i,a,l){const s=t.getMatrix();if(s===null)throw new ri;const u=s.getWidth(),c=s.getHeight(),h=u+l*2,x=c+l*2,y=Math.max(i,h),v=Math.max(a,x),T=Math.min(Math.floor(y/h),Math.floor(v/x)),O=Math.floor((y-u*T)/2),L=Math.floor((v-c*T)/2),F=new pt(y,v);for(let V=0,q=L;V<c;V++,q+=T)for(let fe=0,ge=O;fe<u;fe++,ge+=T)s.get(fe,V)===1&&F.setRegion(ge,q,T,T);return F}}Ca.QUIET_ZONE_SIZE=4;class $o{encode(t,i,a,l,s){let u;switch(i){case he.QR_CODE:u=new Ca;break;default:throw new k("No encoder available for format "+i)}return u.encode(t,i,a,l,s)}}class si extends oe{constructor(t,i,a,l,s,u,c,h){if(super(u,c),this.yuvData=t,this.dataWidth=i,this.dataHeight=a,this.left=l,this.top=s,l+u>i||s+c>a)throw new k("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,c)}getRow(t,i){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return Ae.arraycopy(this.yuvData,l,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const a=t*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Ae.arraycopy(this.yuvData,s,l,0,a),l;for(let u=0;u<i;u++){const c=u*t;Ae.arraycopy(this.yuvData,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,a,l){return new si(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,a,l,!1)}renderThumbnail(){const t=this.getWidth()/si.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/si.THUMBNAIL_SCALE_FACTOR,a=new Int32Array(t*i),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let u=0;u<i;u++){const c=u*t;for(let h=0;h<t;h++){const x=l[s+h*si.THUMBNAIL_SCALE_FACTOR]&255;a[c+h]=4278190080|x*65793}s+=this.dataWidth*si.THUMBNAIL_SCALE_FACTOR}return a}getThumbnailWidth(){return this.getWidth()/si.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/si.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const a=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<i;l++,s+=this.dataWidth){const u=s+t/2;for(let c=s,h=s+t-1;c<u;c++,h--){const x=a[c];a[c]=a[h],a[h]=x}}}invert(){return new Fe(this)}}si.THUMBNAIL_SCALE_FACTOR=2;class sr extends oe{constructor(t,i,a,l,s,u,c){if(super(i,a),this.dataWidth=l,this.dataHeight=s,this.left=u,this.top=c,t.BYTES_PER_ELEMENT===4){const h=i*a,x=new Uint8ClampedArray(h);for(let y=0;y<h;y++){const v=t[y],T=v>>16&255,O=v>>7&510,L=v&255;x[y]=(T+O+L)/4&255}this.luminances=x}else this.luminances=t;if(l===void 0&&(this.dataWidth=i),s===void 0&&(this.dataHeight=a),u===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+a>this.dataHeight)throw new k("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new k("Requested row is outside the image: "+t);const a=this.getWidth();(i==null||i.length<a)&&(i=new Uint8ClampedArray(a));const l=(t+this.top)*this.dataWidth+this.left;return Ae.arraycopy(this.luminances,l,i,0,a),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const a=t*i,l=new Uint8ClampedArray(a);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Ae.arraycopy(this.luminances,s,l,0,a),l;for(let u=0;u<i;u++){const c=u*t;Ae.arraycopy(this.luminances,s,l,c,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,a,l){return new sr(this.luminances,a,l,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new Fe(this)}}class ba extends ie{static forName(t){return this.getCharacterSetECIByName(t)}}class vl{}vl.ISO_8859_1=ie.ISO8859_1;class Tl{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class Nl{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class Os{constructor(t){this.previous=t}getPrevious(){return this.previous}}class Ki extends Os{constructor(t,i,a){super(t),this.value=i,this.bitCount=a}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new Ki(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Ki(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+de.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class Fr extends Ki{constructor(t,i,a){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=a}appendTo(t,i){for(let a=0;a<this.binaryShiftByteCount;a++)(a===0||a===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):a===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+a],8)}addBinaryShift(t,i){return new Fr(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Sa(S,t,i){return new Fr(S,t,i)}function or(S,t,i){return new Ki(S,t,i)}const eu=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Fi=0,ur=1,kn=2,va=3,Dn=4,tu=new Ki(null,0,0),Ta=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Ds(S){for(let t of S)me.fill(t,-1);return S[Fi][Dn]=0,S[ur][Dn]=0,S[ur][Fi]=28,S[va][Dn]=0,S[kn][Dn]=0,S[kn][Fi]=15,S}const Rl=Ds(me.createInt32Array(6,6));class Vn{constructor(t,i,a,l){this.token=t,this.mode=i,this.binaryShiftByteCount=a,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let a=this.bitCount,l=this.token;if(t!==this.mode){let u=Ta[this.mode][t];l=or(l,u&65535,u>>16),a+=u>>16}let s=t===kn?4:5;return l=or(l,i,s),new Vn(l,t,0,a+s)}shiftAndAppend(t,i){let a=this.token,l=this.mode===kn?4:5;return a=or(a,Rl[this.mode][t],l),a=or(a,i,5),new Vn(a,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let i=this.token,a=this.mode,l=this.bitCount;if(this.mode===Dn||this.mode===kn){let c=Ta[a][Fi];i=or(i,c&65535,c>>16),l+=c>>16,a=Fi}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new Vn(i,a,this.binaryShiftByteCount+1,l+s);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(t+1)),u}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=Sa(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new Vn(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(Ta[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=Vn.calculateBinaryShiftCost(t)-Vn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())i.unshift(l);let a=new Oe;for(const l of i)l.appendTo(a,t);return a}toString(){return ve.format("%s bits=%d bytes=%d",eu[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}Vn.INITIAL_STATE=new Vn(tu,Fi,0,0);function _l(S){const t=ve.getCharCode(" "),i=ve.getCharCode("."),a=ve.getCharCode(",");S[Fi][t]=1;const l=ve.getCharCode("Z"),s=ve.getCharCode("A");for(let T=s;T<=l;T++)S[Fi][T]=T-s+2;S[ur][t]=1;const u=ve.getCharCode("z"),c=ve.getCharCode("a");for(let T=c;T<=u;T++)S[ur][T]=T-c+2;S[kn][t]=1;const h=ve.getCharCode("9"),x=ve.getCharCode("0");for(let T=x;T<=h;T++)S[kn][T]=T-x+2;S[kn][a]=12,S[kn][i]=13;const y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let T=0;T<y.length;T++)S[va][ve.getCharCode(y[T])]=T;const v=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let T=0;T<v.length;T++)ve.getCharCode(v[T])>0&&(S[Dn][ve.getCharCode(v[T])]=T);return S}const Pr=_l(me.createInt32Array(5,256));class Na{constructor(t){this.text=t}encode(){const t=ve.getCharCode(" "),i=ve.getCharCode(`
`);let a=Nl.singletonList(Vn.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let u,c=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case ve.getCharCode("\r"):u=c===i?2:0;break;case ve.getCharCode("."):u=c===t?3:0;break;case ve.getCharCode(","):u=c===t?4:0;break;case ve.getCharCode(":"):u=c===t?5:0;break;default:u=0}u>0?(a=Na.updateStateListForPair(a,s,u),s++):a=this.updateStateListForChar(a,s)}return Nl.min(a,(s,u)=>s.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const a=[];for(let l of t)this.updateStateForChar(l,i,a);return Na.simplifyStates(a)}updateStateForChar(t,i,a){let l=this.text[i]&255,s=Pr[t.getMode()][l]>0,u=null;for(let c=0;c<=Dn;c++){let h=Pr[c][l];if(h>0){if(u==null&&(u=t.endBinaryShift(i)),!s||c===t.getMode()||c===kn){const x=u.latchAndAppend(c,h);a.push(x)}if(!s&&Rl[t.getMode()][c]>=0){const x=u.shiftAndAppend(c,h);a.push(x)}}}if(t.getBinaryShiftByteCount()>0||Pr[t.getMode()][l]===0){let c=t.addBinaryShiftChar(i);a.push(c)}}static updateStateListForPair(t,i,a){const l=[];for(let s of t)this.updateStateForPair(s,i,a,l);return this.simplifyStates(l)}static updateStateForPair(t,i,a,l){let s=t.endBinaryShift(i);if(l.push(s.latchAndAppend(Dn,a)),t.getMode()!==Dn&&l.push(s.shiftAndAppend(Dn,a)),a===3||a===4){let u=s.latchAndAppend(kn,16-a).latchAndAppend(kn,1);l.push(u)}if(t.getBinaryShiftByteCount()>0){let u=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(u)}}static simplifyStates(t){let i=[];for(const a of t){let l=!0;for(const s of i){if(s.isBetterThanOrEqualTo(a)){l=!1;break}a.isBetterThanOrEqualTo(s)&&(i=i.filter(u=>u!==s))}l&&i.push(a)}return i}}class it{constructor(){}static encodeBytes(t){return it.encode(t,it.DEFAULT_EC_PERCENT,it.DEFAULT_AZTEC_LAYERS)}static encode(t,i,a){let l=new Na(t).encode(),s=de.truncDivision(l.getSize()*i,100)+11,u=l.getSize()+s,c,h,x,y,v;if(a!==it.DEFAULT_AZTEC_LAYERS){if(c=a<0,h=Math.abs(a),h>(c?it.MAX_NB_BITS_COMPACT:it.MAX_NB_BITS))throw new k(ve.format("Illegal value %s for layers",a));x=it.totalBitsInLayer(h,c),y=it.WORD_SIZE[h];let ue=x-x%y;if(v=it.stuffBits(l,y),v.getSize()+s>ue)throw new k("Data to large for user specified layer");if(c&&v.getSize()>y*64)throw new k("Data to large for user specified layer")}else{y=0,v=null;for(let ue=0;;ue++){if(ue>it.MAX_NB_BITS)throw new k("Data too large for an Aztec code");if(c=ue<=3,h=c?ue+1:ue,x=it.totalBitsInLayer(h,c),u>x)continue;(v==null||y!==it.WORD_SIZE[h])&&(y=it.WORD_SIZE[h],v=it.stuffBits(l,y));let Xe=x-x%y;if(!(c&&v.getSize()>y*64)&&v.getSize()+s<=Xe)break}}let T=it.generateCheckWords(v,x,y),O=v.getSize()/y,L=it.generateModeMessage(c,h,O),F=(c?11:14)+h*4,V=new Int32Array(F),q;if(c){q=F;for(let ue=0;ue<V.length;ue++)V[ue]=ue}else{q=F+1+2*de.truncDivision(de.truncDivision(F,2)-1,15);let ue=de.truncDivision(F,2),Xe=de.truncDivision(q,2);for(let Ge=0;Ge<ue;Ge++){let Sn=Ge+de.truncDivision(Ge,15);V[ue-Ge-1]=Xe-Sn-1,V[ue+Ge]=Xe+Sn+1}}let fe=new pt(q);for(let ue=0,Xe=0;ue<h;ue++){let Ge=(h-ue)*4+(c?9:12);for(let Sn=0;Sn<Ge;Sn++){let Xn=Sn*2;for(let In=0;In<2;In++)T.get(Xe+Xn+In)&&fe.set(V[ue*2+In],V[ue*2+Sn]),T.get(Xe+Ge*2+Xn+In)&&fe.set(V[ue*2+Sn],V[F-1-ue*2-In]),T.get(Xe+Ge*4+Xn+In)&&fe.set(V[F-1-ue*2-In],V[F-1-ue*2-Sn]),T.get(Xe+Ge*6+Xn+In)&&fe.set(V[F-1-ue*2-Sn],V[ue*2+In])}Xe+=Ge*8}if(it.drawModeMessage(fe,c,q,L),c)it.drawBullsEye(fe,de.truncDivision(q,2),5);else{it.drawBullsEye(fe,de.truncDivision(q,2),7);for(let ue=0,Xe=0;ue<de.truncDivision(F,2)-1;ue+=15,Xe+=16)for(let Ge=de.truncDivision(q,2)&1;Ge<q;Ge+=2)fe.set(de.truncDivision(q,2)-Xe,Ge),fe.set(de.truncDivision(q,2)+Xe,Ge),fe.set(Ge,de.truncDivision(q,2)-Xe),fe.set(Ge,de.truncDivision(q,2)+Xe)}let ge=new Tl;return ge.setCompact(c),ge.setSize(q),ge.setLayers(h),ge.setCodeWords(O),ge.setMatrix(fe),ge}static drawBullsEye(t,i,a){for(let l=0;l<a;l+=2)for(let s=i-l;s<=i+l;s++)t.set(s,i-l),t.set(s,i+l),t.set(i-l,s),t.set(i+l,s);t.set(i-a,i-a),t.set(i-a+1,i-a),t.set(i-a,i-a+1),t.set(i+a,i-a),t.set(i+a,i-a+1),t.set(i+a,i+a-1)}static generateModeMessage(t,i,a){let l=new Oe;return t?(l.appendBits(i-1,2),l.appendBits(a-1,6),l=it.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(a-1,11),l=it.generateCheckWords(l,40,4)),l}static drawModeMessage(t,i,a,l){let s=de.truncDivision(a,2);if(i)for(let u=0;u<7;u++){let c=s-3+u;l.get(u)&&t.set(c,s-5),l.get(u+7)&&t.set(s+5,c),l.get(20-u)&&t.set(c,s+5),l.get(27-u)&&t.set(s-5,c)}else for(let u=0;u<10;u++){let c=s-5+u+de.truncDivision(u,5);l.get(u)&&t.set(c,s-7),l.get(u+10)&&t.set(s+7,c),l.get(29-u)&&t.set(c,s+7),l.get(39-u)&&t.set(s-7,c)}}static generateCheckWords(t,i,a){let l=t.getSize()/a,s=new Sl(it.getGF(a)),u=de.truncDivision(i,a),c=it.bitsToWords(t,a,u);s.encode(c,u-l);let h=i%a,x=new Oe;x.appendBits(0,h);for(const y of Array.from(c))x.appendBits(y,a);return x}static bitsToWords(t,i,a){let l=new Int32Array(a),s,u;for(s=0,u=t.getSize()/i;s<u;s++){let c=0;for(let h=0;h<i;h++)c|=t.get(s*i+h)?1<<i-h-1:0;l[s]=c}return l}static getGF(t){switch(t){case 4:return at.AZTEC_PARAM;case 6:return at.AZTEC_DATA_6;case 8:return at.AZTEC_DATA_8;case 10:return at.AZTEC_DATA_10;case 12:return at.AZTEC_DATA_12;default:throw new k("Unsupported word size "+t)}}static stuffBits(t,i){let a=new Oe,l=t.getSize(),s=(1<<i)-2;for(let u=0;u<l;u+=i){let c=0;for(let h=0;h<i;h++)(u+h>=l||t.get(u+h))&&(c|=1<<i-1-h);(c&s)===s?(a.appendBits(c&s,i),u--):(c&s)===0?(a.appendBits(c|1,i),u--):a.appendBits(c,i)}return a}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}it.DEFAULT_EC_PERCENT=33,it.DEFAULT_AZTEC_LAYERS=0,it.MAX_NB_BITS=32,it.MAX_NB_BITS_COMPACT=4,it.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Hr{encode(t,i,a,l){return this.encodeWithHints(t,i,a,l,null)}encodeWithHints(t,i,a,l,s){let u=vl.ISO_8859_1,c=it.DEFAULT_EC_PERCENT,h=it.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(Jt.CHARACTER_SET)&&(u=ba.forName(s.get(Jt.CHARACTER_SET).toString())),s.has(Jt.ERROR_CORRECTION)&&(c=de.parseInt(s.get(Jt.ERROR_CORRECTION).toString())),s.has(Jt.AZTEC_LAYERS)&&(h=de.parseInt(s.get(Jt.AZTEC_LAYERS).toString()))),Hr.encodeLayers(t,i,a,l,u,c,h)}static encodeLayers(t,i,a,l,s,u,c){if(i!==he.AZTEC)throw new k("Can only encode AZTEC, but got "+i);let h=it.encode(ve.getBytes(t,s),u,c);return Hr.renderResult(h,a,l)}static renderResult(t,i,a){let l=t.getMatrix();if(l==null)throw new ri;let s=l.getWidth(),u=l.getHeight(),c=Math.max(i,s),h=Math.max(a,u),x=Math.min(c/s,h/u),y=(c-s*x)/2,v=(h-u*x)/2,T=new pt(c,h);for(let O=0,L=v;O<u;O++,L+=x)for(let F=0,V=y;F<s;F++,V+=x)l.get(F,O)&&T.setRegion(V,L,x,x);return T}}m.AbstractExpandedDecoder=er,m.ArgumentException=I,m.ArithmeticException=ma,m.AztecCode=Tl,m.AztecCodeReader=Tr,m.AztecCodeWriter=Hr,m.AztecDecoder=bt,m.AztecDetector=ps,m.AztecDetectorResult=El,m.AztecEncoder=it,m.AztecHighLevelEncoder=Na,m.AztecPoint=xt,m.BarcodeFormat=he,m.Binarizer=pe,m.BinaryBitmap=re,m.BitArray=Oe,m.BitMatrix=pt,m.BitSource=_n,m.BrowserAztecCodeReader=Xo,m.BrowserBarcodeReader=vs,m.BrowserCodeReader=Ee,m.BrowserDatamatrixCodeReader=jo,m.BrowserMultiFormatReader=Wo,m.BrowserPDF417Reader=Qo,m.BrowserQRCodeReader=Ko,m.BrowserQRCodeSvgWriter=Qi,m.CharacterSetECI=ie,m.ChecksumException=ce,m.Code128Reader=ye,m.Code39Reader=Rt,m.DataMatrixDecodedBitStreamParser=Oi,m.DataMatrixReader=Qn,m.DecodeHintType=ke,m.DecoderResult=Hn,m.DefaultGridSampler=Rn,m.DetectorResult=vr,m.EAN13Reader=qn,m.EncodeHintType=Jt,m.Exception=p,m.FormatException=se,m.GenericGF=at,m.GenericGFPoly=ln,m.GlobalHistogramBinarizer=$,m.GridSampler=Al,m.GridSamplerInstance=bn,m.HTMLCanvasElementLuminanceSource=U,m.HybridBinarizer=G,m.ITFReader=ot,m.IllegalArgumentException=k,m.IllegalStateException=ri,m.InvertedLuminanceSource=Fe,m.LuminanceSource=oe,m.MathUtils=nt,m.MultiFormatOneDReader=_i,m.MultiFormatReader=_s,m.MultiFormatWriter=$o,m.NotFoundException=J,m.OneDReader=Mt,m.PDF417DecodedBitStreamParser=Q,m.PDF417DecoderErrorCorrection=ir,m.PDF417Reader=fn,m.PDF417ResultMetadata=Lr,m.PerspectiveTransform=Cn,m.PlanarYUVLuminanceSource=si,m.QRCodeByteMatrix=lr,m.QRCodeDataMask=cn,m.QRCodeDecodedBitStreamParser=Bt,m.QRCodeDecoderErrorCorrectionLevel=ht,m.QRCodeDecoderFormatInformation=un,m.QRCodeEncoder=_t,m.QRCodeEncoderQRCode=Wi,m.QRCodeMaskUtil=kt,m.QRCodeMatrixUtil=Ue,m.QRCodeMode=De,m.QRCodeReader=Ai,m.QRCodeVersion=_e,m.QRCodeWriter=Ca,m.RGBLuminanceSource=sr,m.RSS14Reader=ut,m.RSSExpandedReader=ae,m.ReaderException=ar,m.ReedSolomonDecoder=Qa,m.ReedSolomonEncoder=Sl,m.ReedSolomonException=Ti,m.Result=be,m.ResultMetadataType=je,m.ResultPoint=Te,m.StringUtils=ve,m.UnsupportedOperationException=Gt,m.VideoInputDevice=le,m.WhiteRectangleDetector=xi,m.WriterException=Et,m.ZXingArrays=me,m.ZXingCharset=ba,m.ZXingInteger=de,m.ZXingStandardCharsets=vl,m.ZXingStringBuilder=Qe,m.ZXingStringEncoding=gt,m.ZXingSystem=Ae,m.createAbstractExpandedDecoder=pl,Object.defineProperty(m,"__esModule",{value:!0})}))})(ms,ms.exports)),ms.exports}var Lt=Kg();const Jg=Kc(Lt),$g=l2({__proto__:null,default:Jg},[Lt]);var wh=(function(){function g(E,m,A){if(this.formatMap=new Map([[Se.QR_CODE,Lt.BarcodeFormat.QR_CODE],[Se.AZTEC,Lt.BarcodeFormat.AZTEC],[Se.CODABAR,Lt.BarcodeFormat.CODABAR],[Se.CODE_39,Lt.BarcodeFormat.CODE_39],[Se.CODE_93,Lt.BarcodeFormat.CODE_93],[Se.CODE_128,Lt.BarcodeFormat.CODE_128],[Se.DATA_MATRIX,Lt.BarcodeFormat.DATA_MATRIX],[Se.MAXICODE,Lt.BarcodeFormat.MAXICODE],[Se.ITF,Lt.BarcodeFormat.ITF],[Se.EAN_13,Lt.BarcodeFormat.EAN_13],[Se.EAN_8,Lt.BarcodeFormat.EAN_8],[Se.PDF_417,Lt.BarcodeFormat.PDF_417],[Se.RSS_14,Lt.BarcodeFormat.RSS_14],[Se.RSS_EXPANDED,Lt.BarcodeFormat.RSS_EXPANDED],[Se.UPC_A,Lt.BarcodeFormat.UPC_A],[Se.UPC_E,Lt.BarcodeFormat.UPC_E],[Se.UPC_EAN_EXTENSION,Lt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!$g)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=m,this.logger=A;var C=this.createZXingFormats(E),w=new Map;w.set(Lt.DecodeHintType.POSSIBLE_FORMATS,C),w.set(Lt.DecodeHintType.TRY_HARDER,!1),this.hints=w}return g.prototype.decodeAsync=function(E){var m=this;return new Promise(function(A,C){try{A(m.decode(E))}catch(w){C(w)}})},g.prototype.decode=function(E){var m=new Lt.MultiFormatReader(this.verbose,this.hints),A=new Lt.HTMLCanvasElementLuminanceSource(E),C=new Lt.BinaryBitmap(new Lt.HybridBinarizer(A)),w=m.decode(C);return{text:w.text,format:Gh.create(this.toHtml5QrcodeSupportedFormats(w.format)),debugData:this.createDebugData()}},g.prototype.createReverseFormatMap=function(){var E=new Map;return this.formatMap.forEach(function(m,A,C){E.set(m,A)}),E},g.prototype.toHtml5QrcodeSupportedFormats=function(E){if(!this.reverseFormatMap.has(E))throw"reverseFormatMap doesn't have ".concat(E);return this.reverseFormatMap.get(E)},g.prototype.createZXingFormats=function(E){for(var m=[],A=0,C=E;A<C.length;A++){var w=C[A];this.formatMap.has(w)?m.push(this.formatMap.get(w)):this.logger.logError("".concat(w," is not supported by")+"ZXingHtml5QrcodeShim")}return m},g.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},g})(),ex=function(g,E,m,A){function C(w){return w instanceof m?w:new m(function(_){_(w)})}return new(m||(m=Promise))(function(w,_){function M(I){try{p(A.next(I))}catch(k){_(k)}}function D(I){try{p(A.throw(I))}catch(k){_(k)}}function p(I){I.done?w(I.value):C(I.value).then(M,D)}p((A=A.apply(g,E||[])).next())})},tx=function(g,E){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},A,C,w,_;return _={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function M(p){return function(I){return D([p,I])}}function D(p){if(A)throw new TypeError("Generator is already executing.");for(;_&&(_=0,p[0]&&(m=0)),m;)try{if(A=1,C&&(w=p[0]&2?C.return:p[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,p[1])).done)return w;switch(C=0,w&&(p=[p[0]&2,w.value]),p[0]){case 0:case 1:w=p;break;case 4:return m.label++,{value:p[1],done:!1};case 5:m.label++,C=p[1],p=[0];continue;case 7:p=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(p[0]===6||p[0]===2)){m=0;continue}if(p[0]===3&&(!w||p[1]>w[0]&&p[1]<w[3])){m.label=p[1];break}if(p[0]===6&&m.label<w[1]){m.label=w[1],w=p;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(p);break}w[2]&&m.ops.pop(),m.trys.pop();continue}p=E.call(g,m)}catch(I){p=[6,I],C=0}finally{A=w=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ph=(function(){function g(E,m,A){if(this.formatMap=new Map([[Se.QR_CODE,"qr_code"],[Se.AZTEC,"aztec"],[Se.CODABAR,"codabar"],[Se.CODE_39,"code_39"],[Se.CODE_93,"code_93"],[Se.CODE_128,"code_128"],[Se.DATA_MATRIX,"data_matrix"],[Se.ITF,"itf"],[Se.EAN_13,"ean_13"],[Se.EAN_8,"ean_8"],[Se.PDF_417,"pdf417"],[Se.UPC_A,"upc_a"],[Se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!g.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=m,this.logger=A;var C=this.createBarcodeDetectorFormats(E);if(this.detector=new BarcodeDetector(C),!this.detector)throw"BarcodeDetector detector not supported"}return g.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var E=new BarcodeDetector({formats:["qr_code"]});return typeof E<"u"},g.prototype.decodeAsync=function(E){return ex(this,void 0,void 0,function(){var m,A;return tx(this,function(C){switch(C.label){case 0:return[4,this.detector.detect(E)];case 1:if(m=C.sent(),!m||m.length===0)throw"No barcode or QR code detected.";return A=this.selectLargestBarcode(m),[2,{text:A.rawValue,format:Gh.create(this.toHtml5QrcodeSupportedFormats(A.format)),debugData:this.createDebugData()}]}})})},g.prototype.selectLargestBarcode=function(E){for(var m=null,A=0,C=0,w=E;C<w.length;C++){var _=w[C],M=_.boundingBox.width*_.boundingBox.height;M>A&&(A=M,m=_)}if(!m)throw"No largest barcode found";return m},g.prototype.createBarcodeDetectorFormats=function(E){for(var m=[],A=0,C=E;A<C.length;A++){var w=C[A];this.formatMap.has(w)?m.push(this.formatMap.get(w)):this.logger.warn("".concat(w," is not supported by")+"BarcodeDetectorDelegate")}return{formats:m}},g.prototype.toHtml5QrcodeSupportedFormats=function(E){if(!this.reverseFormatMap.has(E))throw"reverseFormatMap doesn't have ".concat(E);return this.reverseFormatMap.get(E)},g.prototype.createReverseFormatMap=function(){var E=new Map;return this.formatMap.forEach(function(m,A,C){E.set(m,A)}),E},g.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},g})(),Ch=function(g,E,m,A){function C(w){return w instanceof m?w:new m(function(_){_(w)})}return new(m||(m=Promise))(function(w,_){function M(I){try{p(A.next(I))}catch(k){_(k)}}function D(I){try{p(A.throw(I))}catch(k){_(k)}}function p(I){I.done?w(I.value):C(I.value).then(M,D)}p((A=A.apply(g,E||[])).next())})},bh=function(g,E){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},A,C,w,_;return _={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function M(p){return function(I){return D([p,I])}}function D(p){if(A)throw new TypeError("Generator is already executing.");for(;_&&(_=0,p[0]&&(m=0)),m;)try{if(A=1,C&&(w=p[0]&2?C.return:p[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,p[1])).done)return w;switch(C=0,w&&(p=[p[0]&2,w.value]),p[0]){case 0:case 1:w=p;break;case 4:return m.label++,{value:p[1],done:!1};case 5:m.label++,C=p[1],p=[0];continue;case 7:p=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(p[0]===6||p[0]===2)){m=0;continue}if(p[0]===3&&(!w||p[1]>w[0]&&p[1]<w[3])){m.label=p[1];break}if(p[0]===6&&m.label<w[1]){m.label=w[1],w=p;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(p);break}w[2]&&m.ops.pop(),m.trys.pop();continue}p=E.call(g,m)}catch(I){p=[6,I],C=0}finally{A=w=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},nx=(function(){function g(E,m,A,C){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=A,m&&ph.isSupported()?(this.primaryDecoder=new ph(E,A,C),this.secondaryDecoder=new wh(E,A,C)):this.primaryDecoder=new wh(E,A,C)}return g.prototype.decodeAsync=function(E){return Ch(this,void 0,void 0,function(){var m;return bh(this,function(A){switch(A.label){case 0:m=performance.now(),A.label=1;case 1:return A.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(E)];case 2:return[2,A.sent()];case 3:return this.possiblyLogPerformance(m),[7];case 4:return[2]}})})},g.prototype.decodeRobustlyAsync=function(E){return Ch(this,void 0,void 0,function(){var m,A;return bh(this,function(C){switch(C.label){case 0:m=performance.now(),C.label=1;case 1:return C.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(E)];case 2:return[2,C.sent()];case 3:if(A=C.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(E)];throw A;case 4:return this.possiblyLogPerformance(m),[7];case 5:return[2]}})})},g.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},g.prototype.possiblyLogPerformance=function(E){if(this.verbose){var m=performance.now()-E;this.executionResults.push(m),this.executions++,this.possiblyFlushPerformanceReport()}},g.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var E=0,m=0,A=this.executionResults;m<A.length;m++){var C=A[m];E+=C}var w=E/this.executionResults.length;console.log("".concat(w," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},g})(),l1=(function(){var g=function(E,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(A[w]=C[w])},g(E,m)};return function(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");g(E,m);function A(){this.constructor=E}E.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}})(),Ho=function(g,E,m,A){function C(w){return w instanceof m?w:new m(function(_){_(w)})}return new(m||(m=Promise))(function(w,_){function M(I){try{p(A.next(I))}catch(k){_(k)}}function D(I){try{p(A.throw(I))}catch(k){_(k)}}function p(I){I.done?w(I.value):C(I.value).then(M,D)}p((A=A.apply(g,E||[])).next())})},zo=function(g,E){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},A,C,w,_;return _={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function M(p){return function(I){return D([p,I])}}function D(p){if(A)throw new TypeError("Generator is already executing.");for(;_&&(_=0,p[0]&&(m=0)),m;)try{if(A=1,C&&(w=p[0]&2?C.return:p[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,p[1])).done)return w;switch(C=0,w&&(p=[p[0]&2,w.value]),p[0]){case 0:case 1:w=p;break;case 4:return m.label++,{value:p[1],done:!1};case 5:m.label++,C=p[1],p=[0];continue;case 7:p=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(p[0]===6||p[0]===2)){m=0;continue}if(p[0]===3&&(!w||p[1]>w[0]&&p[1]<w[3])){m.label=p[1];break}if(p[0]===6&&m.label<w[1]){m.label=w[1],w=p;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(p);break}w[2]&&m.ops.pop(),m.trys.pop();continue}p=E.call(g,m)}catch(I){p=[6,I],C=0}finally{A=w=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Xh=(function(){function g(E,m){this.name=E,this.track=m}return g.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},g.prototype.apply=function(E){var m={};m[this.name]=E;var A={advanced:[m]};return this.track.applyConstraints(A)},g.prototype.value=function(){var E=this.track.getSettings();if(this.name in E){var m=E[this.name];return m}return null},g})(),ix=(function(g){l1(E,g);function E(m,A){return g.call(this,m,A)||this}return E.prototype.min=function(){return this.getCapabilities().min},E.prototype.max=function(){return this.getCapabilities().max},E.prototype.step=function(){return this.getCapabilities().step},E.prototype.apply=function(m){var A={};A[this.name]=m;var C={advanced:[A]};return this.track.applyConstraints(C)},E.prototype.getCapabilities=function(){this.failIfNotSupported();var m=this.track.getCapabilities(),A=m[this.name];return{min:A.min,max:A.max,step:A.step}},E.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},E})(Xh),ax=(function(g){l1(E,g);function E(m){return g.call(this,"zoom",m)||this}return E})(ix),rx=(function(g){l1(E,g);function E(m){return g.call(this,"torch",m)||this}return E})(Xh),lx=(function(){function g(E){this.track=E}return g.prototype.zoomFeature=function(){return new ax(this.track)},g.prototype.torchFeature=function(){return new rx(this.track)},g})(),sx=(function(){function g(E,m,A){this.isClosed=!1,this.parentElement=E,this.mediaStream=m,this.callbacks=A,this.surface=this.createVideoElement(this.parentElement.clientWidth),E.append(this.surface)}return g.prototype.createVideoElement=function(E){var m=document.createElement("video");return m.style.width="".concat(E,"px"),m.style.display="block",m.muted=!0,m.setAttribute("muted","true"),m.playsInline=!0,m},g.prototype.setupSurface=function(){var E=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var m=function(){var A=E.surface.clientWidth,C=E.surface.clientHeight;E.callbacks.onRenderSurfaceReady(A,C),E.surface.removeEventListener("playing",m)};this.surface.addEventListener("playing",m),this.surface.srcObject=this.mediaStream,this.surface.play()},g.create=function(E,m,A,C){return Ho(this,void 0,void 0,function(){var w,_;return zo(this,function(M){switch(M.label){case 0:return w=new g(E,m,C),A.aspectRatio?(_={aspectRatio:A.aspectRatio},[4,w.getFirstTrackOrFail().applyConstraints(_)]):[3,2];case 1:M.sent(),M.label=2;case 2:return w.setupSurface(),[2,w]}})})},g.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},g.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},g.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},g.prototype.resume=function(E){this.failIfClosed();var m=this,A=function(){setTimeout(E,200),m.surface.removeEventListener("playing",A)};this.surface.addEventListener("playing",A),this.surface.play()},g.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},g.prototype.getSurface=function(){return this.failIfClosed(),this.surface},g.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},g.prototype.applyVideoConstraints=function(E){return Ho(this,void 0,void 0,function(){return zo(this,function(m){if("aspectRatio"in E)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(E)]})})},g.prototype.close=function(){if(this.isClosed)return Promise.resolve();var E=this;return new Promise(function(m,A){var C=E.mediaStream.getVideoTracks(),w=C.length,_=0;E.mediaStream.getVideoTracks().forEach(function(M){E.mediaStream.removeTrack(M),M.stop(),++_,_>=w&&(E.isClosed=!0,E.parentElement.removeChild(E.surface),m())})})},g.prototype.getCapabilities=function(){return new lx(this.getFirstTrackOrFail())},g})(),ox=(function(){function g(E){this.mediaStream=E}return g.prototype.render=function(E,m,A){return Ho(this,void 0,void 0,function(){return zo(this,function(C){return[2,sx.create(E,this.mediaStream,m,A)]})})},g.create=function(E){return Ho(this,void 0,void 0,function(){var m,A;return zo(this,function(C){switch(C.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return m={audio:!1,video:E},[4,navigator.mediaDevices.getUserMedia(m)];case 1:return A=C.sent(),[2,new g(A)]}})})},g})(),Sh=function(g,E,m,A){function C(w){return w instanceof m?w:new m(function(_){_(w)})}return new(m||(m=Promise))(function(w,_){function M(I){try{p(A.next(I))}catch(k){_(k)}}function D(I){try{p(A.throw(I))}catch(k){_(k)}}function p(I){I.done?w(I.value):C(I.value).then(M,D)}p((A=A.apply(g,E||[])).next())})},vh=function(g,E){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},A,C,w,_;return _={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function M(p){return function(I){return D([p,I])}}function D(p){if(A)throw new TypeError("Generator is already executing.");for(;_&&(_=0,p[0]&&(m=0)),m;)try{if(A=1,C&&(w=p[0]&2?C.return:p[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,p[1])).done)return w;switch(C=0,w&&(p=[p[0]&2,w.value]),p[0]){case 0:case 1:w=p;break;case 4:return m.label++,{value:p[1],done:!1};case 5:m.label++,C=p[1],p=[0];continue;case 7:p=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(p[0]===6||p[0]===2)){m=0;continue}if(p[0]===3&&(!w||p[1]>w[0]&&p[1]<w[3])){m.label=p[1];break}if(p[0]===6&&m.label<w[1]){m.label=w[1],w=p;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(p);break}w[2]&&m.ops.pop(),m.trys.pop();continue}p=E.call(g,m)}catch(I){p=[6,I],C=0}finally{A=w=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},ux=(function(){function g(){}return g.failIfNotSupported=function(){return Sh(this,void 0,void 0,function(){return vh(this,function(E){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new g]})})},g.prototype.create=function(E){return Sh(this,void 0,void 0,function(){return vh(this,function(m){return[2,ox.create(E)]})})},g})(),cx=function(g,E,m,A){function C(w){return w instanceof m?w:new m(function(_){_(w)})}return new(m||(m=Promise))(function(w,_){function M(I){try{p(A.next(I))}catch(k){_(k)}}function D(I){try{p(A.throw(I))}catch(k){_(k)}}function p(I){I.done?w(I.value):C(I.value).then(M,D)}p((A=A.apply(g,E||[])).next())})},fx=function(g,E){var m={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},A,C,w,_;return _={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(_[Symbol.iterator]=function(){return this}),_;function M(p){return function(I){return D([p,I])}}function D(p){if(A)throw new TypeError("Generator is already executing.");for(;_&&(_=0,p[0]&&(m=0)),m;)try{if(A=1,C&&(w=p[0]&2?C.return:p[0]?C.throw||((w=C.return)&&w.call(C),0):C.next)&&!(w=w.call(C,p[1])).done)return w;switch(C=0,w&&(p=[p[0]&2,w.value]),p[0]){case 0:case 1:w=p;break;case 4:return m.label++,{value:p[1],done:!1};case 5:m.label++,C=p[1],p=[0];continue;case 7:p=m.ops.pop(),m.trys.pop();continue;default:if(w=m.trys,!(w=w.length>0&&w[w.length-1])&&(p[0]===6||p[0]===2)){m=0;continue}if(p[0]===3&&(!w||p[1]>w[0]&&p[1]<w[3])){m.label=p[1];break}if(p[0]===6&&m.label<w[1]){m.label=w[1],w=p;break}if(w&&m.label<w[2]){m.label=w[2],m.ops.push(p);break}w[2]&&m.ops.pop(),m.trys.pop();continue}p=E.call(g,m)}catch(I){p=[6,I],C=0}finally{A=w=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},hx=(function(){function g(){}return g.retrieve=function(){if(navigator.mediaDevices)return g.getCamerasFromMediaDevices();var E=MediaStreamTrack;return MediaStreamTrack&&E.getSources?g.getCamerasFromMediaStreamTrack():g.rejectWithError()},g.rejectWithError=function(){var E=dl.unableToQuerySupportedDevices();return g.isHttpsOrLocalhost()||(E=dl.insecureContextCameraQueryError()),Promise.reject(E)},g.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var E=location.host.split(":")[0];return E==="127.0.0.1"||E==="localhost"},g.getCamerasFromMediaDevices=function(){return cx(this,void 0,void 0,function(){var E,m,A,C,w,_,M;return fx(this,function(D){switch(D.label){case 0:return E=function(p){for(var I=p.getVideoTracks(),k=0,re=I;k<re.length;k++){var ce=re[k];ce.enabled=!1,ce.stop(),p.removeTrack(ce)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return m=D.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(A=D.sent(),C=[],w=0,_=A;w<_.length;w++)M=_[w],M.kind==="videoinput"&&C.push({id:M.deviceId,label:M.label});return E(m),[2,C]}})})},g.getCamerasFromMediaStreamTrack=function(){return new Promise(function(E,m){var A=function(w){for(var _=[],M=0,D=w;M<D.length;M++){var p=D[M];p.kind==="video"&&_.push({id:p.id,label:p.label})}E(_)},C=MediaStreamTrack;C.getSources(A)})},g})(),qt;(function(g){g[g.UNKNOWN=0]="UNKNOWN",g[g.NOT_STARTED=1]="NOT_STARTED",g[g.SCANNING=2]="SCANNING",g[g.PAUSED=3]="PAUSED"})(qt||(qt={}));var dx=(function(){function g(){this.state=qt.NOT_STARTED,this.onGoingTransactionNewState=qt.UNKNOWN}return g.prototype.directTransition=function(E){this.failIfTransitionOngoing(),this.validateTransition(E),this.state=E},g.prototype.startTransition=function(E){return this.failIfTransitionOngoing(),this.validateTransition(E),this.onGoingTransactionNewState=E,this},g.prototype.execute=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var E=this.onGoingTransactionNewState;this.onGoingTransactionNewState=qt.UNKNOWN,this.directTransition(E)},g.prototype.cancel=function(){if(this.onGoingTransactionNewState===qt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=qt.UNKNOWN},g.prototype.getState=function(){return this.state},g.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==qt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},g.prototype.validateTransition=function(E){switch(this.state){case qt.UNKNOWN:throw"Transition from unknown is not allowed";case qt.NOT_STARTED:this.failIfNewStateIs(E,[qt.PAUSED]);break;case qt.SCANNING:break;case qt.PAUSED:break}},g.prototype.failIfNewStateIs=function(E,m){for(var A=0,C=m;A<C.length;A++){var w=C[A];if(E===w)throw"Cannot transition from ".concat(this.state," to ").concat(E)}},g})(),gx=(function(){function g(E){this.stateManager=E}return g.prototype.startTransition=function(E){return this.stateManager.startTransition(E)},g.prototype.directTransition=function(E){this.stateManager.directTransition(E)},g.prototype.getState=function(){return this.stateManager.getState()},g.prototype.canScanFile=function(){return this.stateManager.getState()===qt.NOT_STARTED},g.prototype.isScanning=function(){return this.stateManager.getState()!==qt.NOT_STARTED},g.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===qt.SCANNING},g.prototype.isPaused=function(){return this.stateManager.getState()===qt.PAUSED},g})(),xx=(function(){function g(){}return g.create=function(){return new gx(new dx)},g})(),mx=(function(){var g=function(E,m){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var w in C)Object.prototype.hasOwnProperty.call(C,w)&&(A[w]=C[w])},g(E,m)};return function(E,m){if(typeof m!="function"&&m!==null)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");g(E,m);function A(){this.constructor=E}E.prototype=m===null?Object.create(m):(A.prototype=m.prototype,new A)}})(),ai=(function(g){mx(E,g);function E(){return g!==null&&g.apply(this,arguments)||this}return E.DEFAULT_WIDTH=300,E.DEFAULT_WIDTH_OFFSET=2,E.FILE_SCAN_MIN_HEIGHT=300,E.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,E.MIN_QR_BOX_SIZE=50,E.SHADED_LEFT=1,E.SHADED_RIGHT=2,E.SHADED_TOP=3,E.SHADED_BOTTOM=4,E.SHADED_REGION_ELEMENT_ID="qr-shaded-region",E.VERBOSE=!1,E.BORDER_SHADER_DEFAULT_COLOR="#ffffff",E.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",E})(Zg),Ex=(function(){function g(E,m){this.logger=m,this.fps=ai.SCAN_DEFAULT_FPS,E?(E.fps&&(this.fps=E.fps),this.disableFlip=E.disableFlip===!0,this.qrbox=E.qrbox,this.aspectRatio=E.aspectRatio,this.videoConstraints=E.videoConstraints):this.disableFlip=ai.DEFAULT_DISABLE_FLIP}return g.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Vh.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},g.prototype.isShadedBoxEnabled=function(){return!ha(this.qrbox)},g.create=function(E,m){return new g(E,m)},g})(),Ax=(function(){function g(E,m){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(E))throw"HTML Element with id=".concat(E," not found");this.elementId=E,this.verbose=!1;var A;typeof m=="boolean"?this.verbose=m===!0:m&&(A=m,this.verbose=A.verbose===!0,A.experimentalFeatures),this.logger=new Wg(this.verbose),this.qrcode=new nx(this.getSupportedFormats(m),this.getUseBarCodeDetectorIfSupported(A),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=xx.create()}return g.prototype.start=function(E,m,A,C){var w=this;if(!E)throw"cameraIdOrConfig is required";if(!A||typeof A!="function")throw"qrCodeSuccessCallback is required and should be a function.";var _;C?_=C:_=this.verbose?this.logger.log:function(){};var M=Ex.create(m,this.logger);this.clearElement();var D=!1;M.videoConstraints&&(M.isMediaStreamConstraintsValid()?D=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=D,I=document.getElementById(this.elementId);I.clientWidth?I.clientWidth:ai.DEFAULT_WIDTH,I.style.position="relative",this.shouldScan=!0,this.element=I;var k=this,re=this.stateManagerProxy.startTransition(qt.SCANNING);return new Promise(function(ce,pe){var Ae=p?M.videoConstraints:k.createVideoConstraints(E);if(!Ae){re.cancel(),pe("videoConstraints should be defined");return}var we={};(!p||M.aspectRatio)&&(we.aspectRatio=M.aspectRatio);var Ne={onRenderSurfaceReady:function(me,de){k.setupUi(me,de,M),k.isScanning=!0,k.foreverScan(M,A,_)}};ux.failIfNotSupported().then(function(me){me.create(Ae).then(function(de){return de.render(w.element,we,Ne).then(function(Oe){k.renderedCamera=Oe,re.execute(),ce(null)}).catch(function(Oe){re.cancel(),pe(Oe)})}).catch(function(de){re.cancel(),pe(dl.errorGettingUserMedia(de))})}).catch(function(me){re.cancel(),pe(dl.cameraStreamingNotSupported())})})},g.prototype.pause=function(E){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(qt.PAUSED),this.showPausedState(),(ha(E)||E!==!0)&&(E=!1),E&&this.renderedCamera&&this.renderedCamera.pause()},g.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var E=this,m=function(){E.stateManagerProxy.directTransition(qt.SCANNING),E.hidePausedState()};if(!this.renderedCamera.isPaused()){m();return}this.renderedCamera.resume(function(){m()})},g.prototype.getState=function(){return this.stateManagerProxy.getState()},g.prototype.stop=function(){var E=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var m=this.stateManagerProxy.startTransition(qt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var A=function(){if(E.element){var w=document.getElementById(ai.SHADED_REGION_ELEMENT_ID);w&&E.element.removeChild(w)}},C=this;return this.renderedCamera.close().then(function(){return C.renderedCamera=null,C.element&&(C.element.removeChild(C.canvasElement),C.canvasElement=null),A(),C.qrRegion&&(C.qrRegion=null),C.context&&(C.context=null),m.execute(),C.hidePausedState(),C.isScanning=!1,Promise.resolve()})},g.prototype.scanFile=function(E,m){return this.scanFileV2(E,m).then(function(A){return A.decodedText})},g.prototype.scanFileV2=function(E,m){var A=this;if(!E||!(E instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ha(m)&&(m=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(C,w){A.possiblyCloseLastScanImageFile(),A.clearElement(),A.lastScanImageFile=URL.createObjectURL(E);var _=new Image;_.onload=function(){var M=_.width,D=_.height,p=document.getElementById(A.elementId),I=p.clientWidth?p.clientWidth:ai.DEFAULT_WIDTH,k=Math.max(p.clientHeight?p.clientHeight:D,ai.FILE_SCAN_MIN_HEIGHT),re=A.computeCanvasDrawConfig(M,D,I,k);if(m){var ce=A.createCanvasElement(I,k,"qr-canvas-visible");ce.style.display="inline-block",p.appendChild(ce);var pe=ce.getContext("2d");if(!pe)throw"Unable to get 2d context from canvas";pe.canvas.width=I,pe.canvas.height=k,pe.drawImage(_,0,0,M,D,re.x,re.y,re.width,re.height)}var Ae=ai.FILE_SCAN_HIDDEN_CANVAS_PADDING,we=Math.max(_.width,re.width),Ne=Math.max(_.height,re.height),me=we+2*Ae,de=Ne+2*Ae,Oe=A.createCanvasElement(me,de);p.appendChild(Oe);var Be=Oe.getContext("2d");if(!Be)throw"Unable to get 2d context from canvas";Be.canvas.width=me,Be.canvas.height=de,Be.drawImage(_,0,0,M,D,Ae,Ae,we,Ne);try{A.qrcode.decodeRobustlyAsync(Oe).then(function(ke){C(Ah.createFromQrcodeResult(ke))}).catch(w)}catch(ke){w("QR code parse error, error = ".concat(ke))}},_.onerror=w,_.onabort=w,_.onstalled=w,_.onsuspend=w,_.src=URL.createObjectURL(E)})},g.prototype.clear=function(){this.clearElement()},g.getCameras=function(){return hx.retrieve()},g.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},g.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},g.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},g.prototype.applyVideoConstraints=function(E){if(E){if(!Vh.isMediaStreamConstraintsValid(E,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(E)},g.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},g.prototype.getSupportedFormats=function(E){var m=[Se.QR_CODE,Se.AZTEC,Se.CODABAR,Se.CODE_39,Se.CODE_93,Se.CODE_128,Se.DATA_MATRIX,Se.MAXICODE,Se.ITF,Se.EAN_13,Se.EAN_8,Se.PDF_417,Se.RSS_14,Se.RSS_EXPANDED,Se.UPC_A,Se.UPC_E,Se.UPC_EAN_EXTENSION];if(!E||typeof E=="boolean"||!E.formatsToSupport)return m;if(!Array.isArray(E.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(E.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var A=[],C=0,w=E.formatsToSupport;C<w.length;C++){var _=w[C];Yg(_)?A.push(_):this.logger.warn("Invalid format: ".concat(_," passed in config, ignoring."))}if(A.length===0)throw"None of formatsToSupport match supported values.";return A},g.prototype.getUseBarCodeDetectorIfSupported=function(E){if(ha(E))return!0;if(!ha(E.useBarCodeDetectorIfSupported))return E.useBarCodeDetectorIfSupported!==!1;if(ha(E.experimentalFeatures))return!0;var m=E.experimentalFeatures;return ha(m.useBarCodeDetectorIfSupported)?!0:m.useBarCodeDetectorIfSupported!==!1},g.prototype.validateQrboxSize=function(E,m,A){var C=this,w=A.qrbox;this.validateQrboxConfig(w);var _=this.toQrdimensions(E,m,w),M=function(p){if(p<ai.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ai.MIN_QR_BOX_SIZE,"px.")},D=function(p){return p>E&&(C.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=E),p};M(_.width),M(_.height),_.width=D(_.width)},g.prototype.validateQrboxConfig=function(E){if(typeof E!="number"&&typeof E!="function"&&(E.width===void 0||E.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},g.prototype.toQrdimensions=function(E,m,A){if(typeof A=="number")return{width:A,height:A};if(typeof A=="function")try{return A(E,m)}catch(C){throw new Error("qrbox config was passed as a function but it failed with unknown error"+C)}return A},g.prototype.setupUi=function(E,m,A){A.isShadedBoxEnabled()&&this.validateQrboxSize(E,m,A);var C=ha(A.qrbox)?{width:E,height:m}:A.qrbox;this.validateQrboxConfig(C);var w=this.toQrdimensions(E,m,C);w.height>m&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var _=A.isShadedBoxEnabled()&&w.height<=m,M={x:0,y:0,width:E,height:m},D=_?this.getShadedRegionBounds(E,m,w):M,p=this.createCanvasElement(D.width,D.height),I={willReadFrequently:!0},k=p.getContext("2d",I);k.canvas.width=D.width,k.canvas.height=D.height,this.element.append(p),_&&this.possiblyInsertShadingElement(this.element,E,m,w),this.createScannerPausedUiElement(this.element),this.qrRegion=D,this.context=k,this.canvasElement=p},g.prototype.createScannerPausedUiElement=function(E){var m=document.createElement("div");m.innerText=dl.scannerPaused(),m.style.display="none",m.style.position="absolute",m.style.top="0px",m.style.zIndex="1",m.style.background="rgba(9, 9, 9, 0.46)",m.style.color="#FFECEC",m.style.textAlign="center",m.style.width="100%",E.appendChild(m),this.scannerPausedUiElement=m},g.prototype.scanContext=function(E,m){var A=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(C){return E(C.text,Ah.createFromQrcodeResult(C)),A.possiblyUpdateShaders(!0),!0}).catch(function(C){A.possiblyUpdateShaders(!1);var w=dl.codeParseError(C);return m(w,qg.createFrom(w)),!1})},g.prototype.foreverScan=function(E,m,A){var C=this;if(this.shouldScan&&this.renderedCamera){var w=this.renderedCamera.getSurface(),_=w.videoWidth/w.clientWidth,M=w.videoHeight/w.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var D=this.qrRegion.width*_,p=this.qrRegion.height*M,I=this.qrRegion.x*_,k=this.qrRegion.y*M;this.context.drawImage(w,I,k,D,p,0,0,this.qrRegion.width,this.qrRegion.height);var re=function(){C.foreverScanTimeout=setTimeout(function(){C.foreverScan(E,m,A)},C.getTimeoutFps(E.fps))};this.scanContext(m,A).then(function(ce){!ce&&E.disableFlip!==!0?(C.context.translate(C.context.canvas.width,0),C.context.scale(-1,1),C.scanContext(m,A).finally(function(){re()})):re()}).catch(function(ce){C.logger.logError("Error happend while scanning context",ce),re()})}},g.prototype.createVideoConstraints=function(E){if(typeof E=="string")return{deviceId:{exact:E}};if(typeof E=="object"){var m="facingMode",A="deviceId",C={user:!0,environment:!0},w="exact",_=function(pe){if(pe in C)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(pe,"'")},M=Object.keys(E);if(M.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(M.length," keys");var D=Object.keys(E)[0];if(D!==m&&D!==A)throw"Only '".concat(m,"' and '").concat(A,"' ")+" are supported for 'cameraIdOrConfig'";if(D===m){var p=E.facingMode;if(typeof p=="string"){if(_(p))return{facingMode:p}}else if(typeof p=="object")if(w in p){if(_(p["".concat(w)]))return{facingMode:{exact:p["".concat(w)]}}}else throw"'facingMode' should be string or object with"+" ".concat(w," as key.");else{var I=typeof p;throw"Invalid type of 'facingMode' = ".concat(I)}}else{var k=E.deviceId;if(typeof k=="string")return{deviceId:k};if(typeof k=="object"){if(w in k)return{deviceId:{exact:k["".concat(w)]}};throw"'deviceId' should be string or object with"+" ".concat(w," as key.")}else{var re=typeof k;throw"Invalid type of 'deviceId' = ".concat(re)}}}var ce=typeof E;throw"Invalid type of 'cameraIdOrConfig' = ".concat(ce)},g.prototype.computeCanvasDrawConfig=function(E,m,A,C){if(E<=A&&m<=C){var w=(A-E)/2,_=(C-m)/2;return{x:w,y:_,width:E,height:m}}else{var M=E,D=m;return E>A&&(m=A/E*m,E=A),m>C&&(E=C/m*E,m=C),this.logger.log("Image downsampled from "+"".concat(M,"X").concat(D)+" to ".concat(E,"X").concat(m,".")),this.computeCanvasDrawConfig(E,m,A,C)}},g.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var E=document.getElementById(this.elementId);E&&(E.innerHTML="")},g.prototype.possiblyUpdateShaders=function(E){this.qrMatch!==E&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(m){m.style.backgroundColor=E?ai.BORDER_SHADER_MATCH_COLOR:ai.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=E)},g.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},g.prototype.createCanvasElement=function(E,m,A){var C=E,w=m,_=document.createElement("canvas");return _.style.width="".concat(C,"px"),_.style.height="".concat(w,"px"),_.style.display="none",_.id=ha(A)?"qr-canvas":A,_},g.prototype.getShadedRegionBounds=function(E,m,A){if(A.width>E||A.height>m)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(E-A.width)/2,y:(m-A.height)/2,width:A.width,height:A.height}},g.prototype.possiblyInsertShadingElement=function(E,m,A,C){if(!(m-C.width<1||A-C.height<1)){var w=document.createElement("div");w.style.position="absolute";var _=(m-C.width)/2,M=(A-C.height)/2;if(w.style.borderLeft="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderRight="".concat(_,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderTop="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),w.style.borderBottom="".concat(M,"px solid rgba(0, 0, 0, 0.48)"),w.style.boxSizing="border-box",w.style.top="0px",w.style.bottom="0px",w.style.left="0px",w.style.right="0px",w.id="".concat(ai.SHADED_REGION_ELEMENT_ID),m-C.width<11||A-C.height<11)this.hasBorderShaders=!1;else{var D=5,p=40;this.insertShaderBorders(w,p,D,-D,null,0,!0),this.insertShaderBorders(w,p,D,-D,null,0,!1),this.insertShaderBorders(w,p,D,null,-D,0,!0),this.insertShaderBorders(w,p,D,null,-D,0,!1),this.insertShaderBorders(w,D,p+D,-D,null,-D,!0),this.insertShaderBorders(w,D,p+D,null,-D,-D,!0),this.insertShaderBorders(w,D,p+D,-D,null,-D,!1),this.insertShaderBorders(w,D,p+D,null,-D,-D,!1),this.hasBorderShaders=!0}E.append(w)}},g.prototype.insertShaderBorders=function(E,m,A,C,w,_,M){var D=document.createElement("div");D.style.position="absolute",D.style.backgroundColor=ai.BORDER_SHADER_DEFAULT_COLOR,D.style.width="".concat(m,"px"),D.style.height="".concat(A,"px"),C!==null&&(D.style.top="".concat(C,"px")),w!==null&&(D.style.bottom="".concat(w,"px")),M?D.style.left="".concat(_,"px"):D.style.right="".concat(_,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(D),E.appendChild(D)},g.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},g.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},g.prototype.getTimeoutFps=function(E){return 1e3/E},g})(),Th;(function(g){g[g.STATUS_DEFAULT=0]="STATUS_DEFAULT",g[g.STATUS_SUCCESS=1]="STATUS_SUCCESS",g[g.STATUS_WARNING=2]="STATUS_WARNING",g[g.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Th||(Th={}));function yx({onResult:g}){const E="qr-reader",m=K.useRef(null),[A,C]=K.useState(!1);K.useEffect(()=>()=>{m.current&&m.current.stop().then(()=>m.current.clear())},[]);const w=async()=>{if(m.current)return;const M=new Ax(E);m.current=M;try{await M.start({facingMode:"environment"},{fps:10,qrbox:250},D=>{g(D),_()},()=>{}),C(!0)}catch{alert("Camera permission denied or unavailable.")}},_=async()=>{if(m.current){try{await m.current.stop(),await m.current.clear()}catch{}m.current=null,C(!1)}};return P.jsxs("div",{children:[A?P.jsx("button",{className:"btn secondary",onClick:_,children:"Stop Scan"}):P.jsx("button",{className:"btn",onClick:w,children:" Scan QR"}),P.jsx("div",{id:E,style:{width:320,height:320,marginTop:10,background:"#fff"}})]})}function wx(){const{token:g,role:E}=Wa(),[m,A]=K.useState([]),[C,w]=K.useState(""),[_,M]=K.useState(""),[D,p]=K.useState(null),[I,k]=K.useState(null),[re,ce]=K.useState(null),[pe,Ae]=K.useState(""),we=K.useRef(null),Ne=K.useRef(null),[me,de]=K.useState(!1),Oe=async()=>{const G=m.find(Fe=>Fe.name===C);if(!G)return alert("No event selected");const oe=prompt("Edit event name:",G.name);if(oe)try{await Pn(`/api/events/${G._id}`,{method:"PUT",body:{name:oe},token:g}),await ke(),w(oe),Me("Event updated.")}catch(Fe){alert(Fe.message)}},Be=async()=>{const G=m.find(oe=>oe.name===C);if(!G)return alert("No event selected");if(window.confirm(`Delete event "${G.name}"?`))try{await Pn(`/api/events/${G._id}`,{method:"DELETE",token:g}),await ke(),w(""),Me("Event deleted.")}catch(oe){alert(oe.message)}},ke=async()=>{try{const G=localStorage.getItem("token"),oe=await Pn("/api/events",{token:G});console.log("Events response:",oe),A(Array.isArray(oe)?oe:oe.events||[])}catch(G){console.error("Fetch error:",G.message),A([])}};K.useEffect(()=>(ke(),()=>ve()),[]);const se=async()=>{const G=prompt("New event name:");if(G)try{await Pn("/api/events",{method:"POST",body:{name:G},token:g}),await ke(),Me("Event added.")}catch(oe){alert(oe.message)}},Me=(G,oe=2500)=>{Ae(G),setTimeout(()=>Ae(""),oe)},ie=async G=>{try{const oe=new FormData;oe.append("image",G);const Fe=await Pn("/api/ocr/scan",{method:"POST",body:oe,token:g,isForm:!0});k(Fe),ce({...Fe.fields,event:C,type:_})}catch(oe){alert(oe.message)}},Gt=async G=>{if(G.preventDefault(),!D)return alert("Please select an image");await ie(D)},gt=async()=>{try{const G=await navigator.mediaDevices.getUserMedia({video:{facingMode:{ideal:"environment"}}});we.current.srcObject=G,de(!0)}catch{alert("Unable to access camera")}},ve=()=>{const G=we.current;G&&G.srcObject&&(G.srcObject.getTracks().forEach(oe=>oe.stop()),G.srcObject=null),de(!1)},Qe=async()=>{const G=we.current,oe=Ne.current;if(!G||!oe)return;oe.width=G.videoWidth,oe.height=G.videoHeight,oe.getContext("2d").drawImage(G,0,0),oe.toBlob(async U=>{const le=new File([U],"capture.png",{type:"image/png"});await ie(le)},"image/png")},pt=async()=>{try{if(!re)return alert("No data to save");const G={...re,raw:I?.raw||"",event:C,type:_};await Pn("/api/ocr/save",{method:"POST",token:g,body:G}),Me("Saved!"),k(null),ce(null),p(null)}catch(G){G.message.includes("Duplicate")?Me(G.message,3500):Me("Save failed: "+G.message,3500)}},J=G=>{let oe={};try{const Fe=JSON.parse(G);Fe&&typeof Fe=="object"&&(oe=Fe)}catch{}/BEGIN:VCARD/i.test(G)&&G.split(/\r?\n/).forEach(U=>{const[le,xe]=U.split(/:(.+)/);if(!xe)return;const Ee=le.toLowerCase();Ee.includes("fn")&&(oe.name=xe),Ee.includes("org")&&(oe.company=xe),Ee.includes("title")&&(oe.designation=xe),Ee==="email"&&(oe.email=xe),Ee==="tel"&&(oe.number=xe),Ee==="url"&&(oe.site=xe),Ee==="adr"&&(oe.address=xe.replace(/;/g," "))}),!Object.keys(oe).length&&/^https?:\/\//i.test(G)&&(oe.site=G),k({raw:G,fields:oe}),ce({...oe,event:C,type:_}),Me("QR decoded.")},$=C&&_;return P.jsx("div",{className:"container",children:P.jsxs("div",{className:"card",children:[P.jsx("h2",{style:{color:"var(--brand)",marginBottom:10},children:"OCR Business Card Extractor"}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Event",P.jsxs("select",{value:C,onChange:G=>w(G.target.value),children:[P.jsx("option",{value:"",children:"-- Select --"}),Array.isArray(m)&&m.map(G=>P.jsx("option",{value:G.name,children:G.name},G._id))]})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Type",P.jsxs("select",{value:_,onChange:G=>M(G.target.value),children:[P.jsx("option",{value:"",children:"-- Select --"}),P.jsx("option",{value:"Customer",children:"Customer"}),P.jsx("option",{value:"Supplier",children:"Supplier"})]})]})}),E==="admin"&&P.jsxs("div",{className:"actions",style:{marginTop:6},children:[P.jsx("button",{className:"btn success",onClick:se,children:"+ Add Event"}),C&&P.jsxs(P.Fragment,{children:[P.jsx("button",{className:"btn",onClick:Oe,children:" Edit"}),P.jsx("button",{className:"btn danger",onClick:Be,children:" Delete"})]})]}),!$&&P.jsxs("div",{className:"notice info",children:["Select ",P.jsx("b",{children:"Event"})," and ",P.jsx("b",{children:"Type"})," to continue."]}),$&&P.jsxs(P.Fragment,{children:[P.jsxs("div",{className:"row",style:{marginTop:10},children:[P.jsx("div",{className:"col-6",children:P.jsxs("form",{onSubmit:Gt,children:[P.jsxs("label",{children:["Upload Image",P.jsx("input",{type:"file",className:"input",accept:"image/*",onChange:G=>p(G.target.files?.[0]||null)})]}),P.jsx("button",{className:"btn",type:"submit",children:"Extract"})]})}),P.jsx("div",{className:"col-6",children:me?P.jsxs("div",{children:[P.jsx("video",{ref:we,autoPlay:!0,playsInline:!0,style:{width:"100%",marginTop:8,background:"#000"}}),P.jsx("canvas",{ref:Ne,style:{display:"none"}}),P.jsxs("div",{className:"actions",style:{marginTop:8},children:[P.jsx("button",{className:"btn",onClick:Qe,children:" Capture & Extract"}),P.jsx("button",{className:"btn secondary",onClick:ve,children:"Close Camera"})]})]}):P.jsx("button",{className:"btn",onClick:gt,children:" Open Camera"})})]}),P.jsx("div",{style:{marginTop:16},children:P.jsx(yx,{onResult:J})})]}),pe&&P.jsx("div",{className:`notice ${pe.includes("fail")||pe.includes("Duplicate")?"error":"success"}`,children:pe}),re&&P.jsxs("div",{className:"row",style:{marginTop:16},children:[P.jsx("div",{className:"col-12",children:P.jsx("h3",{style:{color:"var(--brand)"},children:"Review & Edit"})}),[["Name","name"],["Designation","designation"],["Company","company"],["Number","number"],["Email","email"],["Website","site"]].map(([G,oe])=>P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:[G,P.jsx("input",{className:"input",value:re[oe]||"",onChange:Fe=>ce({...re,[oe]:Fe.target.value})})]})},oe)),P.jsx("div",{className:"col-12",children:P.jsxs("label",{children:["Address",P.jsx("textarea",{className:"input",rows:"3",value:re.address||"",onChange:G=>ce({...re,address:G.target.value})})]})}),P.jsx("div",{className:"col-12 actions",children:P.jsx("button",{className:"btn",onClick:pt,children:"Save"})})]}),I?.raw&&P.jsxs("div",{style:{marginTop:16},children:[P.jsx("h4",{children:"Raw Output"}),P.jsx("textarea",{className:"input",readOnly:!0,rows:"6",value:I.raw})]})]})})}function px(){const{token:g}=Wa(),[E,m]=K.useState([]),[A,C]=K.useState(""),w=async()=>{try{const M=await Pn("/api/ocr/history",{token:g});m(M)}catch(M){C("Failed to load: "+M.message)}};K.useEffect(()=>{w()},[]);const _=async M=>{if(window.confirm("Delete this record?"))try{await Pn(`/api/ocr/delete/${M}`,{method:"DELETE",token:g}),C("Deleted."),w(),setTimeout(()=>C(""),2e3)}catch(D){C(D.message)}};return P.jsx("div",{className:"container",children:P.jsxs("div",{className:"card",children:[P.jsx("h2",{style:{color:"var(--brand)"},children:"Saved Records"}),A&&P.jsx("div",{className:`notice ${A.includes("fail")?"error":"success"}`,children:A}),E.length===0?P.jsx("p",{className:"notice info",children:"No records yet."}):P.jsx("div",{style:{overflowX:"auto"},children:P.jsxs("table",{className:"table",children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Custom ID"}),P.jsx("th",{children:"Date"}),P.jsx("th",{children:"Event"}),P.jsx("th",{children:"Type"}),P.jsx("th",{children:"Name"}),P.jsx("th",{children:"Designation"}),P.jsx("th",{children:"Company"}),P.jsx("th",{children:"Number"}),P.jsx("th",{children:"Email"}),P.jsx("th",{children:"Website"}),P.jsx("th",{children:"Address"}),P.jsx("th",{children:"Actions"})]})}),P.jsx("tbody",{children:E.map(M=>P.jsxs("tr",{children:[P.jsx("td",{children:M.customId}),P.jsx("td",{children:new Date(M.createdAt).toLocaleDateString()}),P.jsx("td",{children:M.event}),P.jsx("td",{children:M.type}),P.jsx("td",{children:M.name}),P.jsx("td",{children:M.designation}),P.jsx("td",{children:M.company}),P.jsx("td",{children:M.number}),P.jsx("td",{children:M.email}),P.jsx("td",{children:M.site}),P.jsx("td",{children:M.address}),P.jsxs("td",{className:"actions",children:[P.jsx(Sr,{className:"btn",to:`/edit/${M._id}`,children:"Edit"}),P.jsx("button",{className:"btn danger",onClick:()=>_(M._id),children:"Delete"})]})]},M._id))})]})})]})})}function Cx(){const{id:g}=q2(),{token:E}=Wa(),[m,A]=K.useState(null),[C,w]=K.useState(""),_=ys(),M=async()=>{try{console.log("Fetching record for id:",g);const p=await Pn(`/api/ocr/${g}`,{token:E});console.log("Data received:",p),A(p)}catch(p){console.error("Error while loading:",p),w("Failed to load record: "+p.message),A({})}},D=async()=>{try{await Pn(`/api/ocr/update/${g}`,{method:"PUT",token:E,body:m}),w("Updated."),setTimeout(()=>{w(""),_("/history")},1200)}catch(p){w(p.message)}};return K.useEffect(()=>{M()},[g]),m?P.jsx("div",{className:"container",children:P.jsxs("div",{className:"card",children:[P.jsx("h2",{style:{color:"var(--brand)"},children:"Edit Record"}),C&&P.jsx("div",{className:`notice ${C.includes("fail")?"error":"success"}`,children:C}),P.jsxs("div",{className:"row",children:[P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Event",P.jsx("input",{className:"input",value:m.event||"",onChange:p=>A({...m,event:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Type",P.jsx("input",{className:"input",value:m.type||"",onChange:p=>A({...m,type:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Name",P.jsx("input",{className:"input",value:m.name||"",onChange:p=>A({...m,name:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Designation",P.jsx("input",{className:"input",value:m.designation||"",onChange:p=>A({...m,designation:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Company",P.jsx("input",{className:"input",value:m.company||"",onChange:p=>A({...m,company:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Number",P.jsx("input",{className:"input",value:m.number||"",onChange:p=>A({...m,number:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Email",P.jsx("input",{className:"input",value:m.email||"",onChange:p=>A({...m,email:p.target.value})})]})}),P.jsx("div",{className:"col-6",children:P.jsxs("label",{children:["Website",P.jsx("input",{className:"input",value:m.site||"",onChange:p=>A({...m,site:p.target.value})})]})}),P.jsx("div",{className:"col-12",children:P.jsxs("label",{children:["Address",P.jsx("textarea",{className:"input",rows:"3",value:m.address||"",onChange:p=>A({...m,address:p.target.value})})]})})]}),P.jsx("div",{className:"actions",children:P.jsx("button",{className:"btn",onClick:D,children:"Save"})})]})}):P.jsx("div",{className:"container",children:P.jsx("div",{className:"card",children:"Loading..."})})}function bx(){const{token:g,role:E}=Wa(),[m,A]=K.useState([]),[C,w]=K.useState(""),_=async()=>{try{const I=await Pn("/api/events");A(I)}catch(I){w(I.message)}};K.useEffect(()=>{_()},[]);const M=async()=>{const I=prompt("Event name:");if(I)try{await Pn("/api/events",{method:"POST",body:{name:I},token:g}),w("Added."),_()}catch(k){w(k.message)}},D=async I=>{const k=prompt("Rename event:",I.name);if(k)try{await Pn(`/api/events/${I._id}`,{method:"PUT",token:g,body:{name:k}}),w("Updated."),_()}catch(re){w(re.message)}},p=async I=>{if(window.confirm("Delete event?"))try{await Pn(`/api/events/${I}`,{method:"DELETE",token:g}),w("Deleted."),_()}catch(k){w(k.message)}};return E!=="admin"?P.jsx("div",{className:"container",children:P.jsx("div",{className:"card",children:"Forbidden"})}):P.jsx("div",{className:"container",children:P.jsxs("div",{className:"card",children:[P.jsx("h2",{style:{color:"var(--brand)"},children:"Manage Events"}),C&&P.jsx("div",{className:"notice success",children:C}),P.jsx("div",{className:"actions",style:{marginBottom:12},children:P.jsx("button",{className:"btn success",onClick:M,children:"+ Add Event"})}),m.length===0?P.jsx("p",{className:"notice info",children:"No events yet."}):P.jsxs("table",{className:"table",children:[P.jsx("thead",{children:P.jsxs("tr",{children:[P.jsx("th",{children:"Name"}),P.jsx("th",{children:"Actions"})]})}),P.jsx("tbody",{children:m.map(I=>P.jsxs("tr",{children:[P.jsx("td",{children:I.name}),P.jsxs("td",{className:"actions",children:[P.jsx("button",{className:"btn",onClick:()=>D(I),children:"Rename"}),P.jsx("button",{className:"btn danger",onClick:()=>p(I._id),children:"Delete"})]})]},I._id))})]})]})})}function Lo({children:g,roles:E}){const{token:m,role:A}=Wa();return m?E&&!E.includes(A)?P.jsx(qc,{to:"/",replace:!0}):g:P.jsx(qc,{to:"/login",replace:!0})}function Sx({children:g}){const{token:E}=Wa();return P.jsxs(P.Fragment,{children:[E&&P.jsx(Vg,{}),g]})}function vx(){return P.jsx(Gg,{children:P.jsx(Ig,{children:P.jsx(Sx,{children:P.jsxs(ug,{children:[P.jsx(br,{path:"/login",element:P.jsx(jg,{})}),P.jsx(br,{path:"/",element:P.jsx(Lo,{children:P.jsx(wx,{})})}),P.jsx(br,{path:"/history",element:P.jsx(Lo,{children:P.jsx(px,{})})}),P.jsx(br,{path:"/edit/:id",element:P.jsx(Lo,{children:P.jsx(Cx,{})})}),P.jsx(br,{path:"/admin/events",element:P.jsx(Lo,{roles:["admin"],children:P.jsx(bx,{})})}),P.jsx(br,{path:"*",element:P.jsx(qc,{to:"/",replace:!0})})]})})})})}A2.createRoot(document.getElementById("root")).render(P.jsx(c2.StrictMode,{children:P.jsx(vx,{})}));
